window.__require=function t(e,i,n){function a(s,r){if(!i[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){return a(e[s][1][t]||t)},u,u.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof __require&&__require,s=0;s<n.length;s++)a(n[s]);return a}({GameSocket:[function(t,e){"use strict";cc._RF.push(e,"006a28Wa51DvZWZzAfDGaMY","GameSocket"),t("SocketStruct"),new(t("dataClient"));var i=cc.systemEvent;cc.Class({ctor:function(){var t=arguments[0],e=arguments[1];this._map=t||{},this._debugName=e,this._uCheck=0},setonConnectSuc:function(t){this._connectCallback=t},setonClose:function(t){this._closeCallback=t},sendMsg:function(t,e){this.send(e)},connect:function(t){if(null!=this.wsConnection){if(this.wsConnection.url!=t)return void this.close(function(){cc.log("\u65ad\u5f00\u8fde\u63a5:"+(this.wsConnection&&this.wsConnection.url||"")),this.wsConnection=null,this._connect(t)}.bind(this));switch(this.wsConnection.readyState){case WebSocket.CONNECTING:return void cc.warn("[WARNING] The socket is connecting");case WebSocket.OPEN:return void cc.warn("[WARNING] The socket is connecting, please wait");case WebSocket.CLOSING:return void cc.warn("[WARNING] The socket is closing, please wait.")}}this._connect(t)},reConnect:function(){var t=this;return this.isconnect()?(this._isReconnecting=!1,!0):!!this._lastConnectUrl&&(this._isReconnecting?(setTimeout(function(){t._isReconnecting=!1,t.reConnect()},2e3),!0):(uiFunc.loadingJiaZaiUI(!1),this._isReconnecting=!0,this.connect(this._lastConnectUrl),!0))},_connect:function(t){this.wsConnection=new WebSocket(t),this.wsConnection.onopen=this.onOpen.bind(this),this.wsConnection.onmessage=this.onMessage.bind(this),this.wsConnection.onclose=this.onClose.bind(this),this.wsConnection.onerror=this.onError.bind(this),this.wsConnection.binaryType="arraybuffer"},addDataHandler:function(t,e,n){i.on(this._debugName+t,n.bind(e),e)},close:function(t){return null!=this.wsConnection&&this.wsConnection.readyState!=WebSocket.CLOSED&&this.wsConnection.readyState!=WebSocket.CLOSING&&(this.wsConnection.onclose=t||function(){cc.log("\u65ad\u5f00\u8fde\u63a5:"+(this.wsConnection&&this.wsConnection.url||"")),this.wsConnection=null}.bind(this),this.wsConnection.close(),!0)},disconnect:function(){this.close()},isconnect:function(){return this.wsConnection&&this.wsConnection.readyState==WebSocket.OPEN},onOpen:function(t){console.log("Socket onOpen",JSON.stringify(t)),this._isReconnecting=!1,cc.log("\u670d\u52a1\u5668\u5df2\u8fde\u63a5:",this.wsConnection&&this.wsConnection.url||""),this._lastConnectUrl=this.wsConnection&&this.wsConnection.url,"function"==typeof this._connectCallback&&this._connectCallback()},onMessage:function(t){var e=function(t){var e;console.log("socket rev:",t);try{e=t&&JSON.parse(t),i.emit(this._debugName+e.ws_code,e)}catch(t){}}.bind(this),n=t.data;if("object"==typeof n&&n.size){var a=new FileReader;a.readAsBinaryString(n),a.onload=function(t){t.target.readyState==FileReader.DONE&&(n=a.result,e(n))}}else if("string"==typeof n)e(n);else if("object"==typeof n&&n.byteLength){var o=String.fromCharCode.apply(null,new Uint8Array(n));e(o)}else console.log("\u4e0d\u652f\u6301\u7684websocket\u8fd4\u56de\u7c7b\u578b"+typeof n),console.log(n)},onClose:function(t){var e=cc.js.formatStr("Websocket connection has been closed,  code: %d, reason: %s, wasClean: %s",t.code,t.reason,t.wasClean);cc.log(e),console.log(JSON.stringify(e)),this.wsConnection=null,this._closeCallback&&this._closeCallback()},onError:function(t){console.log("Socket error",JSON.stringify(t)),this.wsConnection=null,this._closeCallback&&this._closeCallback()},send:function(t){try{for(var e=0;e<t.length;e++)t.charCodeAt(e);if(null==this.wsConnection||this.wsConnection.readyState!=WebSocket.OPEN)return cc.log("Socket is not connect"),void this.connect(webData.wscodeAddress);for(var i=new ArrayBuffer(t.length),n=new Uint8Array(i),a=0;a<t.length;a++)n[a]=t.charCodeAt(a);this.wsConnection.send(i)}catch(t){console.log(t.message)}}}),cc._RF.pop()},{SocketStruct:"SocketStruct",dataClient:"dataClient"}],Global:[function(t,e){"use strict";cc._RF.push(e,"49ba9gJthlMwpG5owZaRmhV","Global"),window.ISFORMAL=!0,window.ISLOCAL=1,window.B_REVIEW_VER_IOS=!1,window.GAME_VER_IOS=1,window.G_REWARD_TYPE=cc.Enum({REWARD_TYPE_RED:1,REWARD_TYPE_MONEY:2,REWARD_TYPE_RED_PROCESS:3}),window.G_OPEN_RED_TYPE=cc.Enum({RED_AIR_DROP_REWARD:1,RED_RANDOM_REWARD:2,RED_UPLEVEL_REWARD:3,RED_WAR_RESULT_REWARD:4,RED_SIGN_RWWARD:5,RED_DRAW_REWARD:6,RED_ONLINE_REWARD:7,RED_TASK_REWARD:8,RED_FREE_REWARD:9,RED_CAOZAO_REWARD:10,RED_DIAOCHAN_REWARD:11,RED_GUANYU_REWARD:12,RED_KONGMING_REWARD:13,RED_LIUBEI_REWARD:14,RED_SUNQUAN_REWARD:15,RED_SPRING_COOL_REWARD:16,RED_AUTO_MERGE_REWARD:17,RED_SPRING_COOL_REWARD_ACCEPT:18,RED_LIMIT_REWARD:19,RED_VIDEO_REWARD:20}),window.G_WALLET_MONEY_TYPE=cc.Enum({MONEY_BOX_REWARD:1,MONEY_LOTTERY_REWARD:2,MONEY_BOX_REWARD_Ten:3,MONEY_FU_REWARD:4}),window.G_MIN_RED_TYPE={1:0,3:1,7:2,RED_WAR_RESULT_REWARD_WIN:3,RED_WAR_RESULT_REWARD_LOSE:4,2:5},window.G_VIDEO_TYPE={8:"b",15:"a",28:"c"},window.G_VIDEO_INTER={8:!0,15:!0,28:!0},window.redSetting={no_video_airdrop:100,video_airdrop:100,red_spring:100,online:100,down_red:100,war_win:100,merge:100,kill_boss:100,wujiang_gift:100,online_extra:100,war_win_extra:100},window.G_RED_CONFIG=cc.Enum({RED_NO_VIDER_AIR:"no_video_airdrop",RED_VIDER_AIR:"video_airdrop",RED_FOUNTAAIN:"red_spring",RED_ONLINE:"online",RED_HEAVEN:"down_red",RED_BATTLE_WIN:"war_win",RED_MEAGE:"merge",RED_KELL_BOSS:"kill_boss",RED_HERO_REWARD:"wujiang_gift",RED_ONLINE_EXTRA:"online_extra",RED_WAR_WIN_EXTRA:"war_win_extra"}),window.G_OPEN_RED_TYPE_CN={1:"\u201c\u7a7a\u6295\u5956\u52b1\u201d",2:"\u201c\u798f\u5c06\u9001\u793c\u201d",3:"\u201c\u5347\u7ea7\u7ea2\u5305\u201d",4:"\u201c\u901a\u5173\u5956\u52b1\u201d",5:"\u201c\u7b7e\u5230\u201d",6:6,7:"\u201c\u5728\u7ebf\u5956\u52b1\u201d",8:"\u201c\u4efb\u52a1\u5956\u52b1\u201d",9:9,10:"\u201c\u798f\u5c06\u9001\u793c\u201d",11:"\u201c\u798f\u5c06\u9001\u793c\u201d",12:"\u201c\u798f\u5c06\u9001\u793c\u201d",13:"\u201c\u798f\u5c06\u9001\u793c\u201d",14:"\u201c\u798f\u5c06\u9001\u793c\u201d",15:"\u201c\u798f\u5c06\u9001\u793c\u201d"},window.G_CLOSE_DELAY_TIME=1.5,cc._RF.pop()},{}],HTTP:[function(t,e){"use strict";cc._RF.push(e,"716a0zUCJ9Dj5+9zcnX1Akf","HTTP"),window.HTTP={HTTPTimeout:5e3,maxFailTime:1,fileList:{},GET:function(t,e,i,n,a){if(a){var o={};Object.keys(e).sort().forEach(function(t){o[t]=e[t]}),e=o}if(this.maxFailTime=window.HTTPS_TIMES||this.maxFailTime,"string"==typeof t){var s=t+"?",r=!1;console.log(t+JSON.stringify(e));var c=this.encodeTab(e);s+=c,a&&(s+="&"+this.encodeTab({sign:MD5(c+webData.secretKey)}));var l=!1,u=function(a){l||(l=!0,this.fileList[s]||(this.fileList[s]=0),this.fileList[s]++,this.fileList[s]>=this.maxFailTime?(n&&!r&&(r=!0,n(a)),this.fileList[s]=0):this.GET(t,e,i,n))}.bind(this),d=function(){l=!0,this.fileList[s]=0}.bind(this),h=(new Date).Format("m:s.S");console.log(h+":get:",s);var _=cc.loader.getXMLHttpRequest();_.onreadystatechange=function(){if(4===_.readyState)if(_.status>=200&&_.status<300){if(i){var t=_.response;console.log("http rev:",t);try{"ok"==(e=t&&JSON.parse(t)).code?i(e):u(e)}catch(t){console.log("HTTP error:"+t),u()}}d()}else{t=_.response,console.log("rev fail:",t);var e=t&&JSON.parse(t);u(e),console.log("rev error:",s,_.readyState,_.status)}},_.onerror=function(t){console.log("[\u8fde\u63a5\u5931\u8d25]"),console.log(t),u()},_.open("GET",s,!0),_.timeout=this.HTTPTimeout,_.send(),cc.sys.isNative&&setTimeout(function(){!l&&u()},this.HTTPTimeout)}else console.log("url mush be a string",t)},GET2:function(t,e,i){var n=!1,a=function(){n||(n=!0,i())}.bind(this),o=function(){n=!0}.bind(this),s=cc.loader.getXMLHttpRequest();s.onreadystatechange=function(){if(4===s.readyState)if(s.status>=200&&s.status<300){if(e){var i=s.response;console.log("rev:",i),e(i)}o()}else a(),console.log("rev error:",t,s.readyState,s.status)},s.onerror=function(t){console.log("[\u8fde\u63a5\u5931\u8d25]"),console.log(t),a()},s.open("GET",t,!0),s.timeout=this.HTTPTimeout,s.send()},POST:function(t,e,i,n){var a=!1,o=function(){a||(a=!0,console.log(t,"[\u8fd4\u56de\u5931\u8d25]"),n&&n())},s=this.encodeTab(e);if(console.log("POST url:",t,e),s.length>4e3)console.log("\u6570\u636e\u8fc7\u957f,\u53d1\u9001\u5931\u8d25");else{var r=cc.loader.getXMLHttpRequest();r.onreadystatechange=function(){if(4===r.readyState)if(r.status>=200&&r.status<300){var t=r.responseText;if(console.log("http \u8fd4\u56de\u4fe1\u606f",t),i){var e=t;try{e=JSON.parse(t)}catch(t){}i(e)}}else o()},r.onerror=function(){o()},r.open("POST",t,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.timeout=this.HTTPTimeout,r.send(s)}},encodeTab:function(t){var e="";for(var i in t)null!==t[i]&&void 0!==t[i]&&(e=e+i+"="+this.urlencode(t[i])+"&");return e.slice(0,-1)},concatTab:function(t){var e="";for(var i in t)e=e+i+"="+t[i]+"&";return e.slice(0,-1)},urlencode:function(t){return t=(t+"").toString(),encodeURIComponent(t).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},GET3:function(t,e,i,n,a){if(a){var o={};Object.keys(e).sort().forEach(function(t){o[t]=e[t]}),e=o}if(this.maxFailTime=window.HTTPS_TIMES||this.maxFailTime,"string"==typeof t){var s=t+"?",r=!1;console.log(t+JSON.stringify(e));var c=this.encodeTab(e);s+=c,a&&(s+="&"+this.encodeTab({sign:MD5(c+webData.secretKey)}));var l=!1,u=function(a){l||(l=!0,this.fileList[s]||(this.fileList[s]=0),this.fileList[s]++,this.fileList[s]>=this.maxFailTime?(n&&!r&&(r=!0,n(a)),this.fileList[s]=0):this.GET(t,e,i,n))}.bind(this),d=function(){l=!0,this.fileList[s]=0}.bind(this),h=(new Date).Format("m:s.S");console.log(h+":GET3:",s);var _=cc.loader.getXMLHttpRequest();_.onreadystatechange=function(){if(4===_.readyState)if(_.status>=200&&_.status<300){if(i){var t=_.response;console.log("http rev:",t);try{"ok"==(e=t&&JSON.parse(t)).code?i(e):u(e)}catch(t){console.log("HTTP error:"+t),u()}}d()}else{t=_.response;try{var e=t&&JSON.parse(t);u(e),console.log("rev error:",s,_.readyState,_.status)}catch(t){u()}}},_.onerror=function(t){console.log("[\u8fde\u63a5\u5931\u8d25]"),console.log(t),u()},_.open("GET",s,!0),_.timeout=this.HTTPTimeout,_.setRequestHeader("wToken",nativeData.setSignData(MD5(c+webData.secretKey))),_.send(),cc.sys.isNative&&setTimeout(function(){!l&&u()},this.HTTPTimeout)}else console.log("url mush be a string",t)},POST3:function(t,e,i,n,a){if(a){var o={};Object.keys(e).sort().forEach(function(t){o[t]=e[t]}),e=o}if("string"==typeof t){var s=t+"?";console.log(t+JSON.stringify(e));var r=this.encodeTab(e);s+=r,a&&(s+="&"+this.encodeTab({sign:MD5(r+webData.secretKey)}));var c=!1,l=function(){c||(c=!0,console.log(s,"[\u8fd4\u56de\u5931\u8d25]"),n&&n())},u=this.encodeTab(e);console.log("POST url:",t,e);var d=cc.loader.getXMLHttpRequest();d.onreadystatechange=function(){if(4===d.readyState)if(d.status>=200&&d.status<300){var t=d.responseText;if(console.log("http \u8fd4\u56de\u4fe1\u606f",t),i){var e=t;try{e=JSON.parse(t)}catch(t){}i(e)}}else l()},d.onerror=function(){l()},d.open("POST",s,!0),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.setRequestHeader("wToken",nativeData.setSignData(s)),d.timeout=this.HTTPTimeout,d.send(u)}else console.log("url mush be a string",t)}},cc._RF.pop()},{}],NewDataMgr:[function(t,e,i){"use strict";cc._RF.push(e,"627ca41mj1Obb+cv5+ao/1c","NewDataMgr");var n=this&&this.__decorate||function(t,e,i,n){var a,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(s=(o<3?a(s):o>3?a(e,i,s):a(e,i))||s);return o>3&&s&&Object.defineProperty(e,i,s),s};Object.defineProperty(i,"__esModule",{value:!0}),Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[i]:("00"+e[i]).substr((""+e[i]).length)));return t};var a=cc._decorator,o=a.ccclass,s=(a.property,function(){function t(){}return t.localLogin=function(t){var e=this;init(function(i){if(null!=i){moneyStore.getInstance().userDataInit=!1;var n=0,a=!1;cc.sys.localStorage.getItem("gameData")&&((n=JSON.parse(cc.sys.localStorage.getItem("gameData")).version)&&null!=n&&null!=n||(n=0)),0!=Object.keys(i.data).length?(console.log(i.data.version,n),i.data.version?i.data.version>n?(console.log("----[\u6570\u636e]----\u670d\u52a1\u5668\u6570\u636e"),window.gameData.setSaveData(JSON.stringify(i.data))):(console.log("----[\u6570\u636e]----\u672c\u5730\u6570\u636e"),a=!0,window.gameData.setSaveData(cc.sys.localStorage.getItem("gameData"))):(console.log("----[\u6570\u636e]----\u670d\u52a1\u5668\u6570\u636e"),window.gameData.setSaveData(JSON.stringify(i.data)))):cc.sys.localStorage.getItem("gameData")&&(console.log("----[\u6570\u636e]----\u672c\u5730\u6570\u636e"),a=!0,window.gameData.setSaveData(cc.sys.localStorage.getItem("gameData"))),new Date(new Date(1e3*moneyStore.getInstance().lastHeartTime).setHours(24,0,0,0)).getTime()<new Date(new Date(1e3*moneyStore.getInstance().loginServerTime).setHours(24,0,0,0)).getTime()?window.gameData.initDay_data():console.log("\u540c\u4e00\u5929"),window.gameData.inituiDraw(),moneyStore.getInstance().userDataInit=!0,cc.game.on(cc.game.EVENT_HIDE,window.gameData.save),a&&e.uoDataToCloud(),t(!0)}else t(!1)},"doKlzd",Platform.XingYun)},t.uoDataToCloud=function(){var t=window.gameData.getSaveData(!0);t.maxScore=window.gameData.current_check_point,moneyStore.getInstance().heartBeat(t)},n([o],t)}());i.default=s,window.NewDataMgr=s,cc._RF.pop()},{}],SocketStruct:[function(t,n){"use strict";var a,o;cc._RF.push(n,"5dfeeEvy/NH8Z1mkw0ehw3C","SocketStruct"),a="undefined"!=typeof window?window:void 0,o=function(){var t={decode:function(e,i,n){var a={};if("string"!=typeof e||void 0===i)return cc.log("data type is",typeof e),[a,0];var o=0;if("object"==typeof n){for(var s=n[0],r=n.length>2?n.replace(0):n[1],c=0;c<s;c++){var l=(p=t.decode(e,i,r))[0],u=p[1];a[Object.keys(a).length]=l,e=e.substr(u),o+=u}return[a,o]}if("number"==typeof n&&n>=1){for(var d=0;d<n;d++)l=(p=t.decode(e,i))[0],u=p[1],a[Object.keys(a).length]=l,e=e.substr(u),o+=u;return[a,o]}for(var h in i){var _=i[h],f=_.num;if("string"==typeof _.num&&(f=Number(a[_.num])),t.isStructData(_.type)){var p=t.decode(e,_.type,f);a[_.key]=p[0],u=p[1]}else p=t.readByte(e,_.type,f),a[_.key]=p[0],u=p[1];e=e.substr(u),o+=u}return 0===n&&(a={}),[a,o]},encode:function(e,i,n){var a="";if(void 0===i||void 0===e)return a;if("number"==typeof n&&n>=1){for(var o=0;o<n;o++)a+=t.encode(e[o],i);return a}for(var s in i){var r=i[s],c=r.num;"string"==typeof c&&(c=e[c]),a+=t.isStructData(r.type)?t.encode(e[r.key],r.type,c):t.writeByte(e[r.key],r.type,c)}return a},readByte:function(e,i,n){if("object"==typeof n){for(var a=0,o=[],s=n.slice(0),r=s.shift(),c=i.size,l=0;l<s.length;l++)c*=s[l];1===s.length&&(s=s[0]);for(var u=0;u<r;u++){var d=t.readByte(e.substr(u*c),i,s);o[Object.keys(o).length]=d[0],a+=d[1]}return[o,a]}if(t.isStringData(i)){if(0===n)return["",0];var h=n||1,_=e.substr(0,n),f=_.indexOf("\0");f>-1&&(_=_.substr(0,f));for(var p=new ArrayBuffer(_.length),g=new Uint8Array(p),m=0;m<_.length;m++)g[m]=_.charCodeAt(m);return[_=t.decode_utf8(g),h]}return t.isunSignedNumData(i)?[t.bytetoUInt(e,i.size,n),i.size*(n||1)]:t.isNumData(i)?[t.bytetoInt(e,i.size,n),i.size*(n||1)]:t.isBoolData(i)?[t.bytetoBool(e,i.size,n),i.size*(n||1)]:["",0]},encode_utf8:function(t){var e,i=unescape(encodeURIComponent(t)),n=new Uint8Array(i.length);for(e=0;e<i.length;e+=1)n[e]=i.charCodeAt(e);return n},decode_utf8:function(t){var e=String.fromCharCode.apply(null,t);return decodeURIComponent(escape(e))},writeByte:function(e,i,n){if(void 0!==i){if(!t.isStructData(i)){if(t.isStringData(i)){var a=String(e),o=t.encode_utf8(a);if((a=String.fromCharCode.apply(null,o)).length>=n)return a.substr(0,n-1)+String.fromCharCode(0);for(;a.length<n;)a+=String.fromCharCode(0);return a}return t.isNumData(i)?t.inttoByte(e,i.size,n):t.isunSignedNumData(i)?t.uinttoByte(e,i.size,n):t.isBoolData(i)?t.booltoByte(e,i.size,n):void 0}cc.warn("cannt read strucct here")}else console.log("dataType undefined")},booltoByte:function(t,e,i){var n="";if(void 0===i||1===i)n=String.fromCharCode(t?1:0);else for(;j<=i;j++)n+=String.fromCharCode(t[0]?1:0);return n},bytetoBool:function(e,i,n){return function t(e){if("object"!=typeof e)return 0!==e;var i={};for(var n in e){var a=e[n];i[n]=t(a)}return i}(t.bytetoInt(e,i,n))},isStructData:function(t){return Array.isArray(t)},isNumData:function(t){return"num"===t.type},isunSignedNumData:function(t){return"unnum"===t.type},isStringData:function(t){return"string"===t.type},isBoolData:function(t){return"bool"===t.type},getStructName:function(t){if(void 0===t)return"";for(var e in MSG_GAME_STRUCT)if(MSG_GAME_STRUCT[e]===t)return e;return""},uinttoByte:function(e,i,n){if("number"==typeof n&&"object"==typeof e){for(var a="",o=0;o<=n-1;o++)a+=t.uinttoByte(e[o],i);return a}if(void 0===(e=Number(e)))return"";for(a="";i>0;){i-=1;var s=Math.pow(256,i);a=String.fromCharCode(Math.floor(e/s))+a,e%=s}return a},bytetoUInt:function(e,i,n){if("string"!=typeof e||e.length<i)return 0;if(void 0===n){for(var a=0,o=0;o<i;o++)a+=e.charCodeAt(o)*Math.pow(256,o);return a}for(var s={},r=0;r<n;r++){a=0;var c=r*i;a=t.bytetoUInt(e.substr(c,c+i),i),s[Object.keys(s).length]=a}return s},bytetoInt:function(e,i,n){if("string"!=typeof e||""===e||e.length<i)return 0;if(void 0===n){var a=Math.floor(e.charCodeAt(i-1)/128);return r=t.bytetoUInt(e,i,n),0===a?r:r-Math.pow(2,8*i)}for(var o={},s=0;s<n;s++){var r=0,c=s*i;r=t.bytetoInt(e.substr(c,c+i),i),o[Object.keys(o).length]=r}return o},inttoByte:function(e,n,a){if("number"==typeof e&&"object"==typeof e){var o="";for(i=0;i<=a-1;i++)o+=t.inttoByte(e[i],n);return o}return void 0===(e=Number(e))?"":(e<0&&(e=Math.pow(2,8*n)+e),t.uinttoByte(e,n,a))}};return t},"function"==typeof define&&define.amd?define([],o):"function"==typeof requireJS&&"object"==typeof e&&e&&e.exports?e.exports=o():a.SocketStruct=a.SocketStruct||o(),cc._RF.pop()},{}],UICtrl:[function(t,e){"use strict";cc._RF.push(e,"3d461uJcj9DK7I6iY11obNP","UICtrl"),window.UICtrl={uiList:[],openingUI:{},perfabs:{}},UICtrl.openUI=function(t,e){var i=this;if(console.log("[openUI]",t),this.openingUI[t])cc.warn("\u7a97\u53e3\u6b63\u5728\u6253\u5f00\u4e2d:"+t);else{this.openingUI[t]=!0;var n=function(i){var n=i.getComponent("baseNode");e&&e(n),n&&n.show(),this.openingUI[t]=null}.bind(this);cc.resources.load("ui/"+t,function(e,a){if(e)i.openingUI[t]=null,console.log(e.message||e);else{var o=cc.instantiate(a),s=o.getComponent("baseNode");if(s&&s.isDlg){var r=cc.find("LayerDlg",cc.Canvas.instance.node);o.parent=r}else{var c=cc.find("LayerNode",cc.Canvas.instance.node);o.parent=c}o.pathName=t,UICtrl.uiList.push(o),n(o)}})}},UICtrl.createUI=function(t,e){var i=this;cc.resources.load(t,function(n,a){if(n)console.log(n.message||n);else{i.perfabs[t]=a;var o=cc.instantiate(a);e(o)}})},UICtrl.closeUI=function(t){for(var e=UICtrl.uiList.length-1;e>=0;e--){var i=UICtrl.uiList[e];if(i&&(i.pathName===t||"object"==typeof t&&i===t.node)){var n=i.getComponent("baseDlg");return n&&n.playOut?void n.playOutAni(function(){i.destroy(),UICtrl.uiList.splice(e,1)}):(i.destroy(),void UICtrl.uiList.splice(e,1))}}console.log("UICtrl.closeUI fail not found ui "+t)},UICtrl.closeAllDlg=function(t){for(var e=UICtrl.uiList.length-1;e>=0;e--){var i=UICtrl.uiList[e];if(!i||i.pathName!==t&&("object"!=typeof t||i!==t.node)){var n=i.getComponent("baseDlg");n&&n.hide&&(console.log("[\u5173\u95ed\u6240\u6709\u7a97\u53e3]",i.name),i.destroy(),UICtrl.uiList.splice(e,1))}}},UICtrl.findUI=function(t,e){for(var i=UICtrl.uiList.length-1;i>=0;i--){var n=UICtrl.uiList[i];if(n&&n.pathName===t)return void 0!==e?n.getComponent("baseNode"):n}},UICtrl.clearUI=function(t){this.findUI(t)&&this.closeUI(t)},UICtrl.destroyUI=function(t){for(var e=UICtrl.uiList.length-1;e>=0;e--){var i=UICtrl.uiList[e];if(i&&(i.pathName===t||"object"==typeof t&&i===t.node))return i.destroy(),void UICtrl.uiList.splice(e,1)}},UICtrl.closeAllNode=function(t){for(var e=UICtrl.uiList.length-1;e>=0;e--){var i=UICtrl.uiList[e];if(!i||i.pathName!==t&&("object"!=typeof t||i!==t.node)){var n=i.getComponent("baseNode");n&&n.hide&&(console.log("[\u5173\u95ed\u6240\u6709\u754c\u9762]",i.name),i.destroy(),UICtrl.uiList.splice(e,1))}}},UICtrl.findUICount=function(){return UICtrl.uiList.length},cc._RF.pop()},{}],audioData:[function(t,e){"use strict";cc._RF.push(e,"a8369KAdr1CspN7IwfhANA1","audioData");var i=cc.Enum({Main:1,Loading:2,Instance:3,Roller:4}),n=t("csvData"),a=cc.Class({extends:n,name:"audioData",properties:{_fileName:{override:!0,default:"video"},_clipBuffer:{type:Map,default:null},_playEffetTime:0,_InInstanceZones:i.Main,_StopAllSound:!1},ctor:function(){this._clipBuffer=new Map},switchMusic:function(t){B_REVIEW_VER_IOS?iosGameData.set("settingMusic",t):gameData.set("settingMusic",t),1==t?this.playBGM():this.stopBGM()},switchEffect:function(t){B_REVIEW_VER_IOS?iosGameData.set("settingEffect",t):gameData.set("settingEffect",t)},switchVibrate:function(t){B_REVIEW_VER_IOS?iosGameData.set("settingVibrate",t):gameData.set("settingVibrate",t)},switchMainZone:function(){this._InInstanceZones=i.Main,cc.audioEngine.stopAllEffects(),this.playBGM()},switchTabZone:function(){this._InInstanceZones=i.Roller,cc.audioEngine.stopAllEffects(),this.playBGM()},switchGameZone:function(){this._InInstanceZones=i.Instance,cc.audioEngine.stopAllEffects(),this.playBGM()},StopAllSound:function(){this._StopAllSound=!0,cc.audioEngine.stopAll(),cc.game.pause()},ResumeAllSound:function(){this._StopAllSound=!1,cc.game.resume(),this.playBGM()},playBGM:function(){var t,e=this;console.log("[\u97f3\u4e50]\u64ad\u653e"),B_REVIEW_VER_IOS&&0==iosGameData.settingMusic||!B_REVIEW_VER_IOS&&0==gameData.settingMusic||(this.stopBGM(),t=this._getPathByID(4),cc.resources.load(t,function(i,n){i?console.log(i.message||i):(e._clipBuffer.set(t,n),cc.audioEngine.playMusic(n,!0))}))},stopBGM:function(){cc.audioEngine.stopMusic(),console.log("[\u97f3\u4e50]\u5173\u95ed")},playSoundByID:function(t,e){var i=this._getPathByID(t);e?this.playSoundByPath(i,!1):this.playSoundByPath(i,!0)},perLoadSoundByID:function(t){var e=this,i=this._getPathByID(t);this._clipBuffer.get(i)||cc.resources.load(i,cc.AudioClip,function(t,n){t?console.log(t.message||t):e._clipBuffer.set(i,n)})},playSoundByPath:function(t,e){var i=this;if(t&&!this._StopAllSound&&(!B_REVIEW_VER_IOS||0!=iosGameData.settingEffect)&&(B_REVIEW_VER_IOS||0!=gameData.settingEffect)){var n=Date.now();if(e||!(n-this._playEffetTime<300)){this._playEffetTime=n;var a=this._clipBuffer.get(t);cc.isValid(a)?cc.audioEngine.playEffect(a,!1):cc.resources.load(t,cc.AudioClip,function(e,n){e?console.log(e.message||e):(i._clipBuffer.set(t,n),cc.audioEngine.playEffect(n,!1))})}}},_getPathByID:function(t){var e=this.getValueByIDKey(t,"link");if(e)return e.indexOf(".")>0&&(e=e.substr(0,e.indexOf("."))),"audio/"+e.replace(/\\/g,"/");cc.warn("\u58f0\u97f3\u672a\u627e\u5230id = "+t)},onPauseMuisc:function(){B_REVIEW_VER_IOS&&1==iosGameData.settingMusic?cc.audioEngine.pauseMusic():1==gameData.settingMusic&&cc.audioEngine.pauseMusic()},onResureMusic:function(){B_REVIEW_VER_IOS&&1==iosGameData.settingMusic?cc.audioEngine.resumeMusic():1==gameData.settingMusic&&cc.audioEngine.resumeMusic()}});window.audioData=new a,cc._RF.pop()},{csvData:"csvData"}],baseData:[function(t,e){"use strict";cc._RF.push(e,"5772adIm+1FL5RQhchSOYfm","baseData");var i="",n=void Date.now(),a=0;cc.Class({properties:{_eventHandlers:{default:{}},_serverData:{default:{}},_dataTime:null,_serverTime:void 0,_hasInitServer:!0,_hasChangeData:!0,_classIndex:0,_dataEvent:void 0,_debugDay:void 0,__fireAll:!1,_importantKey:void 0},ctor:function(){if(this._classIndex=a++,this._dataEvent=new cc.EventTarget,void 0===n){var t=this._getDay();t===this.readValue("dayStr")?n=!1:(this.storeValue("dayStr",t),n=!0)}},_getDay:function(){return this._debugDay||Math.floor(Date.now()/24/3600/1e3)},release:function(){for(var t in this._dataEvent&&this._dataEvent.removeAll(),this._dataEvent=null,this._eventHandlers)if(this._eventHandlers[t]){for(var e in this._eventHandlers[t]){var i=this._eventHandlers[t][e];i&&i.off(t)}delete this._eventHandlers[t]}},setSaveKey:function(t){i=t},getSaveKey:function(){return i},saveAllData:function(){cc.game.emit("_saveAllKey")},delAllData:function(t){cc.game.emit("_delAllKey",t)},clearAllData:function(){cc.game.emit("_clearAllKey")},set:function(t,e,i){if(e=i?i(e):e,!this.__fireAll&&this[t]===e&&"object"!=typeof e)return e;var n=this[t];return this[t]=e,this.onKeyChange(t,e,n),e},send:function(t,e,i){var n=e||0;n=i?i(n):n,this[t]=n,this.onKeyChange(t,n,void 0)},onKeyChange:function(t,e,i){var n=this.__cid__+this._classIndex+t;if(this._eventHandlers[n])for(var a in this._eventHandlers[n]){var o=this._eventHandlers[n][a];o&&o.emit(n,e,i)}this._dataEvent&&this._dataEvent.emit(n,e,i)},add:function(t,e){return this.plus(t,e)},sets:function(t){for(var e in t)this.set(e,t[e])},setWithKey:function(t,e,i,n){n?null!=typeof this[e]&&null!=typeof this[e][i]&&null!=typeof this[e][i][n]?(this[e][i][n]=t,this.set(e,this[e])):cc.warn(e+"-"+i+"-"+n+"\u4e0d\u5b58\u5728"):i?null!=typeof this[e]&&null!=typeof this[e][i]?(this[e][i]=t,this.set(e,this[e])):cc.warn(e+"-"+i+"\u4e0d\u5b58\u5728"):this.set(e,t)},getWithKey:function(t,e,i){if(i){if(null!=typeof this[t]&&null!=typeof this[t][e])return this[t][e][i];cc.warn(t+"-"+e+"\u4e0d\u5b58\u5728")}else{if(!e)return this[key];if(null!=typeof this[t])return this[t][e];cc.warn(t+"\u4e0d\u5b58\u5728")}},get:function(t){return this[t]},getAll:function(){return this},plus:function(t,e){var i=Number(this.get(t)),n=Number(e);i||(i=0),n||(n=0);var a=i+n;return this.set(t,a),a},once:function(t,e,i){if("function"==typeof e)if(i){i=i.node||i;var n=this.__cid__+this._classIndex+t;i.once(n,e,i),this._eventHandlers[n]=this._eventHandlers[n]||[];var a=!1;for(var o in this._eventHandlers[n])if(i==this._eventHandlers[n][o]){a=!0;break}a||this._eventHandlers[n].push(i)}else this._dataEvent&&this._dataEvent.once(this.__cid__+this._classIndex+t,e)},on:function(t,e,i){if("function"==typeof e){this.onChange(t,e,i);var n=this.get(t);void 0!==n&&e(n)}},onChange:function(t,e,i){if("function"==typeof e)if(i){i=i.node||i;var n=this.__cid__+this._classIndex+t;i.on(n,e,i),this._eventHandlers[n]=this._eventHandlers[n]||[];var a=!1;for(var o in this._eventHandlers[n])if(i==this._eventHandlers[n][o]){a=!0;break}a||this._eventHandlers[n].push(i)}else this._dataEvent&&this._dataEvent.on(this.__cid__+this._classIndex+t,e)},off:function(t,e,i){i?(i=i.node||i,e?i.off(this.__cid__+this._classIndex+t,e,i):i.targetOff(this.__cid__+this._classIndex+t)):this._dataEvent&&this._dataEvent.off(this.__cid__+this._classIndex+t,e)},undefinedOrSet:function(t,e,i){util.isNull(this.get(t))&&this.set(t,e,i)},save:function(t){if(this.__cid__&&""!=this.__cid__){try{var e=this.get(t);null==e||"undefined"===e||"null"===e?cc.sys.localStorage.removeItem(i+this.__cid__+t):cc.sys.localStorage.setItem(i+this.__cid__+t,JSON.stringify(e))}catch(t){console.log("\u4fdd\u5b58\u6e38\u620f\u6570\u636e\u5931\u8d25")}return e}console.error("\u5fc5\u987b\u8981\u6709\u7c7b\u540d\u624d\u80fd\u4fdd\u5b58\u503c")},read:function(t,e){if(this.__cid__&&""!=this.__cid__){var n;if(""!==(n=cc.sys.localStorage.getItem(i+this.__cid__+t))&&void 0!==n)try{null==(n=JSON.parse(n))&&(n=e)}catch(e){console.error(t+" "+n),console.error(e)}else n=void 0;return n}console.error("\u5fc5\u987b\u8981\u6709\u7c7b\u540d\u624d\u80fd\u4fdd\u5b58\u503c")},del:function(t,e){cc.sys.localStorage.removeItem((e||i)+this.__cid__+t)},autoReadSave:function(t,e){var i=this;this.autoKey=this.autoKey||{},this.onlyLocal=this.onlyLocal||{},e&&(this.onlyLocal[t]=!0);var n=!0,a=this.read(t);if(void 0!==a?this.set(t,a):n=null,!this.autoKey[t])return this.autoKey[t]=!0,this.on(t,function(){n?n=null:(this.save(t),this.autoKey[t]&&!this.onlyLocal[t]&&"_dataTime"!=t&&"_serverTime"!=t&&(this._hasChangeData=!0))}.bind(this)),cc.game.on(cc.game.EVENT_HIDE,function(){i.save(t)}),cc.game.on("_saveAllKey",function(){i.save(t)}),cc.game.on("_delAllKey",function(e){i.del(t,e)}),cc.game.on("_clearAllKey",function(){i.set(t,void 0)}),a},autoReadSaveDaily:function(t,e){this.autoReadSave(t,!0),(n||void 0===this.get(t))&&this.set(t,e)},getIsAutoSave:function(t){return this.autoKey&&this.autoKey[t]},storeValue:function(t,e){try{null==e&&(e=this.get(t)),e=JSON.stringify(e),cc.sys.localStorage.setItem(t,e)}catch(t){console.log("\u4fdd\u5b58\u6e38\u620f\u6570\u636e\u5931\u8d25")}},readValue:function(t){var e=cc.sys.localStorage.getItem(t);try{e=JSON.parse(e)}catch(t){}return e},removeValue:function(t){cc.sys.localStorage.removeItem(t)}}),cc._RF.pop()},{}],baseDlg:[function(t,e){"use strict";cc._RF.push(e,"5f67adlFcpMfabIsef4UlVZ","baseDlg");var i=t("baseNode");cc.Class({extends:i,properties:{isDlg:{default:!0,visible:!1},swallTouch:{default:!0,tooltip:"\u662f\u5426\u6709\u8499\u7248\u5c42"},mask:{default:!0,tooltip:"\u8499\u7248\u662f\u5426\u6709\u989c\u8272"},maskOpacity:{type:cc.Integer,default:180,tooltip:"\u8499\u7248\u900f\u660e\u5ea6",range:[0,255,1],slide:!0},touchClose:{default:!0,tooltip:"\u662f\u5426\u70b9\u51fb\u5173\u95ed\u754c\u9762\uff0c\u9700\u8981\u52fe\u9009swallTouch\u6709\u8499\u7248\u624d\u4f1a\u751f\u6548"},froceTop:{default:!1,tooltip:"\u662f\u5426\u5f3a\u5236\u5728\u6700\u9876\u5c42"},closeClear:{default:!0,tooltip:"\u70b9\u51fb\u5173\u95ed\u754c\u9762touchClose\u7684\u65f6\u5019\u662f\u5426\u6e05\u9664\u754c\u9762"},playScale:{default:!0},playIn:{default:!1},playOut:{default:!1}},onLoad:function(){var t=this;i.prototype.onLoad.call(this),this.swallTouch&&cc.resources.load("ui/uiTip/uiBg",function(e,i){if(!e){var n=cc.instantiate(i);n.lwMaskName="uiBg",n.zIndex=-1,n.parent=t.node,n.opacity=t.maskOpacity,t.mask||(n.opacity=0),t.touchClose&&n.quickTouch(function(){t.closeSelf()},!0,!0)}})},closeSelf:function(){this.closeAction=!0,UICtrl.closeUI(this)},playScaleAni:function(){for(var t=this.node.children,e=0;e<t.length;e++)if("uiBg"!=t[e].lwMaskName){var i=t[e].scale,n=cc.scaleTo(.005,.5),a=cc.scaleTo(.25,i+.15),o=cc.scaleTo(.1,i),s=void 0;(s=cc.sequence(cc.hide(),n,cc.show(),a,o)).easing(cc.easeOut(1)),t[e].runAction(s)}},playInAni:function(){this.node.position=cc.v2(720,0);var t=cc.moveTo(.3,cc.v2(0,0)).easing(cc.easeCubicActionOut());this.node.runAction(t)},playOutAni:function(t){this.closeAction=!0;var e=cc.moveTo(.4,cc.v2(720,0)).easing(cc.easeCubicActionOut()),i=cc.callFunc(function(){t()});this.node.runAction(cc.sequence(e,i))}}),cc._RF.pop()},{baseNode:"baseNode"}],baseLayer:[function(t,e){"use strict";cc._RF.push(e,"21918VEe5JIqJ6CfmeMQQor","baseLayer"),cc.Class({extends:cc.Component,properties:{},__preload:function(){var t=function(e,i){for(var n=e.children,a=0;a<n.length;a++){var o=n[a].name;if(o){var s=o;i[s]=n[a],this[s]=n[a]}n[a].childrenCount>0&&t(n[a],i)}}.bind(this);t(this.node,this.node)}}),cc._RF.pop()},{}],baseNode:[function(t,e){"use strict";cc._RF.push(e,"f28a30TSCBDtr2DHjVo9nzv","baseNode"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=function(e,i,n){var a=e.children;n=n||e.getComponent(cc.Button)||e.canTouch;for(var o=0;o<a.length;o++){var s=a[o].name;if(s&&s.indexOf("_")>0){var r=s;i[r],i[r]=a[o],this[r]=a[o]}a[o].childrenCount>0&&t(a[o],i,n)}}.bind(this);t(this.node,this.node),this.addComponent(cc.BlockInputEvents)},show:function(t){this.__showing__=!0,this.__arg__=t;for(var e=this.node.parent.children,i=0,n=0;n<e.length;n++){var a=e[n].zIndex;a=a>=1e3?a-1e3:a,i=Math.max(i,a)}this.node.zIndex=i+(this.froceTop?1e3:1),this.playScale&&this.playScaleAni(),this.playIn&&this.playInAni()},hide:function(){this.node.zIndex=0},lateUpdate:function(t){if(this.__showing__&&this.onEnter&&(this.__showing__=!1,this.onEnter(this.__arg__),this.__arg__=null),this.callfuns){var e=this.callfuns.shift();e&&e(t)}},delayCall:function(t){this.callfuns||(this.callfuns=[]),this.callfuns.push(t)},removeAllDelayCall:function(){this.callfuns=[]}}),cc._RF.pop()},{}],csvData:[function(t,e){"use strict";cc._RF.push(e,"7712b+c7sNPSIsltvm9lxye","csvData"),t("./runtime");var i={},n=t("baseData");cc.Class({extends:n,properties:{_fileName:void 0,_csvData:void 0},ctor:function(){var t=arguments[0];t?(this._fileName=t,this.loadCSV()):this._fileName||console.error("mush define a csv path")},onLoadCSV:function(){},loadCSV:function(t){t=this;var e="csvtable/"+this._fileName;cc.resources&&cc.resources.load(e,function(e,i){e?cc.error(e):t.loadCSVFile(i)})},loadCSVFile:function(t){var e={};t.text=t.text.replace(/[\r]/g,"");for(var n=t.text.split("\n"),a=n.length-1;a>=0;a--)""==n[a]&&n.splice(a,1);for(var o=n[1].split(","),s=n[2].split(","),r=3;r<n.length;r++){var c=n[r],l=(c=this.replaceCommaInBracket(c)).split(",");if(l.length==o.length&&""!=l[0]){e[r-3]={};for(var u=0;u<l.length;u++){var d=l[u];if("int"==s[u])d=parseInt(l[u]);else if("float"==s[u])d=parseFloat(l[u]);else if("string"==s[u])s[u];else if("table"==s[u])try{var h=l[u];h&&(h=h.replace(/\-/g,",").replace(/\"/g,""),d=JSON.parse(h))}catch(t){d=[],console.log("[\u8bfb\u8868]\u52a0\u8f7d\u8868\u9519\u8bef"+this._fileName+":"+l[u])}null!=o[u]&&(e[r-3][o[u].replace(/\s+/g,"")]=d)}}else console.log("[\u8bfb\u8868]\u5b57\u6bb5\u9519\u8bef",this._fileName,l)}for(var _ in i[this._fileName]={},e){var f=e[_],p=f.id;void 0!==p||(f.ID,void 0!==p)?i[this._fileName][p]=f:console.log("[\u8bfb\u8868]"+this._fileName+" \u8868\u914d\u7f6e\u4e0d\u89c4\u8303,\u6ca1\u6709id")}console.log("lyw a ",i),this.onLoadCSV&&this.onLoadCSV()},getAllDatas:function(){return i[this._fileName]||console.error("not found data",this._fileName),i[this._fileName]},getIDs:function(){var t=this.getAllDatas();return Object.keys(t)},getInfoByID:function(t){return t=parseInt(t),i[this._fileName]||console.error("not found data",this._fileName),i[this._fileName][t]},getValueByIDKey:function(t,e){var i=this.getInfoByID(t);i||console.error("not found data id = "+t);var n=i[e];return void 0===n&&console.error("not found value id = "+t+"key = "+e),n},getIDByKeyValue:function(t,e){var i=this.getAllDatas();for(var n in i)if(this.getValueByIDKey(n,t)===e)return n},replaceCommaInBracket:function(t){if(-1==t.indexOf("["))return t;for(var e=0,i="",n=0;n<t.length;n++){var a=t.charAt(n);"["==a&&e++,"]"==a&&e--,i+=0!=e&&","==a?"-":a}return i}}),cc._RF.pop()},{"./runtime":"runtime",baseData:"baseData"}],dataClient:[function(t,e){"use strict";cc._RF.push(e,"21bbcGnPepEX7Vi3oqQHsJX","dataClient"),cc.Class({name:"dataClient",properties:{m_bufEncrypt1:[],m_bufEncrypt2:[],m_nPos1:0,m_nPos2:0},ctor:function(){var t,e=41;for(t=0;t<256;t++)this.m_bufEncrypt1[t]=e,e=(24+15*e%256*e+7*e)%256;for(e=8,t=0;t<256;t++)this.m_bufEncrypt2[t]=e,e=(11+7*e)*e+90&255},stringToByte:function(t){var e,i,n=new Array;e=t.length;for(var a=0;a<e;a++)i=t.charCodeAt(a),n.push(255&i);return n},byteToString:function(t){if("string"==typeof t)return t;for(var e="",i=t,n=0;n<i.length;n++)e+=String.fromCharCode(i[n]);return e},EnSrc:function(t){for(var e=this.stringToByte(t),i=this.m_nPos1,n=this.m_nPos2,a=e.length,o=0;o<a;o++)e[o]^=this.m_bufEncrypt1[this.m_nPos1],e[o]^=this.m_bufEncrypt2[this.m_nPos2],++this.m_nPos1>=256&&(this.m_nPos1=0,++this.m_nPos2>=256&&(this.m_nPos2=0));return this.m_nPos1=i,this.m_nPos2=n,this.byteToString(e)},ChangeCode:function(t){try{for(var e=t*t,i=0;i<256;i+=4)m_cGlobalEncrypt.this.m_bufEncrypt1[i]^=t,m_cGlobalEncrypt.this.m_bufEncrypt2[i]^=e}catch(t){}}}),cc._RF.pop()},{}],define:[function(t,e){"use strict";var i;for(var n in cc._RF.push(e,"01520frXEpFCKTwktN5zOzq","define"),window.MDM_SOCKET_HEARD=1,window.ASS_SOCKET_HEARD=1,window.ASS_SOCKET_ISCONNECT=3,window.MDM_ALL_ASS=0,window.MDM_GP_LOGON=20,window.MSG_DATA_TYPE={DWORD:{size:8,type:"num"},int:{size:4,type:"num"},longint:{size:8,type:"num"},UINT:{size:4,type:"unnum"},char:{size:1,type:"string"},long:{size:8,type:"num"},BYTE:{size:1,type:"unnum"},__int64:{size:8,type:"num"},time_t:{size:8,type:"num"},bool:{size:1,type:"bool"},short:{size:2,type:"num"},shortChar:{size:1,type:"string"}},MSG_DATA_TYPE)n.toUpperCase()!==n&&(window.MSG_DATA_TYPE[n.toUpperCase()]=MSG_DATA_TYPE[n]);window.MSG_GAME_STRUCT={},MSG_GAME_STRUCT.NetMessageHead=[{type:MSG_DATA_TYPE.int,key:"uMessageSize"},{type:MSG_DATA_TYPE.BYTE,key:"uMainID"},{type:MSG_DATA_TYPE.BYTE,key:"uAssistantID"},{type:MSG_DATA_TYPE.BYTE,key:"uHandleCode"},{type:MSG_DATA_TYPE.BYTE,key:"dwClientIP"},{type:MSG_DATA_TYPE.BYTE,key:"uCheck"}],MSG_GAME_STRUCT.zhaocha_login=[{type:MSG_DATA_TYPE.char,key:"szOpenID",num:15},{type:MSG_DATA_TYPE.int,key:"iUserID"}],window.MSG_MAP={},MSG_MAP[window.MDM_GP_LOGON]=((i={})[window.MDM_ALL_ASS]={send:MSG_GAME_STRUCT.zhaocha_login,rec:MSG_GAME_STRUCT.zhaocha_login},i),cc._RF.pop()},{}],gGuideMgr:[function(t,e){"use strict";cc._RF.push(e,"459a5t+gRRJ7alwxi5J0Og7","gGuideMgr");var i=cc.Class({properties:{_ifGuide:!1,_currRunStep:0},init:function(){},runGuide:function(){var t=[],e=GM.HallUi.node_down.convertToWorldSpaceAR(cc.v2(-165,582));e.y-=util.getDisHeight();var i=cc.find("LayerGuide",cc.Canvas.instance.node).convertToNodeSpaceAR(e);t.push(i),(e=GM.HallUi.node_red.parent.convertToWorldSpaceAR(GM.HallUi.node_red)).y+=util.getDisHeight(),(i=cc.find("LayerGuide",cc.Canvas.instance.node).convertToNodeSpaceAR(e)).y-=8,t.push(i),t.push(cc.v2(0,0)),t.push(cc.v2(0,355+util.getDisHeight())),t.push(cc.v2(0,290)),t.push(cc.v2(-305,600+util.getDisHeight())),this.guidanceList=[{maskPos:t[0],maskSize:cc.size(315,109),finger:2},{maskPos:t[2],maskSize:cc.size(1,1),hideFinger:!0,opacity:1},{maskPos:t[1],maskSize:cc.size(240,50),finger:1},{maskPos:t[2],maskSize:cc.size(1,1),hideFinger:!0,opacity:1},{maskPos:t[3],maskSize:cc.size(640,150),finger:1,fingerpos:cc.v2(300,-70)},{maskPos:t[4],maskSize:cc.size(550,576),finger:1,fingerpos:cc.v2(50,-170)},{maskPos:t[2],maskSize:cc.size(1,1),hideFinger:!0,opacity:1},{maskPos:t[5],maskSize:cc.size(78,80),finger:1,optional:!0}],this._currRunStep=0},runStep:function(t){var e,i=this;console.log("\u65b0\u624b\u5f15\u5bfc\u662f\u5426\u7ed3\u675f",gameData.ifGuide),gameData.ifGuide||(this._currRunStep=t,e="y"==gameData.is_must_withdraw?this.guidanceList.length:5,this._currRunStep>e?(GM.HallUi.showFirstGuide(),this.guideEnd()):this.guideLayer&&cc.isValid(this.guideLayer)?this.guideLayer.getComponent("uiGuideLayer").showStep(this.guidanceList[this._currRunStep-1]):UICtrl.createUI("ui/uiGuide/uiGuideLayer",function(t){t.parent=cc.find("LayerGuide",cc.Canvas.instance.node),i.guideLayer=t,i.guideLayer.getComponent("uiGuideLayer").showStep(i.guidanceList[i._currRunStep-1])}))},inGuide:function(){return gameData.ifGuide},guideEnd:function(){this.guideLayer&&cc.isValid(this.guideLayer)&&this.guideLayer.destroy(),gameData.set("ifGuide",!0)}});window.gGuideMgr=new i,cc._RF.pop()},{}],gMainMgr:[function(t,e){"use strict";cc._RF.push(e,"5ca73e9d8tJs5j2ZNi96JOq","gMainMgr");var i=cc.Class({extends:cc.Component,properties:{URL_FORMAL_CONFIG:"https://qhdld.yx0599.com/qhdld/config/gameConfig.json",reconnect:0,VERSION:1},init:function(){var t,e;this.onBackGround(),this.beginInterval(),B_REVIEW_VER_IOS?window.COUNT_P=((t={})[1]=cc.v2(-245,229),t[2]=cc.v2(-77,229),t[3]=cc.v2(90,229),t[4]=cc.v2(258,229),t[5]=cc.v2(-245,95),t[6]=cc.v2(-77,95),t[7]=cc.v2(90,95),t[8]=cc.v2(258,95),t[9]=cc.v2(-245,-39),t[10]=cc.v2(-77,-39),t[11]=cc.v2(90,-39),t[12]=cc.v2(258,-39),t[13]=cc.v2(-245,-173),t[14]=cc.v2(-77,-173),t[15]=cc.v2(90,-173),t[16]=cc.v2(258,-173),t):window.COUNT_P=((e={})[1]=cc.v2(-245,229),e[2]=cc.v2(-77,229),e[3]=cc.v2(90,229),e[4]=cc.v2(258,229),e[5]=cc.v2(-245,99),e[6]=cc.v2(-77,99),e[7]=cc.v2(90,99),e[8]=cc.v2(258,99),e[9]=cc.v2(-245,-31),e[10]=cc.v2(-77,-31),e[11]=cc.v2(90,-31),e[12]=cc.v2(258,-31),e[13]=cc.v2(-245,-161),e[14]=cc.v2(-77,-161),e[15]=cc.v2(90,-161),e[16]=cc.v2(258,-161),e),this.redPool=new cc.NodePool},openMiddleVideoNow:function(t){this.haveMidAD=!1,this.haveMidAD?(this.sucsCallback=t,this.sucsCallback&&this.sucsCallback(),this.sucsCallback=null):(this.haveMidAD=!0,nativeData.loadInteractionAd(t))},beginInterval:function(){if(!B_REVIEW_VER_IOS){this.clearInv(),this.invFunc=setInterval(function(){var i=new Date(1e3*(t+=1)),n=i.getHours(),a=i.getMinutes(),o=i.getSeconds();if(this.time=3600*(23-n)+60*(59-a)+(60-o),(e-=1)<=0){e=30;var s=gameData.soldiers;gameData.set("soldiers",s)}}.bind(this),1e3);var t=util.getNow()/1e3,e=30}},clearInv:function(){this.invFunc&&clearInterval(this.invFunc)},onBackGround:function(){var t=this;cc.game.off(cc.game.EVENT_SHOW),cc.game.off(cc.game.EVENT_HIDE),cc.game.on(cc.game.EVENT_SHOW,function(){console.log("[\u56de\u5230\u524d\u53f0]"),nativeData._bSponsorShare&&nativeData.onShareMachineMade(util.getNow()-t.lastbacktime),GM.HallUi&&GM.HallUi.backGame(),t.lastbacktime=null}),cc.game.on(cc.game.EVENT_HIDE,function(){console.log("[\u8fdb\u5165\u540e\u53f0]"),t.lastbacktime=util.getNow();var e=gameData.soldiers;gameData.set("soldiers",e),B_REVIEW_VER_IOS||webData.update_game_infoCallBack()})},setShowAd:function(t){var e=this;t=t||1;var i=util.randomRange(1,9999);gameData.dioShowAdgl>i&&this.scheduleOnce(function(){e.openMiddleVideoNow()},t)},setChannel:function(){nativeData.setRewardID("111")},connect:function(){var t=this;console.log("======\u8fde\u63a5\u670d\u52a1\u5668====="),GameSocket.setonConnectSuc(this._sendlogin.bind(this)),GameSocket.connect(webData.wscodeAddress),GameSocket.setonClose(function(){t.reconnect++,t.reconnect>=5||GameSocket.isconnect()||GameSocket.connect(webData.wscodeAddress)})},_sendlogin:function(){console.log("======\u767b\u9646\u670d\u52a1\u5668====="),this.socketSendData("record_online_time"),this.updateSendData()},updateSendData:function(){this.sendsocketdata&&clearInterval(this.sendsocketdata),this.sendsocketdata=setInterval(function(){GameSocket.sendMsg("","ping")},5e3)},socketSendData:function(t,e,i,n){if(gameData.isLogin){var a={};a.ws_code=t,a.user_id=gameData.userid,i?(a.type=e,a[i]=n):a.data_type=e;var o=JSON.stringify(a);console.log("[\u6253\u70b9\u8bb0\u5f55]"+o),GameSocket.sendMsg(t,o)}},msgInitGameConfig:function(t,e){var i=nativeData.getLocalVersion();i=parseInt(i),console.log("[\u767b\u5f55]\u672c\u5730\u7248\u672c",i),i&&!(i<0)||(nativeData.getUpdateIos(e.iosIsUpdate,e.iosUpdateUrl),e.iosIsUpdate)},toHTTPNormal:function(t,e,i,n){HTTP.GET(t,e,function(t){i&&i(t)},function(t){n&&n(t)})},getAdInfo:function(){webData.useradverinfoCallBack(function(t){var e=t.data.a_cnt+t.data.b_cnt;gameData.set("firstAd",t.data.first_adver_type),0==gameData.userAdAcount&&0==gameData.userAdBcount?(gameData.set("AdAcount",t.data.a_cnt),gameData.set("AdBcount",t.data.b_cnt)):"a"==gameData.firstAd?t.data.a_cnt-gameData.userAdAcount<=0?(gameData.set("AdAcount",0),gameData.set("AdBcount",e-gameData.userAdAcount-gameData.userAdBcount)):(gameData.set("AdAcount",t.data.a_cnt-gameData.userAdAcount),gameData.set("AdBcount",t.data.b_cnt-gameData.userAdBcount)):t.data.b_cnt-gameData.userAdBcount<=0?(gameData.set("AdBcount",0),gameData.set("AdAcount",e-gameData.userAdBcount-gameData.userAdAcount)):(gameData.set("AdBcount",t.data.b_cnt-gameData.userAdBcount),gameData.set("AdAcount",t.data.a_cnt-gameData.userAdAcount)),console.log("[\u4f18\u5148]\uff1a",gameData.firstAd,"[a\u8fd8\u80fd\u64ad\uff1a]",gameData.AdAcount,"[b\u8fd8\u80fd\u64ad\uff1a]",gameData.AdBcount)},function(){})},playCoinsFly:function(t,e,i,n,a,o,s,r){var c=this;this.isClose=!0;var l,u=o||GM.HallUi.sp_hongbao,d=cc.v2(0,0);l=s||u,this.isaudit&&(l=GM.HallUi.sp_iosgb),d=l.position;for(var h=l.parent.convertToWorldSpaceAR(d),_=cc.find("LayerEffect",cc.Canvas.instance.node).convertToNodeSpaceAR(h),f=n||8,p=function(n){var o=null;(o=c.redPool.size()>0?c.redPool.get():cc.instantiate(u)).parent=cc.find("LayerEffect",cc.Canvas.instance.node),o.scale=0,o.index=n;var s=util.randomRange(e-50,e+50)||util.randomRange(-100,100),d=util.randomRange(i-50,i+50)||util.randomRange(-100,100);o.x=s,o.y=d;var h=_.x,p=_.y,g=cc.scaleTo(.5,.8).easing(cc.easeCubicActionIn()),m=cc.delayTime(.13*n),v=1;n>20&&(v=1.1);var b=c.createBezier(v,cc.v2(s,d),cc.v2(h,p)),y=cc.scaleTo(.8,1),D=cc.sequence(m,g,cc.spawn(b,y),cc.callFunc(function(){l.stopAllActions(),l.scale=.8,n%2==0&&audioData.playSoundByID(13),n==f-1?(l.runAction(cc.scaleTo(.02,1)),r&&r(),t&&c.playCoinsFlyCallFunc(t,a)):l.runAction(cc.sequence(cc.scaleTo(.02,1.2),cc.scaleTo(.5,.8))),c.redPool.put(o)}));o.runAction(D)},g=0;g<f;g++)p(g)},playFly:function(t,e){t.stopAllActions(),t.y=t.cury,t.setLabel("+"+Math.round(100*e));var i=cc.moveBy(.5,cc.v2(0,20)),n=cc.sequence(cc.show(),i,cc.hide());t.runAction(n),this.isClose=!1},playCoinsFly1:function(t,e,i,n){var a,o=this;this.isClose=!0;var s=cc.v2(0,0),r=cc.v2(0,0);s=(a=GM.HallUi.sp_rerole).position;var c=a.parent.convertToWorldSpaceAR(s),l=cc.find("LayerEffect",cc.Canvas.instance.node).convertToNodeSpaceAR(c);r=l;for(var u=t||8,d=function(t){var s=cc.instantiate(a);s.parent=cc.find("LayerEffect",cc.Canvas.instance.node),s.scale=0,s.index=t;var c=s.getComponent("sp.Skeleton");o.onChangeSkeletonData(c,i,e);var l=util.randomRange(-100,100),d=util.randomRange(-100,100)+200;s.x=l,s.y=d;var h=r.x,_=r.y,f=cc.scaleTo(.5,.2).easing(cc.easeCubicActionIn()),p=cc.delayTime(.13*t),g=1;t>20&&(g=1.1);var m=o.createBezier(g,cc.v2(l,d),cc.v2(h,_)),v=cc.scaleTo(.8,.2),b=cc.sequence(p,f,cc.spawn(m,v),cc.callFunc(function(){a.stopAllActions(),a.scale=.4,t%2==0&&audioData.playSoundByID(13),t==u-1?(a.runAction(cc.scaleTo(.02,.4)),n&&n()):a.runAction(cc.sequence(cc.scaleTo(.02,.35),cc.scaleTo(.5,.45)))}),cc.removeSelf());s.runAction(b)},h=0;h<u;h++)d(h)},playCoinsFly3:function(t,e,i,n){var a,o=this;this.isClose=!0;var s=cc.v2(0,0);a=GM.HallUi.sp_hongbao,this.isaudit&&(a=GM.HallUi.sp_iosgb),s=a.position;for(var r=a.parent.convertToWorldSpaceAR(s),c=cc.find("LayerEffect",cc.Canvas.instance.node).convertToNodeSpaceAR(r),l=i||8,u=function(i){var s=null;(s=o.redPool.size()>0?o.redPool.get():cc.instantiate(a)).parent=cc.find("LayerEffect",cc.Canvas.instance.node),s.scale=0,s.index=i;var r=util.randomRange(t-50,t+50)||util.randomRange(-100,100),u=util.randomRange(e-50,e+50)||util.randomRange(-100,100);s.x=r,s.y=u;var d=c.x,h=c.y,_=cc.scaleTo(.5,.8).easing(cc.easeCubicActionIn()),f=cc.delayTime(.13*i),p=1;i>20&&(p=1.1);var g=o.createBezier(p,cc.v2(r,u),cc.v2(d,h)),m=cc.scaleTo(.8,1),v=cc.sequence(f,_,cc.spawn(g,m),cc.callFunc(function(){a.stopAllActions(),a.scale=.8,i%2==0&&audioData.playSoundByID(13),i==l-1?(n&&n(),a.runAction(cc.scaleTo(.02,1))):a.runAction(cc.sequence(cc.scaleTo(.02,1.2),cc.scaleTo(.5,.8))),o.redPool.put(s)}));s.runAction(v)},d=0;d<l;d++)u(d)},playCoinsFly4:function(t,e,i,n,a,o,s,r){var c=this;this.isClose=!0;var l,u=o||GM.HallUi.sp_hongbao,d=cc.v2(0,0);d=(l=s||u).position;for(var h=l.parent.convertToWorldSpaceAR(d),_=cc.find("LayerEffect",cc.Canvas.instance.node).convertToNodeSpaceAR(h),f=n||8,p=function(n){var a=null;(a=c.redPool.size()>0?c.redPool.get():cc.instantiate(u)).parent=cc.find("LayerEffect",cc.Canvas.instance.node),a.scale=0,a.index=n;var o=util.randomRange(e-50,e+50)||util.randomRange(-100,100),s=util.randomRange(i-50,i+50)||util.randomRange(-100,100);a.x=o,a.y=s;var d=_.x,h=_.y,p=cc.scaleTo(.5,.8).easing(cc.easeCubicActionIn()),g=cc.delayTime(.13*n),m=1;n>20&&(m=1.1);var v=c.createBezier(m,cc.v2(o,s),cc.v2(d,h)),b=cc.scaleTo(.8,1),y=cc.sequence(g,p,cc.spawn(v,b),cc.callFunc(function(){l.stopAllActions(),l.scale=.8,n%2==0&&audioData.playSoundByID(13),n==f-1?(l.runAction(cc.scaleTo(.02,1)),r&&r(),t&&iosGameData.plus("gGold",Number(t))):l.runAction(cc.sequence(cc.scaleTo(.02,1.2),cc.scaleTo(.5,.8))),c.redPool.put(a)}));a.runAction(y)},g=0;g<f;g++)p(g)},createBezier:function(t,e,i){var n=Math.random()>.5?-300:300,a=e.y+Math.floor(i.y-e.y)/5;a=util.randomRange(a-150,a+150);var o=cc.v2(n,a);return cc.bezierTo(t,[e,o,i])},playCoinsFlyCallFunc:function(t,e){GM.HallUi.lab_rednew.cury=GM.HallUi.lab_rednew.y,e?gameData.set("red_balance",Number(e)):gameData.add("red_balance",Number(t))},playBtnBreatheEffect:function(t){if(t){var e=t.scaleX,i=t.scaleY;t.stopAllActions(),t.runAction(cc.repeatForever(cc.sequence(cc.delayTime(.5),cc.scaleTo(.15,1.3*e,1.2*i),cc.scaleTo(.1,1*e,1*i),cc.scaleTo(.1,.9*e,.8*i),cc.scaleTo(.1,1*e,1*i),cc.delayTime(.5))))}},playBtnBreatheEffect1:function(t){if(t){var e=t.scale;t.stopAllActions(),t.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.4,e+.1),cc.scaleTo(.4,e))))}},sendLogToServer:function(t){var e=gameData.video_config[t];this.socketSendData("channel_video","click","step",e.step)},onChangeSkeletonData:function(t,e,i,n,a){cc.isValid(t)&&cc.resources.load("uiMonster/"+e+"/"+e,sp.SkeletonData,function(){},function(e,o){e?console.log(e.message||e):(t.skeletonData=o,a||t.setSkin(i),t.setAnimation(0,"idle",!0),n&&n())})},onShowGetRedProcess:function(t,e,i,n){var a=this;UICtrl.openUI("uiCommon/uiGetRed",function(o){a.setShowAd(1),o.initData(t,n,e,i)})},onShowCommonGetRed:function(t,e,i,n,a,o,s){var r=this;UICtrl.openUI("uiCommon/uiGetRed",function(c){r.setShowAd(1),c.initData(t,e,i,n,a,o,s)})},onCommonOpenRed:function(t,e,i,n,a,o){var s=this;UICtrl.openUI("uiCommon/uiOpenRed",function(r){s.setShowAd(1),r.initData(t,e,i,n,a,o)})},onShowHeardInfo:function(t,e){t&&""!=t&&cc.isValid(e)&&cc.loader.load({url:t,type:"png"},function(t,i){t&&console.error(t),e.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i)})},showMergeEffect:function(t,e,i){if(e&&t){var n=[],a=e.position;t.position=a,t.x=a.x-80,e.x=a.x+80,t.angle=20,e.angle=-20;var o=cc.rotateTo(.2,0),s=cc.moveTo(.2,a).easing(cc.easeCubicActionIn()),r=cc.moveTo(.2,a).easing(cc.easeCubicActionIn());n.push(cc.targetedAction(t,s)),n.push(cc.targetedAction(e,r)),n.push(cc.targetedAction(t,o)),n.push(cc.targetedAction(e,o));var c=cc.callFunc(i);GM.HallUi.node.runAction(cc.sequence(cc.spawn(n,null),c))}},openMiddleVideo:function(){var t=gameData.auto_video_time;this.havefullAD=!1;var e=1,i=function(){e++,(GM.touchScreen||soldiersMgr.statusFight)&&(e=0,this.havefullAD=!1),this.havefullAD||(GM.touchScreen=!1,e>=t&&(e=0,util.randomRange(1,100)<=100&&(console.log("[\u6253\u5f00\u5168\u5c4f\u5e7f\u544a]"),this.socketSendData("dd","qtqp_video"),nativeData.showFullScreenAd(),this.havefullAD=!0)))};this.unschedule(i),this.schedule(i,1)},closeDlgAction:function(t,e,i){var n=e.parent.convertToWorldSpaceAR(e.position),a=t.convertToNodeSpaceAR(n),o=cc.moveTo(1,a).easing(cc.easeIn(1)),s=cc.scaleTo(1,0),r=cc.spawn(o,s),c=cc.callFunc(i),l=cc.callFunc(function(){e.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1)))}),u=cc.sequence(r,c,l);t.runAction(u)},onOpenService:function(){nativeData.checkAppInstalled("com.tencent.mobileqq")?cc.sys.openURL("https://wpa1.qq.com/V9nbBcB3?_type=wpa&qidian=true"):cc.sys.openURL("https://wpa1.qq.com/AOcRfHlH?_type=wpa&qidian=true")},openBonusAd:function(t){var e=UICtrl.findUI("uiBonus/uiBonusMsg");e||cc.isValid(e)||UICtrl.openUI("uiBonus/uiBonusMsg",function(e){e.initData(t)})},isCheckOpenAd:function(t){this.isaudit?t&&t():gameData.is_process_dialog_text&&gameData.daily_process_dialog_text_cnt>gameData.redpic&&util.randomRange(1,1e4)<=gameData.process_dialog_text_gl?(gameData.add("redpic",1),this.socketSendData("dd","download_app_toast"),this.openBonusAd(t)):t&&t()},checkIsaudit:function(){util.isIos()&&parseFloat(this._gameConfig.iosVersion)==parseFloat(this.VERSION)&&(B_REVIEW_VER_IOS=!0);var t=nativeData.getLocalVersion();console.log("[\u4e2a\u63a8\u53d1\u9001]\u672c\u5730\u7248\u672c",t);var e=util.DateFormat("yyyyMMdd");nativeData.setGeTuiTag(e)},updateBoxCountInfo:function(t){gameData.gBoxOneLastTime+=t},checkOpenW:function(t){var e=gameData.fast_click_detail,i=gameData.fast_click_gl;for(var n in e)if(t==Number(e[n]))return Number(i[n]);return 0}});window.gMainMgr=new i,cc._RF.pop()},{}],gameData:[function(t,e){"use strict";cc._RF.push(e,"ae6d8jBk/lEV42s8i6NfZJE","gameData");var i={effect_interval_time_range2:1,effect_interval_time_range:2,settingMusic:3,settingEffect:4,settingVibrate:5,gHeroMonsterList:6,ifGuide:7,BG_TYPE:8,autoFree:9,redpic:10,fullcnt:11,showIcon:12,showAutoFing:13,gBOpenShare:14,gOpenShareCount:15,isShowThousand:16,showBonusFing:17,openThousand:18,_lastLoginTime:19,airdrop_red_detail:20,airdrop_friend_icon:21,airdrop_thousand_icon:22,airdrop_profit_icon:23,is_process_dialog_text:24,airdrop_box_icon:25,airdrop_shake_icon:26,airdrop_fujiang_icon:27,store_soldier_cnt:28,soldier_recover_time:29,remain_auto_merge_cnt:"a",remain_percent_cnt:"b",remain_video_solider_cnt:"c",remain_free_upgrade_cnt:"d",remain_no_video_cnt:"e",remain_rand_cnt:"f",average_award:"g",isSign1:"h",red_balance:"i",soldiers:"j",canBuySoldier:"k",uiLevelRedData:"l",uiNewBonusData:"m"},n=t("baseData"),a=cc.Class({extends:n,name:"gameData",properties:{_hasInitServer:{default:!1,override:!0}},initSaveData:function(){var t=this.readValue("userid");this.setSaveKey(t),this.autoReadSave("settingMusic"),this.autoReadSave("settingEffect"),this.autoReadSave("settingVibrate"),this.autoReadSave("gHeroMonsterList"),this.autoReadSave("ifGuide"),this.autoReadSave("BG_TYPE"),this.autoReadSave("autoFree"),this.autoReadSave("redpic"),this.autoReadSave("fullcnt"),this.autoReadSave("showIcon"),this.autoReadSave("showAutoFing"),this.autoReadSave("gBOpenShare"),this.autoReadSave("gOpenShareCount"),this.autoReadSave("isShowThousand"),this.autoReadSave("showBonusFing"),this.autoReadSave("openThousand"),this.autoReadSave("_lastLoginTime"),this.autoReadSave("soldiers"),this.autoReadSave("canBuySoldier"),this.autoReadSave("red_balance"),this.autoReadSave("current_check_point"),this.autoReadSave("lvBuyCnt"),this.autoReadSave("battleHeroId"),this.autoReadSave("clickCoinCount"),this.autoReadSave("clickSoliderCount"),this.autoReadSave("quickm"),this.autoReadSave("quickc"),this.autoReadSave("mergeCnt"),this.autoReadSave("mergeDayCnt"),this.autoReadSave("freeRedDay"),this.autoReadSave("treeDay"),this.autoReadSave("openTreeTime"),this.autoReadSave("redTree"),this.autoReadSave("TreeDayCnt"),this.autoReadSave("showGeneralFing"),this.autoReadSave("showTreeFing"),this.autoReadSave("showBoxFing"),this.autoReadSave("maxSoldiersLv"),this.autoReadSave("newQuickR"),this.autoReadSave("newQuickP"),this.autoReadSave("showQuickPFing"),this.autoReadSave("gBoxOneLastTime"),this.autoReadSave("gMakeBreakThroughCount"),this.autoReadSave("gGold"),this.autoReadSave("gPassPointCount"),this.autoReadSave("gSignDay"),this.autoReadSave("gBTodaySign"),this.autoReadSave("remain_auto_merge_cnt"),this.autoReadSave("remain_percent_cnt"),this.autoReadSave("remain_video_solider_cnt"),this.autoReadSave("remain_free_upgrade_cnt"),this.autoReadSave("remain_no_video_cnt"),this.autoReadSave("remain_rand_cnt"),this.autoReadSave("isSign1"),this.initDefaultData()},initDefaultData:function(){this.undefinedOrSet("effect_interval_time_range2","1-5"),this.undefinedOrSet("effect_interval_time_range","1-5"),this.undefinedOrSet("settingMusic",1),this.undefinedOrSet("settingEffect",1),this.undefinedOrSet("settingVibrate",1),this.undefinedOrSet("gHeroMonsterList",[]),this.undefinedOrSet("ifGuide",!1),this.undefinedOrSet("BG_TYPE",1),this.undefinedOrSet("autoFree",0),this.undefinedOrSet("redpic",0),this.undefinedOrSet("fullcnt",0),this.undefinedOrSet("showIcon",!1),this.undefinedOrSet("showAutoFing",!1),this.undefinedOrSet("gBOpenShare",!0),this.undefinedOrSet("gOpenShareCount",0),this.undefinedOrSet("isShowThousand",0),this.undefinedOrSet("showBonusFing",0),this.undefinedOrSet("openThousand",!1),this.undefinedOrSet("_lastLoginTime",null),this.undefinedOrSet("airdrop_red_detail",""),this.undefinedOrSet("airdrop_friend_icon",""),this.undefinedOrSet("airdrop_thousand_icon",""),this.undefinedOrSet("airdrop_profit_icon",""),this.undefinedOrSet("is_process_dialog_text",""),this.undefinedOrSet("airdrop_box_icon",""),this.undefinedOrSet("airdrop_shake_icon",""),this.undefinedOrSet("airdrop_fujiang_icon",""),this.undefinedOrSet("store_soldier_cnt",40),this.undefinedOrSet("soldier_recover_time",120),this.undefinedOrSet("red_setting",window.redSetting),this.undefinedOrSet("daily_fast_check_point_cnt",100),this.undefinedOrSet("fast_check_point_cnt_min",3),this.undefinedOrSet("fast_check_point_cnt_max",8),this.undefinedOrSet("daily_red_spring_cnt",30),this.undefinedOrSet("daily_fast_product_soldier_cnt",30),this.undefinedOrSet("fast_soldier_fly_cnt",1),this.undefinedOrSet("maxSoldiersLv",10),this.undefinedOrSet("auto_merge_level",5),this.undefinedOrSet("auto_merge_time",15),this.undefinedOrSet("remain_auto_merge_cnt",10),this.undefinedOrSet("remain_percent_cnt",10),this.undefinedOrSet("remain_video_solider_cnt",10),this.undefinedOrSet("remain_free_upgrade_cnt",10),this.undefinedOrSet("remain_no_video_cnt",10),this.undefinedOrSet("remain_rand_cnt",10),this.undefinedOrSet("average_award",1),this.undefinedOrSet("isSign1",!1),this.undefinedOrSet("soldiers",{1:{lv:1,red:0,gift:0},2:{lv:1,red:0,gift:0},3:{lv:0,red:0,gift:0},4:{lv:0,red:0,gift:0},5:{lv:0,red:0,gift:0},6:{lv:0,red:0,gift:0},7:{lv:0,red:0,gift:0},8:{lv:0,red:0,gift:0},9:{lv:0,red:0,gift:0},10:{lv:0,red:0,gift:0},11:{lv:0,red:0,gift:0},12:{lv:0,red:0,gift:0},13:{lv:0,red:0,gift:0},14:{lv:0,red:0,gift:0},15:{lv:0,red:0,gift:0},16:{lv:0,red:0,gift:0}}),this.undefinedOrSet("canBuySoldier",40),this.undefinedOrSet("current_check_point",1),this.undefinedOrSet("lvBuyCnt",0),this.undefinedOrSet("battleHeroId",20001),this.undefinedOrSet("clickCoinCount",0),this.undefinedOrSet("red_balance",0),this.undefinedOrSet("clickSoliderCount",0),this.undefinedOrSet("quickm",0),this.undefinedOrSet("quickc",0),this.undefinedOrSet("mergeCnt",0),this.undefinedOrSet("mergeDayCnt",0),this.undefinedOrSet("freeRedDay",0),this.undefinedOrSet("treeDay",0),this.undefinedOrSet("openTreeTime",0),this.undefinedOrSet("redTree",0),this.undefinedOrSet("TreeDayCnt",0),this.undefinedOrSet("showGeneralFing",0),this.undefinedOrSet("showTreeFing",0),this.undefinedOrSet("showBoxFing",0),this.undefinedOrSet("maxSoldiersLv",0),this.undefinedOrSet("newQuickR",!1),this.undefinedOrSet("newQuickP",!1),this.undefinedOrSet("showQuickPFing",0),this.undefinedOrSet("gBoxOneLastTime",0),this.undefinedOrSet("gMakeBreakThroughCount",0),this.undefinedOrSet("gGold",0),this.undefinedOrSet("gPassPointCount",1),this.undefinedOrSet("gSignDay",1),this.undefinedOrSet("gBTodaySign",!1),this.undefinedOrSet("uiLevelRedData",{process_bar:10,process_bar_list:[{amount:.3,status:"doing",level:5,progress:0},{amount:.4,status:"doing",level:10,progress:0},{amount:.5,status:"doing",level:15,progress:0},{amount:.6,status:"doing",level:25,progress:0}],user_sign_cnt:0,sign_total_days:1,today_video_cnt:1,video_config_cnt:1,amount_list:{0:{amount:.5},1:{amount:1.5},2:{amount:3}},alwayWalletMoneyList:[],user_sign_status:"waiting"}),this.undefinedOrSet("uiNewBonusData",{remain_cnt:10,daily_cnt:10,profit_process_info:[0,0,0],average_award:5,list:[{amount_id:1,amount:.3,percent:0},{amount_id:2,amount:.5,percent:0},{amount_id:3,amount:1,percent:0}]})},getSaveData:function(){var t={};for(var e in i)t[i[e]]=this[e];return JSON.stringify(t)},setSaveData:function(t){try{var e=JSON.parse(t),n={};for(var a in i)n[i[a]]=a;for(var a in e){var o=n[a];console.log("[\u8bfb\u6863]",o,e[a]),this.set(o,e[a])}}catch(s){console.warn("json \u9519\u8bef",t)}}});window.gameData=new a,cc._RF.pop()},{baseData:"baseData"}],generalCsvData:[function(t,e){"use strict";cc._RF.push(e,"76a90v5GNZLOIfynbZfhqOM","generalCsvData");var i=t("csvData"),n=cc.Class({extends:i,name:"generalCsvData",properties:{_fileName:{override:!0,default:"general"}},getMoneyByID:function(t){return this.getValueByIDKey(t,"money")},getScheduleByID:function(t){return this.getValueByIDKey(t,"schedule")},getUnlockByID:function(t){return this.getValueByIDKey(t,"Unlock")},getGeneralByID:function(t){return this.getValueByIDKey(t,"General")}});window.generalCsvData=new n,cc._RF.pop()},{csvData:"csvData"}],initDatas:[function(e,i){"use strict";cc._RF.push(i,"a5be5lvX3BFg6H6r/2cvqYM","initDatas"),window.baseData=e("baseData"),window.csvData=e("csvData");var n=["audioData","iosGameData","gameData","nativeData","webData","monsterCsvData","generalCsvData","lockheroCsvData","soldiersCsvData","pointCsvData","rankCsvData","ioslockheroCsvData","shopCsvData"];for(var a in n)try{e(n[a])}catch(t){console.log(t)}cc._RF.pop()},{baseData:"baseData",csvData:"csvData"}],init:[function(t,e){"use strict";cc._RF.push(e,"f15b9JcFztNsbOuZkN2BqYt","init"),window.util=t("util"),t("initDatas"),window.MD5=t("md5"),window.ui={baseNode:t("baseNode"),baseDlg:t("baseDlg"),baseLayer:t("baseLayer")};var i=t("GameSocket");window.GameSocket=new i(MSG_MAP,"GameSocket"),cc._RF.pop()},{GameSocket:"GameSocket",baseDlg:"baseDlg",baseLayer:"baseLayer",baseNode:"baseNode",initDatas:"initDatas",md5:"md5",util:"util"}],iosGameData:[function(t,e){"use strict";cc._RF.push(e,"b98a9TpcvJL0JlKOxiqaQh9","iosGameData");var i=t("baseData"),n=cc.Class({extends:i,name:"iosGameData",properties:{_hasInitServer:{default:!1,override:!0}},initSaveData:function(){var t=this.readValue("userid");console.log("======[key]=========",t),this.setSaveKey(t),this.autoReadSave("settingMusic"),this.autoReadSave("settingEffect"),this.autoReadSave("settingVibrate"),this.autoReadSave("_lastLoginTime"),this.autoReadSave("ifGuide"),this.autoReadSave("gGold"),this.autoReadSave("gPassPointCount"),this.autoReadSave("gMakeBreakThroughCount"),this.autoReadSave("gSignDay"),this.autoReadSave("gBTodaySign"),this.autoReadSave("soldiers"),this.autoReadSave("canBuySoldier"),this.autoReadSave("maxSoldiersLv"),this.autoReadSave("lvBuyCnt"),this.autoReadSave("battleHeroId"),this.autoReadSave("gDailyTask"),this.autoReadSave("gAchieveTask"),this.autoReadSave("gCompoundCount"),this.autoReadSave("gBuyCountList"),this.autoReadSave("noEnoughVideo"),this.initDefaultData()},initDefaultData:function(){this.undefinedOrSet("settingMusic",1),this.undefinedOrSet("settingEffect",1),this.undefinedOrSet("settingVibrate",1),this.undefinedOrSet("ifGuide",!1),this.undefinedOrSet("gGold",1e5),this.undefinedOrSet("gPassPointCount",1),this.undefinedOrSet("gMakeBreakThroughCount",0),this.undefinedOrSet("gSignDay",1),this.undefinedOrSet("gBTodaySign",!1),this.undefinedOrSet("soldiers",{1:{lv:1},2:{lv:1},3:{lv:0},4:{lv:0},5:{lv:0},6:{lv:0},7:{lv:0},8:{lv:0},9:{lv:0},10:{lv:0},11:{lv:0},12:{lv:0},13:{lv:0},14:{lv:0},15:{lv:0},16:{lv:0}}),this.undefinedOrSet("canBuySoldier",40),this.undefinedOrSet("maxSoldiersLv",0),this.undefinedOrSet("lvBuyCnt",0),this.undefinedOrSet("battleHeroId",20001),this.undefinedOrSet("gDailyTask",{}),this.undefinedOrSet("gAchieveTask",{}),this.undefinedOrSet("gCompoundCount",0),this.undefinedOrSet("gBuyCountList",[]),this.undefinedOrSet("noEnoughVideo",0)}});window.iosGameData=new n,cc._RF.pop()},{baseData:"baseData"}],ioslockheroCsvData:[function(t,e){"use strict";cc._RF.push(e,"8bcd9WygvVHSJyJmm/UcUUP","ioslockheroCsvData");var i=t("csvData"),n=cc.Class({extends:i,name:"ioslockheroCsvData",properties:{_fileName:{override:!0,default:"ioslockhero"}},getOrderByID:function(t){return this.getValueByIDKey(t,"order")},getNameByID:function(t){return this.getValueByIDKey(t,"name")},getQualityByID:function(t){return this.getValueByIDKey(t,"quality")},getCampByID:function(t){return this.getValueByIDKey(t,"camp")},getHpByID:function(t){return this.getValueByIDKey(t,"hp")},getAttackByID:function(t){return this.getValueByIDKey(t,"attack")},getCharmByID:function(t){return this.getValueByIDKey(t,"charm")},getActionByID:function(t){return this.getValueByIDKey(t,"action")}});window.ioslockheroCsvData=new n,cc._RF.pop()},{csvData:"csvData"}],lockheroCsvData:[function(t,e){"use strict";cc._RF.push(e,"d132can37lKTbsVVu5qjrlj","lockheroCsvData");var i=t("csvData"),n=cc.Class({extends:i,name:"lockheroCsvData",properties:{_fileName:{override:!0,default:"lockhero"}},getOrderByID:function(t){return this.getValueByIDKey(t,"order")},getNameByID:function(t){return this.getValueByIDKey(t,"name")},getQualityByID:function(t){return this.getValueByIDKey(t,"quality")},getCampByID:function(t){return this.getValueByIDKey(t,"camp")},getHpByID:function(t){return this.getValueByIDKey(t,"hp")},getAttackByID:function(t){return this.getValueByIDKey(t,"attack")},getCharmByID:function(t){return this.getValueByIDKey(t,"charm")},getActionByID:function(t){return this.getValueByIDKey(t,"action")}});window.lockheroCsvData=new n,cc._RF.pop()},{csvData:"csvData"}],main:[function(t,e){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}cc._RF.push(e,"ad8038uTjBBea1AsXgIjZu8","main"),function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}n.default=t,e&&e.set(t,n)}(t("./NewDataMgr")),t("init"),cc.Class({extends:cc.Component,properties:{updateNode:cc.Node,img_loading_bg:cc.Node,img_progress:cc.Node,img_bg:cc.Node,down_node:cc.Node,lab_process:cc.Label,txt_load:cc.Node,txt_auther:cc.Node},onLoad:function(){console.log("mian=====",window.nativeData),nativeData.gameDidLoad(),console.log("gameDidLoad");var t=cc.director.getCollisionManager();console.log("gameDidLoad2222"),t.enabled=!0,t.enabledDebugDraw=!1,t.enabledDrawBoundingBox=!1,util.frameResize(),console.log("gameDidLoad3333"),GM.main=this,GM.G_HEIGHT=cc.winSize.height,this.init()},init:function(){this.step1IsFeatures(),console.log("==========")},step1IsFeatures:function(){var t=nativeData.isFeatures();console.log("\u662f\u5426\u6a21\u62df\u5668\u7528\u6237",t),t?cc.game.end():this.openOpenVideo()},openOpenVideo:function(){var t=gameData.readValue("maxSoldiersLv");t&&t>5&&nativeData.hasSplashAd()?nativeData.loadSplashAd():this.toGetconfig()},toGetconfig:function(){gameData.initSaveData(),this.loadGame()},toHotUpdate:function(){var t=this;if(console.log("[\u5f00\u59cb\u70ed\u66f4\u65b0]"),this.updateNode&&this.updateNode.parent){var e=this.updateNode.getComponent("uiUpdate");e.toHotUpdate(),e.onUpdateFinish(function(){t.updateNode.destroy(),gMainMgr.checkIsaudit(),t.enterWXLogin()})}else gMainMgr.checkIsaudit(),this.enterWXLogin()},enterWXLogin:function(){var t=this;if(B_REVIEW_VER_IOS){var e=iosGameData.readValue("userid");if(e&&""!=e)return void this.onTouristLogin(e)}else{var i=gameData.readValue("userid")||12345,n=gameData.readValue("webtoken")||12345;if(i&&""!=i&&"undefined"!=i&&n&&""!=n&&"undefined"!=n)return void webData.userinfoCallBack(i,n,function(e){gameData.set("userid",i),gameData.storeValue("userid"),gameData.set("token",n),gameData.storeValue("token"),webData.getWebLoginData(e),t.loadGame()},function(){UICtrl.openUI("uiLoading/uiWXLogin")})}UICtrl.openUI("uiLoading/uiWXLogin")},loadGame:function(){var t=this;this.img_loading_bg.active=!0,this.img_progress.getComponent("nodeLoading").init(this.lab_process,function(){t.enterGame()}),this.down_node.active=!1,this.txt_load.opacity=255,this.txt_auther.opacity=0;var e=cc.sequence(cc.delayTime(3),cc.fadeOut(.5),cc.delayTime(3.5),cc.fadeIn(.1)),i=cc.sequence(cc.delayTime(3.5),cc.fadeIn(.1),cc.delayTime(3),cc.fadeOut(.5));this.txt_load.runAction(cc.repeatForever(e)),this.txt_auther.runAction(cc.repeatForever(i))},enterGame:function(){B_REVIEW_VER_IOS?UICtrl.openUI("uiIOS/uiIOSHall"):UICtrl.openUI("uiHall/uiHall"),this.img_loading_bg.active=!1,this.img_bg.active=!1},start:function(){this.loadCSV()},loadCSV:function(){console.log("audioData00000000000000=========="),audioData.loadCSV(),console.log("loadCSV 111111111111111111111111------------"),monsterCsvData.loadCSV(),generalCsvData.loadCSV(),lockheroCsvData.loadCSV(),soldiersCsvData.loadCSV()},enterMain:function(){this.onTouristLogin(util.randomRange(1e5,999999))},onTouristLogin:function(t){t&&(iosGameData.set("userid",t),iosGameData.storeValue("userid")),webData.getTouristData(),pointCsvData.loadCSV(),rankCsvData.loadCSV(),ioslockheroCsvData.loadCSV(),shopCsvData.loadCSV(),this.loadGame()}}),cc._RF.pop()},{"./NewDataMgr":"NewDataMgr",init:"init"}],md5:[function(t,e){"use strict";cc._RF.push(e,"3ce15Z26chNqrCpuJe/HYwX","md5"),function(){function t(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function i(e,i,n,a,o,s){return t((r=t(t(i,e),t(a,s)))<<(c=o)|r>>>32-c,n);var r,c}function n(t,e,n,a,o,s,r){return i(e&n|~e&a,t,e,o,s,r)}function a(t,e,n,a,o,s,r){return i(e&a|n&~a,t,e,o,s,r)}function o(t,e,n,a,o,s,r){return i(e^n^a,t,e,o,s,r)}function s(t,e,n,a,o,s,r){return i(n^(e|~a),t,e,o,s,r)}function r(e,i){var r,c,l,u;e[i>>5]|=128<<i%32,e[14+(i+64>>>9<<4)]=i;for(var d=1732584193,h=-271733879,_=-1732584194,f=271733878,p=0;p<e.length;p+=16)d=n(r=d,c=h,l=_,u=f,e[p],7,-680876936),f=n(f,d,h,_,e[p+1],12,-389564586),_=n(_,f,d,h,e[p+2],17,606105819),h=n(h,_,f,d,e[p+3],22,-1044525330),d=n(d,h,_,f,e[p+4],7,-176418897),f=n(f,d,h,_,e[p+5],12,1200080426),_=n(_,f,d,h,e[p+6],17,-1473231341),h=n(h,_,f,d,e[p+7],22,-45705983),d=n(d,h,_,f,e[p+8],7,1770035416),f=n(f,d,h,_,e[p+9],12,-1958414417),_=n(_,f,d,h,e[p+10],17,-42063),h=n(h,_,f,d,e[p+11],22,-1990404162),d=n(d,h,_,f,e[p+12],7,1804603682),f=n(f,d,h,_,e[p+13],12,-40341101),_=n(_,f,d,h,e[p+14],17,-1502002290),d=a(d,h=n(h,_,f,d,e[p+15],22,1236535329),_,f,e[p+1],5,-165796510),f=a(f,d,h,_,e[p+6],9,-1069501632),_=a(_,f,d,h,e[p+11],14,643717713),h=a(h,_,f,d,e[p],20,-373897302),d=a(d,h,_,f,e[p+5],5,-701558691),f=a(f,d,h,_,e[p+10],9,38016083),_=a(_,f,d,h,e[p+15],14,-660478335),h=a(h,_,f,d,e[p+4],20,-405537848),d=a(d,h,_,f,e[p+9],5,568446438),f=a(f,d,h,_,e[p+14],9,-1019803690),_=a(_,f,d,h,e[p+3],14,-187363961),h=a(h,_,f,d,e[p+8],20,1163531501),d=a(d,h,_,f,e[p+13],5,-1444681467),f=a(f,d,h,_,e[p+2],9,-51403784),_=a(_,f,d,h,e[p+7],14,1735328473),d=o(d,h=a(h,_,f,d,e[p+12],20,-1926607734),_,f,e[p+5],4,-378558),f=o(f,d,h,_,e[p+8],11,-2022574463),_=o(_,f,d,h,e[p+11],16,1839030562),h=o(h,_,f,d,e[p+14],23,-35309556),d=o(d,h,_,f,e[p+1],4,-1530992060),f=o(f,d,h,_,e[p+4],11,1272893353),_=o(_,f,d,h,e[p+7],16,-155497632),h=o(h,_,f,d,e[p+10],23,-1094730640),d=o(d,h,_,f,e[p+13],4,681279174),f=o(f,d,h,_,e[p],11,-358537222),_=o(_,f,d,h,e[p+3],16,-722521979),h=o(h,_,f,d,e[p+6],23,76029189),d=o(d,h,_,f,e[p+9],4,-640364487),f=o(f,d,h,_,e[p+12],11,-421815835),_=o(_,f,d,h,e[p+15],16,530742520),d=s(d,h=o(h,_,f,d,e[p+2],23,-995338651),_,f,e[p],6,-198630844),f=s(f,d,h,_,e[p+7],10,1126891415),_=s(_,f,d,h,e[p+14],15,-1416354905),h=s(h,_,f,d,e[p+5],21,-57434055),d=s(d,h,_,f,e[p+12],6,1700485571),f=s(f,d,h,_,e[p+3],10,-1894986606),_=s(_,f,d,h,e[p+10],15,-1051523),h=s(h,_,f,d,e[p+1],21,-2054922799),d=s(d,h,_,f,e[p+8],6,1873313359),f=s(f,d,h,_,e[p+15],10,-30611744),_=s(_,f,d,h,e[p+6],15,-1560198380),h=s(h,_,f,d,e[p+13],21,1309151649),d=s(d,h,_,f,e[p+4],6,-145523070),f=s(f,d,h,_,e[p+11],10,-1120210379),_=s(_,f,d,h,e[p+2],15,718787259),h=s(h,_,f,d,e[p+9],21,-343485551),d=t(d,r),h=t(h,c),_=t(_,l),f=t(f,u);return[d,h,_,f]}function c(t){for(var e="",i=32*t.length,n=0;n<i;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e}function l(t){var e=[];for(e[(t.length>>2)-1]=void 0,n=0;n<e.length;n+=1)e[n]=0;for(var i=8*t.length,n=0;n<i;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e}function u(t){for(var e,i="0123456789abcdef",n="",a=0;a<t.length;a+=1)e=t.charCodeAt(a),n+=i.charAt(e>>>4&15)+i.charAt(15&e);return n}function d(t){return unescape(encodeURIComponent(t))}function h(t){return c(r(l(e=d(t)),8*e.length));var e}function _(t,e){return function(t,e){var i,n,a=l(t),o=[],s=[];for(o[15]=s[15]=void 0,16<a.length&&(a=r(a,8*t.length)),i=0;i<16;i+=1)o[i]=909522486^a[i],s[i]=1549556828^a[i];return n=r(o.concat(l(e)),512+8*e.length),c(r(s.concat(n),640))}(d(t),d(e))}function f(t,e,i){return e?i?_(e,t):u(_(e,t)):i?h(t):u(h(t))}"function"==typeof define&&define.amd?define(function(){return f}):"object"==typeof e&&e.exports?e.exports=f:(void 0).md5=f}(),cc._RF.pop()},{}],monsterBase:[function(t,e){"use strict";cc._RF.push(e,"3274eR2sshFeKt+h4F67qbK","monsterBase"),cc.Class({extends:ui.baseNode,properties:{_monsterId:void 0,_monsterType:void 0,_atk:void 0,_atkDistance:void 0,_atkType:void 0,_atkRange:void 0,_hp:void 0,_maxHp:void 0,_speed:void 0,_bloodHeight:void 0,_minDieSound:void 0,_maxDieSound:void 0,_monsterPos:void 0,_curTarget:void 0,_monsterAni:void 0,_lastDir:void 0,_curState:void 0,_curLv:void 0,_bEnemy:!1,_isDie:!1,_fightOnlyId:0,_init:!1,_scaleMonster:.3,_updateZindexTime:0,_bBoy:!0},start:function(){},initMonsterData:function(t,e,i,n,a,o,s){this._curLv=e.level,this._atk=e.attack,this._hp=e.blood,this._maxHp=this._hp,this._monsterId=t.monsterId,this._monsterType=t.monsterType,this._armsType=t.armsType,this._atkDistance=t.atkDistance,this._atkType=t.atkType,this._atkRange=t.atkRange,this._bloodHeight=t.bloodHeight,this._minDieSound=t.minSound,this._maxDieSound=t.maxSound,this._lastDir=i?1:-1,this._speed=util.randomRange(t.speedMin,t.speed),this._speedBase=this._speed,this._bHero=n,this._bEnemy=i,this._fightOnlyId=a,this._monsterAni=this.skeleton_hero.getComponent("sp.Skeleton"),this._monsterPos=this.node.position,this._startMonsterPos=o,this._bBoy=t.monsterBoy,this._bPlaySmoke=e.bPlaySmoke,this.onChangeSkeletonData(t.spineName,this._curLv,s),this._bEnemy?(this._scaleMonster=.8,this._bAddHp=!monsterMgr._starWarResult):this._bHero?(this._scaleMonster=.6,this._bAddHp=monsterMgr._starWarResult):this._scaleMonster=.38,this.node.scaleY=this._scaleMonster,this.node.scaleX=this._scaleMonster*this._lastDir,this.node.zIndex=-this._monsterPos.y,this.lbl_level.setLabel(this._curLv),this.img_blood_bg.scaleX=1.8*this._lastDir},onChangeSkeletonData:function(t,e,i){var n=this;cc.resources.load("uiMonster/"+t+"/"+t,sp.SkeletonData,function(){},function(t,a){if(t)console.log(t.message||t);else{if(n._monsterAni.skeletonData=a,!n._bHero){var o=e,s=soldiersCsvData.getImageByID(o);n._monsterAni.setSkin(s)}n._bEnemy?(n.changeMoveAnimation(),n.node.runAction(cc.sequence(cc.moveTo(1,n._startMonsterPos),cc.callFunc(function(){n.changeIdleAnimation()})))):i?n.changeMoveAnimation():n.changeIdleAnimation(),n.img_blood.getComponent(cc.Sprite).fillRange=1,n._bPlaySmoke||(n.img_blood_bg.active=!0),n._init=!0,n._monsterAni.setCompleteListener(function(t){"die"==t.animation.name?n.onMonsterRemove():"hit"==t.animation.name&&4==n._curState&&n.changeIdleAnimation()})}})},onClearTime:function(t){this.bFighting=!1,this.node.stopAllActions(),this.unscheduleAllCallbacks(),t?this.changeWinAnimation():this.changeIdleAnimation()},update:function(t){this._init&&(this._isDie||t>.2||1==this._curState&&(this.node.zIndex=-this.node.y))},monsterPlayAni:function(t){this._lastActionName&&this._lastActionName==t||!t||""==t||!this._monsterAni||(this._monsterAni.setAnimation(0,t,!0),this._lastActionName=t)},changeIdleAnimation:function(){this._isDie||(this.monsterPlayAni("idle"),this._curState=0)},changeMoveAnimation:function(){if(!this._isDie){var t="walk";monsterMgr._bFighting&&(t="move"),this.monsterPlayAni(t),this._curState=1}},changeFightAnimation:function(){if(!this._isDie){var t="attack";if(util.randomRange(1,100)<=50&&(t="attack1"),this._bHero){var e=0;util.randomRange(1,100)<=50&&(e=1),this._bBoy?audioData.playSoundByID(46+e):audioData.playSoundByID(48+e)}this.monsterPlayAni(t),this._curState=2}},changeDieAnimation:function(){if(!this._isDie){if(this._minDieSound==this._maxDieSound)audioData.playSoundByID(this._minDieSound);else{var t=util.randomRange(this._minDieSound,this._maxDieSound);audioData.playSoundByID(t)}this.monsterPlayAni("die"),this._curState=3}},changeWinAnimation:function(){this._isDie||this.monsterPlayAni("win")},changeStrikeHitAnimation:function(){if(!this._isDie){if(this.monsterPlayAni("hit"),this._bHero){var t=0;util.randomRange(1,100)<=50&&(t=1),this._bBoy?audioData.playSoundByID(42+t):audioData.playSoundByID(44+t)}this._curState=4}},onLockingMonster:function(){this._curTarget=void 0,this._bEnemy?(this._curTarget=monsterMgr.onEnemyFindTargetMonster(),this.bBulletMonster()?this._curTargetPosition=monsterMgr._bulletMovePosList[2]:this._curTargetPosition=cc.v2(this._curTarget.position.x+120,this._curTarget.position.y)):(this._curTarget=monsterMgr._enemyBossMonster,this.bBulletMonster()?this._bHero?this._curTargetPosition=monsterMgr._bulletMovePosList[1]:this._curTargetPosition=monsterMgr._bulletMovePosList[3]:this._curTargetPosition=cc.v2(this._curTarget.monsterJs._startMonsterPos.x-80,this._curTarget.monsterJs._startMonsterPos.y))},onMonsterDie:function(){this.img_blood_bg.active=!1,this.bFighting=!1,this.changeDieAnimation(),this._isDie=!0,monsterMgr.onMonsterDieNotice(this._fightOnlyId,this._bEnemy)},onMonsterRemove:function(){this.unscheduleAllCallbacks(),this.node.removeAllChildren(),this.node.removeFromParent(!0)},onTargetMonsterDie:function(){this._curTarget=null,this.bFighting=!1,this.onLockingMonster()},updateBloodBar:function(t){this._isDie||(this._hp-=t,this._bAddHp&&this._hp<=0&&(this._hp=1),this.img_blood&&(this.img_blood.getComponent(cc.Sprite).fillRange=this._hp/this._maxHp),this._hp<=0?this.onMonsterDie():this.changeStrikeHitAnimation())},onMonsterbeHurt:function(t){this.updateBloodBar(t)},initBullet:function(){var t=this,e=monsterMgr.getBulletPrefab(this._monsterId);cc.resources.load(e,cc.Prefab,function(e,i){if(e)console.log(e.message||e);else if(t._curTarget&&t.node){var n=cc.instantiate(i);t.onBulletAttack(n)}})},onBulletAttack:function(t){var e=this;if(this._curTarget&&this.node){this._monsterPos=this.node.position,t.stopAllActions(),t.parent=this.node.parent,t.setPosition(this._monsterPos.x,this._monsterPos.y);var i=this._curTarget.position;this._curTarget.monsterJs.bHero?i.y+=100:i.y+=50;var n=util.calcTwoPointDistance(this._monsterPos,this._curTarget.position)/this._atkDistance,a=util.TwoPointAngle(this._monsterPos,i),o=i.x-this._monsterPos.x,s=i.y-this._monsterPos.y,r=.35*n,c=cc.moveBy(r,cc.v2(o,s));t.angle=a;var l=cc.scaleTo(.2*n,1),u=cc.sequence(cc.delayTime(.25*n),cc.callFunc(function(){t.removeAllChildren(),e.onPlayAttackSound(),e._curTarget.monsterJs.onMonsterbeHurt(e._atk)})),d=cc.spawn(l,c,u);t.runAction(d)}},onPlayAttackSound:function(){this.bBulletMonster()?audioData.playSoundByID(16,!0):2==this._armsType?audioData.playSoundByID(15,!0):audioData.playSoundByID(14,!0)},onAttackFighting:function(){var t=this;this._curTarget||(console.log("\u4e0d\u5b58\u5728\u76ee\u6807,\u9700\u8981\u91cd\u65b0\u9501\u5b9a\u76ee\u6807"),this.onLockingMonster()),this._bEnemy||(this._curTarget.zIndex=-500);var e=gameData.war_move_time||1.2;if(console.log("=====\u3010\u79fb\u52a8\u65f6\u95f4\u3011=====",e),this.bBulletMonster()){this.changeMoveAnimation();var i=cc.sequence(cc.moveTo(e,this._curTargetPosition),cc.callFunc(function(){t.changeFightAnimation(),t.scheduleOnce(function(){t.initBullet()},.2)}),cc.delayTime(.6),cc.callFunc(function(){t.changeMoveAnimation()}),cc.moveTo(e,this._startMonsterPos),cc.callFunc(function(){t.changeIdleAnimation(),monsterMgr.onNoticeNextMonsterAttack()}));this.node.runAction(i)}else{var n=cc.sequence(cc.callFunc(function(){t.changeMoveAnimation()}),cc.moveTo(e,this._curTargetPosition),cc.callFunc(function(){t.node.zIndex=t._curTarget.zIndex+1,t.changeFightAnimation()}),cc.delayTime(.5),cc.callFunc(function(){t.onPlayAttackSound(),t._curTarget.monsterJs.onMonsterbeHurt(t._atk)}),cc.delayTime(.3),cc.callFunc(function(){t.changeMoveAnimation()}),cc.moveTo(e,this._startMonsterPos),cc.callFunc(function(){t.changeIdleAnimation(),monsterMgr.onNoticeNextMonsterAttack()}));this.node.runAction(n)}},bBulletMonster:function(){return 3==this._armsType},setTimeScale:function(t){this._timeScale!=t&&(this._timeScale=t,this._speed=1==t?this._speedBase:this._speed*this._timeScale,this._monsterAni.timeScale=t)},onShowOrHideMonsterInfo:function(t){this.sp_yingzi.active=t,this.skeleton_hero.active=t,this.img_blood_bg.active=t}}),cc._RF.pop()},{}],monsterCsvData:[function(t,e){"use strict";cc._RF.push(e,"a9364h9HfZKcLm0WeKTqMC5","monsterCsvData");var i=t("csvData"),n=cc.Class({extends:i,name:"monsterCsvData",properties:{_fileName:{override:!0,default:"monster"}},getMonsterInfo:function(t){var e=this.getIDByKeyValue("monsterId",t);return this.getInfoByID(e)},getMonSpdByID:function(t){return this.getValueByIDKey(t,"walkspeed")},getMonHPByID:function(t){return this.getValueByIDKey(t,"HP")},getMonIconByID:function(t){return this.getValueByIDKey(t,"icon")},getMonGoldByID:function(t){return parseInt(this.getValueByIDKey(t,"dropgold"))}});window.monsterCsvData=new n,cc._RF.pop()},{csvData:"csvData"}],monsterHero:[function(t,e){"use strict";cc._RF.push(e,"61dcdbClxlKj5XxUq01ns9f","monsterHero");var i=t("monsterBase");cc.Class({extends:i,properties:{_standingTime:0},start:function(){this._monsterPos=this.node.position}}),cc._RF.pop()},{monsterBase:"monsterBase"}],monsterMgr:[function(t,e){"use strict";cc._RF.push(e,"346faC/kABDEINfuIUUrY2O","monsterMgr");var i=cc.Class({extends:cc.Component,properties:{_fightOnlyId:0,_gameStatus:0},init:function(){this.GAME_MY_MONSTER_POSITION_LIST={1:cc.v2(-280,-35),2:cc.v2(-190,130),3:cc.v2(-235,50),4:cc.v2(-90,50)},this.GAME_ENEMY_BOSS_POSITION=cc.v2(200,0),this._bulletMovePosList={1:cc.v2(-50,0),2:cc.v2(80,0),3:cc.v2(-160,-35)},this.timeSpAtk=GM.HallUi.time_sp_action,this._lastMonsterLevel={},this._bFirstInitMonster=!0,this.initFightMonsterData(),this.onCreateFightingMonster()},onSetGameStatusMode:function(t){this._gameStatus=t},initFightMonsterData:function(){this._myMonsterGroup={},this._enemyBossMonster=void 0,this._myAllBloodNumber=0,this._enemyAllBloodNumber=0,this._myMonsterIDGroup={},this._enemyBossInfo={},this._fightOnlyId=0,this._gameStatus=0},onCreateFightingMonster:function(t,e){var i=this;for(var n in audioData.onResureMusic(),this.onClearAllMonster(),this.onInitFightInfo(t),this._bFirstInitMonster=!1,this._myMonsterIDGroup)if(this._myMonsterIDGroup[n]){var a=2===this._myMonsterIDGroup[n].monsterType;this.initMonster(n,this._myMonsterIDGroup[n],a,!1,e)}e?setTimeout(function(){GM.HallUi.onMoveSceneBg(function(){for(var t in i.initMonster(i._enemyBossInfo.monsterID,i._enemyBossInfo,!0,!0,e),i._myMonsterGroup)i._myMonsterGroup[t]&&i._myMonsterGroup[t].monsterJs.changeIdleAnimation();i.timeSpAtk.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){i._startIndex=1,i._iMaxMonsterCount=5,i._bFighting=!0,i.onSetGameStatusMode(1),i.onStartFightIng()}))),i._pauseGame=!1})},1200):(this.initMonster(this._enemyBossInfo.monsterID,this._enemyBossInfo,!0,!0),this.timeSpAtk.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){i._startIndex=1,i._iMaxMonsterCount=5,i._bFighting=!0,i.onSetGameStatusMode(1),i.onStartFightIng()}))))},initMonster:function(t,e,i,n,a){var o=monsterCsvData.getMonsterInfo(Number(t)),s=void 0,r=void 0;s=n?cc.instantiate(GM.HallUi.monsterBoss):cc.instantiate(GM.HallUi.monsterDogFacePrefab),this._fightOnlyId+=1;var c=s.addComponent("monsterHero");s.fightOnlyId=this._fightOnlyId,s.monsterJs=c,n?(r=this.GAME_ENEMY_BOSS_POSITION,s.position=cc.v2(500,0),this._enemyBossMonster=s):(r=this.GAME_MY_MONSTER_POSITION_LIST[e.index],s.position=this.GAME_MY_MONSTER_POSITION_LIST[e.index],this._myMonsterGroup[e.index]=s),s.parent=GM.HallUi.node_monster,s.monsterJs.initMonsterData(o,e,n,i,s.fightOnlyId,r,a),e.bPlaySmoke&&(s.monsterJs.onShowOrHideMonsterInfo(!1),setTimeout(function(){s.monsterJs.onShowOrHideMonsterInfo(!0)},300),util.showArtEffect("ui/effect/somke",s,cc.v2(0,50),"somke",!1,null,null,3))},getBulletPrefab:function(){return"ui/uiMonster/uiBullet"},onStartFightIng:function(){if(this._bFighting){for(var t=0,e=void 0,i=1;i<=4;i++)if(this._myMonsterGroup[i]&&(t+=1,this._startIndex<=t)){e=this._myMonsterGroup[i];break}e||(e=this._enemyBossMonster),e&&e.monsterJs.onAttackFighting()}},onNoticeNextMonsterAttack:function(){this._startIndex+=1,this._startIndex>this._iMaxMonsterCount&&(this._startIndex=1),this.onStartFightIng()},onMonsterDieNotice:function(t,e){if(e)this._enemyBossMonster=void 0,console.log("=====[\u654c\u519bboss\u6b7b\u4ea1\uff0c\u6211\u65b9\u80dc\u5229]====="),this._iMaxMonsterCount-=1,this.onFightIngGameEnd();else{for(var i in this._myMonsterGroup)if(this._myMonsterGroup[i]&&this._myMonsterGroup[i].fightOnlyId==t){this._iMaxMonsterCount-=1,delete this._myMonsterGroup[i];break}if(Object.keys(this._myMonsterGroup).length<=0)return console.log("=====[\u6211\u519b\u5168\u90e8\u6b7b\u4ea1\uff0c\u6211\u65b9\u5931\u8d25,\u9700\u91cd\u65b0\u95ef\u5173]====="),void this.onGameFailEnd();this._enemyBossMonster&&this._enemyBossMonster.monsterJs&&this._enemyBossMonster.monsterJs.onTargetMonsterDie()}},onFightIngGameEnd:function(){var t=this;this._bFighting=!1,this.onClearLeveMonsterTime(),B_REVIEW_VER_IOS?(iosGameData.gPassPointCount<2499&&iosGameData.plus("gPassPointCount",1),util.isIos()||cc.audioEngine.stopAllEffects(),audioData.onPauseMuisc(),audioData.playSoundByID(6),this.timeSpAtk.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){t.onClearAllMonster(),soldiersIOSMgr.onLockHero(),t.onCreateFightingMonster()})))):(gameData.set("gMakeBreakThroughCount",0),gameData.current_check_point<2499&&(gameData.plus("current_check_point",1),gameData.plus("remain_win_cnt",1),t.onShowBattleGameEnd()))},onShowBattleGameEnd:function(){console.log("onShowBattleGameEnd");var t=this;this.timeSpAtk.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){t.onClearAllMonster(),console.log("onShowBattleGameEnd \u663e\u793aui"),UICtrl.openUI("uiMonster/uiBattleEnd",function(e){e.initData(t._starWarResult)})})))},onClearLeveMonsterTime:function(){for(var t in this.onSetGameStatusMode(2),cc.director.getScheduler().setTimeScale(1),this.setMonsterTimeScale(1),this._myMonsterGroup)this._myMonsterGroup[t]&&this._myMonsterGroup[t].monsterJs.onClearTime(this._starWarResult);this._enemyBossMonster&&this._enemyBossMonster.monsterJs.onClearTime(!this._starWarResult)},onClearAllMonster:function(){for(var t in this._myMonsterGroup)this._myMonsterGroup[t]&&this._myMonsterGroup[t].monsterJs.onMonsterRemove();this._enemyBossMonster&&this._enemyBossMonster.monsterJs.onMonsterRemove(),GM.HallUi.node_monster.removeAllChildren(),this.initFightMonsterData()},setMonsterTimeScale:function(t){for(var e in this._enemyBossMonster&&this._enemyBossMonster.monsterJs.setTimeScale(t),this._myMonsterGroup)this._myMonsterGroup[e]&&this._myMonsterGroup[e].monsterJs.setTimeScale(t)},onInitFightInfo:function(t){var e=void 0,i=void 0;if(B_REVIEW_VER_IOS){e=soldiersIOSMgr.getMaxSoldier(),i=iosGameData.battleHeroId;var n=pointCsvData.getAllDatas(),a=void 0;for(var o in n)if(iosGameData.gPassPointCount>=Number(n[o].start)&&iosGameData.gPassPointCount<=Number(n[o].end)){a=n[o];break}var s=50;a?(this._iFightTime=util.randomRange(Number(a.min_time),Number(a.max_time)),s=Number(a.initial_odds)+iosGameData.gMakeBreakThroughCount*Number(a.Increase_odds)):this._iFightTime=util.randomRange(60,120);var r=util.randomRange(1,100);this._starWarResult=r<=s}else{e=soldiersMgr.getMaxSoldier(),i=gameData.battleHeroId;var c=gameData.check_point_setting,l=void 0;for(var u in c)if(gameData.current_check_point>=Number(c[u].start)&&gameData.current_check_point<=Number(c[u].end)){l=c[u];break}if(this._iFightTime=l?util.randomRange(Number(l.min_time),Number(l.max_time)):util.randomRange(60,120),gameData.remain_win_cnt<=0||gameData.current_check_point>=2499)this._starWarResult=!1;else{var d=50;l&&(d=Number(l.initial_odds)+gameData.gMakeBreakThroughCount*Number(l.increase_odds));var h=util.randomRange(1,100);this._starWarResult=h<=d,console.log("=======[\u83b7\u53d6\u5f53\u524d\u80dc\u7387]=====",this._starWarResult,h,d,l)}}this._iStartDileTime=3,this._atkFrequency=16;var _=Math.ceil((this._iFightTime-this._iStartDileTime)/3.2),f=e[0],p=e[2],g=e[1],m=Math.ceil((f+p+g)/3);this._myMonsterIDGroup[10001]={level:f,index:1,bPlaySmoke:!this._bFirstInitMonster},this._myMonsterIDGroup[10003]={level:g,index:2,bPlaySmoke:!this._bFirstInitMonster},this._myMonsterIDGroup[10002]={level:p,index:3,bPlaySmoke:!this._bFirstInitMonster},this._lastMonsterLevel[10001]=f,this._lastMonsterLevel[10003]=g,this._lastMonsterLevel[10002]=p,this._myMonsterIDGroup[i]={level:m,index:4,bPlaySmoke:!this._bFirstInitMonster};var v=0;for(var b in this._myMonsterIDGroup){var y=monsterCsvData.getMonsterInfo(Number(b));if(y&&y.atk){var D=y.atk*this._myMonsterIDGroup[b].level;this._myMonsterIDGroup[b].monsterType=Number(y.monsterType),this._myMonsterIDGroup[b].attack=D,this._myMonsterIDGroup[b].baseBlood=y.hp,v+=D,this._myAllBloodNumber+=y.hp}}this._enemyBossInfo.monsterID=t||util.randomRange(20001,20024),this._enemyBossInfo.level=m+2;var w=monsterCsvData.getMonsterInfo(Number(this._enemyBossInfo.monsterID));if(this._enemyBossInfo.attack=this._enemyBossInfo.level*w.atk*1.8,this._starWarResult){this._enemyBossInfo.blood=Math.floor(v/4)*_;var S=Math.random()*this._enemyBossInfo.blood+1.2*this._enemyBossInfo.blood,I=Math.ceil(S/this._myAllBloodNumber);for(var C in this._myMonsterIDGroup)this._myMonsterIDGroup[C]&&(this._myMonsterIDGroup[C].blood=this._myMonsterIDGroup[C].baseBlood*I)}else{var k=this._enemyBossInfo.attack*(_/5),R=Math.ceil(k/this._myAllBloodNumber);for(var M in this._myMonsterIDGroup)this._myMonsterIDGroup[M]&&(this._myMonsterIDGroup[M].blood=this._myMonsterIDGroup[M].baseBlood*R);var T=Math.ceil(v/4)*_,B=Math.random()*T*.5+1.1*T;this._enemyBossInfo.blood=util.randomRange(T,B)}},onEnemyFindTargetMonster:function(){for(var t=1;t<=4;t++)if(this._myMonsterGroup[t])return this._myMonsterGroup[t]},onGameFailEnd:function(){var t=this;B_REVIEW_VER_IOS?iosGameData.plus("gMakeBreakThroughCount",1):gameData.plus("gMakeBreakThroughCount",1),util.isIos()||cc.audioEngine.stopAllEffects(),audioData.onPauseMuisc(),audioData.playSoundByID(7);var e=this._enemyBossInfo.monsterID;this._bFighting=!1,this.onClearLeveMonsterTime(),this.timeSpAtk.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){t.onClearAllMonster(),t.onCreateFightingMonster(e)})))},onPauseMonsterAllActions:function(){if(!this._pauseGame){this._pauseGame=!0;for(var t=1;t<=4;t++)this._myMonsterGroup[t]&&this._myMonsterGroup[t].pauseAllActions();this._enemyBossMonster&&this._enemyBossMonster.pauseAllActions(),this.timeSpAtk.pauseAllActions()}},onResumeMonsterAllActions:function(){if(this._pauseGame){this._pauseGame=!1;for(var t=1;t<=4;t++)this._myMonsterGroup[t]&&this._myMonsterGroup[t].resumeAllActions();this._enemyBossMonster&&this._enemyBossMonster.resumeAllActions(),this.timeSpAtk.resumeAllActions()}}});window.monsterMgr=new i,cc._RF.pop()},{}],mta_analysis:[function(e,i){"use strict";cc._RF.push(i,"5cb86Tja91A/p235JMz6pF2","mta_analysis");var n={app_id:"",event_id:"",api_base:"https://pingtas.qq.com/pingd",prefix:"_mta_",version:"1.3.6",stat_share_app:!1,stat_pull_down_fresh:!1,stat_reach_bottom:!1};function a(t){wx.getNetworkType({success:function(e){t(e.networkType)}})}function o(){var t=wx.getSystemInfoSync();return{adt:encodeURIComponent(t.model),scl:t.pixelRatio,scr:t.windowWidth+"x"+t.windowHeight,lg:t.language,fl:t.version,jv:encodeURIComponent(t.system),tz:encodeURIComponent(t.platform)}}function s(){try{return wx.getStorageSync(n.prefix+"auid")}catch(t){}}function r(){try{var t=u();return wx.setStorageSync(n.prefix+"auid",t),t}catch(t){}}function c(){try{return wx.getStorageSync(n.prefix+"ssid")}catch(t){}}function l(){try{var t="s"+u();return wx.setStorageSync(n.prefix+"ssid",t),t}catch(t){}}function u(t){for(var e=[0,1,2,3,4,5,6,7,8,9],i=10;1<i;i--){var n=Math.floor(10*Math.random()),a=e[n];e[n]=e[i-1],e[i-1]=a}for(i=n=0;5>i;i++)n=10*n+e[i];return(t||"")+(n+"")+ +new Date}function d(){try{var t=getCurrentPages(),e="/";return 0<t.length&&(e=t.pop().__route__),e}catch(t){console.log("get current page path error:"+t)}}function h(){var t={dm:"wechat.apps.xx",url:d(),pvi:"",si:"",ty:0};return t.pvi=function(){var e=s();return e||(e=r(),t.ty=1),e}(),t.si=function(){var t=c();return t||(t=l()),t}(),t}function _(){var t=o();return a(function(t){try{wx.setStorageSync(n.prefix+"ntdata",t)}catch(t){}}),t.ct=wx.getStorageSync(n.prefix+"ntdata")||"4g",t}function f(){var t,e=p.Data.userInfo,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t+"="+e[t]);return e=i.join(";"),{r2:n.app_id,r4:"wx",ext:"v="+n.version+(null!==e&&""!==e?";ui="+encodeURIComponent(e):"")}}var p={App:{init:function(t){"appID"in t&&(n.app_id=t.appID),"eventID"in t&&(n.event_id=t.eventID),"statShareApp"in t&&(n.stat_share_app=t.statShareApp),"statPullDownFresh"in t&&(n.stat_pull_down_fresh=t.statPullDownFresh),"statReachBottom"in t&&(n.stat_reach_bottom=t.statReachBottom),l();try{"lauchOpts"in t&&(p.Data.lanchInfo=t.lauchOpts,p.Data.lanchInfo.landing=1)}catch(t){}}},Page:{init:function(){var t,e=getCurrentPages()[getCurrentPages().length-1];e.onShow&&(t=e.onShow,e.onShow=function(){p.Page.stat(),t.call(this,arguments)}),n.stat_pull_down_fresh&&e.onPullDownRefresh&&function(){var t=e.onPullDownRefresh;e.onPullDownRefresh=function(){p.Event.stat(n.prefix+"pulldownfresh",{url:e.__route__}),t.call(this,arguments)}}(),n.stat_reach_bottom&&e.onReachBottom&&function(){var t=e.onReachBottom;e.onReachBottom=function(){p.Event.stat(n.prefix+"reachbottom",{url:e.__route__}),t.call(this,arguments)}}(),n.stat_share_app&&e.onShareAppMessage&&function(){var t=e.onShareAppMessage;e.onShareAppMessage=function(){return p.Event.stat(n.prefix+"shareapp",{url:e.__route__}),t.call(this,arguments)}}()},multiStat:function(t,e){if(1==e)p.Page.stat(t);else{var i=getCurrentPages()[getCurrentPages().length-1];i.onShow&&function(){var e=i.onShow;i.onShow=function(){p.Page.stat(t),e.call(this,arguments)}}()}},stat:function(t){if(""!=n.app_id){var e=[],i=f();if(t&&(i.r2=t),t=[h(),i,_()],p.Data.lanchInfo){t.push({ht:p.Data.lanchInfo.scene,rdm:"/",rurl:p.Data.lanchInfo.path}),p.Data.lanchInfo.query&&p.Data.lanchInfo.query._mta_ref_id&&t.push({rarg:p.Data.lanchInfo.query._mta_ref_id});try{1==p.Data.lanchInfo.landing&&(i.ext+=";lp=1",p.Data.lanchInfo.landing=0)}catch(t){}}t.push({rand:+new Date}),i=0;for(var a=t.length;i<a;i++)for(var o in t[i])t[i].hasOwnProperty(o)&&e.push(o+"="+(void 0===t[i][o]?"":t[i][o]));wx.request({url:n.api_base+"?"+e.join("&").toLowerCase()})}}},Event:{stat:function(t,e){if(""!=n.event_id){var i=[],a=h(),o=f();a.dm="wxapps.click",a.url=t,o.r2=n.event_id;var s,r=void 0===e?{}:e,c=[];for(s in r)r.hasOwnProperty(s)&&c.push(encodeURIComponent(s)+"="+encodeURIComponent(r[s]));for(r=c.join(";"),o.r5=r,r=0,o=(a=[a,o,_(),{rand:+new Date}]).length;r<o;r++)for(var l in a[r])a[r].hasOwnProperty(l)&&i.push(l+"="+(void 0===a[r][l]?"":a[r][l]));wx.request({url:n.api_base+"?"+i.join("&").toLowerCase()})}}},Data:{userInfo:null,lanchInfo:null}};i.exports=p,cc._RF.pop()},{}],nativeData:[function(t,e){"use strict";cc._RF.push(e,"5aef0iAOFxM1q9Z0yhFRLjq","nativeData");var i=t("baseData"),n=cc.Class({extends:i,name:"nativeData",properties:{sucsCallback:void 0,failCallback:void 0,Interactionclose:void 0,_lastPlayVideoTime:0},ctor:function(){this.showAd=["com/lwhy/qhdld/TopOnSDK","com/lwhy/qhdld/TopOnSDK"],this.reward=!!util.isIos()},openShare:function(t,e,i,n,a){this._bSponsorShare=!0,this._shareSucCallback=n,this._shareFailCallback=a,cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("iOSAPIForOtherPlatform","showUMMenuWith:title:des:",t,e,i):cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/lwhy/qhdld/AppActivity","openShare","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t,e,i)},openShareImg:function(t,e,i,n){this._bSponsorShare=!0,this._shareSucCallback=i,this._shareFailCallback=n,console.log("nativeData\u5206\u4eab\u56fe\u7247"),cc.sys.os==cc.sys.OS_IOS?(console.log("ios\u5206\u4eab\u56fe\u7247"),jsb.reflection.callStaticMethod("iOSAPIForOtherPlatform","shareWithImageData:Platform:",e,t)):cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/lwhy/qhdld/AppActivity","openShareImg"+t,"(Ljava/lang/String;)V",e)},toShareWX:function(t,e,i,n,a){this._bSponsorShare=!0,this._shareSucCallback=n,this._shareFailCallback=a,cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("iOSAPIForOtherPlatform","shareWXWith:title:des:",t,e,i):cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/lwhy/qhdld/AppActivity","toShareWX","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t,e,i)},toShareWXCricle:function(t,e,i,n){this._bSponsorShare=!0,this._shareSucCallback=i,this._shareFailCallback=n,cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("iOSAPIForOtherPlatform","shareWXTimeLineWith:title:",t,e):cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/lwhy/qhdld/AppActivity","toShareWXCricle","(Ljava/lang/String;Ljava/lang/String;)V",t,e)},toShareQQ:function(t,e,i,n,a){this._bSponsorShare=!0,this._shareSucCallback=n,this._shareFailCallback=a,cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("iOSAPIForOtherPlatform","shareQQWith:title:des:",t,e,i):cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/lwhy/qhdld/AppActivity","toShareQQ","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t,e,i)},toShareQQZone:function(t,e,i,n,a){this._bSponsorShare=!0,this._shareSucCallback=n,this._shareFailCallback=a,cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("iOSAPIForOtherPlatform","shareQQZoneWith:title:des:",t,e,i):cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/lwhy/qhdld/AppActivity","toShareQQZone","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t,e,i)},toShareSina:function(t,e,i,n,a,o){this._bSponsorShare=!0,this._shareSucCallback=a,this._shareFailCallback=o,cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/lwhy/qhdld/AppActivity","toShareSina","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t,e,i,n)},shareSucListener:function(){var t=this;setTimeout(function(){t._shareSucCallback&&util.showTip("\u9886\u53d6\u6210\u529f"),t._bSponsorShare=!1,t._shareSucCallback&&t._shareSucCallback(),t._shareSucCallback=null,t._shareFailCallback=null},500)},shareFailListener:function(){var t=this;setTimeout(function(){t._bSponsorShare=!1,t._shareFailCallback&&(util.randomRange(1,100)<=50?util.showTip("\u8bf7\u524d\u5f80\u4e0d\u540c\u7684\u7fa4\u8fdb\u884c\u5206\u4eab"):util.showTip("\u5206\u4eab\u5931\u8d25\uff0c\u8bf7\u5206\u4eab\u5230\u7fa4\u91cc")),t._shareFailCallback&&t._shareFailCallback(),t._shareSucCallback=null,t._shareFailCallback=null})},onShareMachineMade:function(t){!t||t<=3?this.shareFailListener():this.shareSucListener()},loginWX:function(){cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("iOSAPIForOtherPlatform","loginWithWX"):cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/lwhy/qhdld/AppActivity","loginWX","()V")},onLoginWX:function(t){console.log("loginwx suc"),gameData.isLogin?webData.bind_wechatCallBack(t.openid,t.access_token,function(t){util.showTip("\u5fae\u4fe1\u6388\u6743\u6210\u529f"),gameData.set("nickname",t.data.wx_nickname),gameData.set("headWeb",t.data.avatar_url),gameData.set("authorization",!0);var e=UICtrl.findUI("uiSetting/uiSetting");cc.isValid(e)&&e.getComponent("uiSetting").initData(),GM.MainTop.getComponent("uiTop").initData()},function(t){util.showTip(t.message)}):(gameData.set("openid",t.openid),gameData.storeValue("openid"),gameData.set("headWeb",t.iconurl),gameData.storeValue("headWeb"),gameData.set("nickname",t.name),gameData.storeValue("nickname"),gameData.set("unionid",t.unionid),gameData.storeValue("unionid"),gameData.set("token",t.access_token),gameData.storeValue("token"),webData.wxCallBackCode(t.openid,t.access_token,function(t){gameData.set("token",t.data.api_token),gameData.storeValue("token"),gameData.set("userid",t.data.user_id),gameData.storeValue("userid"),gameData.set("webtoken",t.data.api_token),gameData.storeValue("webtoken"),webData.getWebLoginData(t),cc.Canvas.instance.node.getComponent("main").loadGame()},function(t){util.showTip(t.message)}))},loginApple:function(){cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("HandleSignInWithAppleModel","loginWithApple")},onLoginApple:function(t){var e=t.appleToken,i=t.appleUserId;console.log("appleToken:"+e+"/nappleUer"+i),webData.appleCallBackCode(i,e,function(t){gameData.set("token",t.data.api_token),gameData.storeValue("token"),gameData.set("userid",t.data.user_id),gameData.storeValue("userid"),gameData.set("webtoken",t.data.api_token),gameData.storeValue("webtoken"),webData.getWebLoginData(t),console.log("[\u8fdb\u5165\u4e3b\u754c\u9762]"),gMainMgr.enterHall()},function(){util.showTip(t.message)})},isInstallWX:function(){return cc.sys.os!=cc.sys.OS_IOS||jsb.reflection.callStaticMethod("iOSAPIForOtherPlatform","isInstallWX")},isInstallQQ:function(){return cc.sys.os!=cc.sys.OS_IOS||jsb.reflection.callStaticMethod("iOSAPIForOtherPlatform","isInstallQQ")},showAlterFromIos:function(t){if(cc.sys.os==cc.sys.OS_IOS)return jsb.reflection.callStaticMethod("publicAPI","showiOSAlertWithJsonString:",JSON.stringify(t))},iosAlterCancel:function(t){var e=UICtrl.findUI(t.path);cc.isValid(e)&&e.getComponent(t.className).AlterCancelFromIos&&(console.log("native iosAlterCancel"),e.getComponent(t.className).AlterCancelFromIos())},iosAlterClicked:function(t){var e=UICtrl.findUI(t.path);cc.isValid(e)&&e.getComponent(t.className).AlterClickedFromIos&&(console.log("native iosAlterClicked"),e.getComponent(t.className).AlterClickedFromIos())},showFeed:function(){var t=this.getChannelCode();gameData.oppo_channel_review&&20==t||gameData.vivo_channel_review&&40==t||gMainMgr.isShowFeed||(this.adId=this.switchAd(),cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("toponManage","showFeed"):cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod(this.showAd[0],"showFeed","()V"))},hideFeed:function(){cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("toponManage","hideFeed"):cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod(this.showAd[0],"hideFeed","()V")},showBanner:function(){var t=this.getChannelCode();gameData.oppo_channel_review&&20==t||gameData.vivo_channel_review&&40==t||(cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("toponManage","showBanner"):cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod(this.showAd[0],"showBanner","()V"))},hideBanner:function(){cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("toponManage","hideBanner"):cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod(this.showAd[0],"hideBanner","()V")},showLongBanner:function(){var t=this.getChannelCode();gameData.oppo_channel_review&&20==t||(cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("toponManage","showBanner"):cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod(this.showAd[0],"showLongBanner","()V"))},hideLongBanner:function(){cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("toponManage","hideBanner"):cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod(this.showAd[0],"hideLongBanner","()V")},hasSplashAd:function(){if(cc.sys.os==cc.sys.OS_IOS){var t=jsb.reflection.callStaticMethod("toponManage","hasSplashAd");return console.log("ios \u5f00\u5c4f\u8fd4\u56de"+t),t}return cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/lwhy/qhdld/TopOnSDK","hasSplashAd","()Z")},loadSplashAd:function(){cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("toponManage","showSplash"):cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/lwhy/qhdld/TopOnSDK","loadSplashAd","()V")},onSplashFinish:function(){console.log("[\u5f00\u5c4f\u5e7f\u544a\u7ed3\u675f\u8fd4\u56de]"),GM.main?GM.main.toGetconfig():setTimeout(function(){GM.main.toGetconfig()},1e3)},loadInteractionAd:function(t){this.Interactionclose=t,this.adId=this.switchAd();var e=this.getChannelCode();gameData.oppo_channel_review&&20==e?this.onInteractionAdSuc():gameData.vivo_channel_review&&40==e?this.onInteractionAdSuc():gMainMgr.isShowInteraction?this.onInteractionAdSuc&&this.onInteractionAdSuc():cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("toponManage","showInteractionAd"):cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod(this.showAd[0],"showInteractionAd","()V")},showRewardAd:function(t){t()},onWatchVideoSuc:function(t){var e=this;console.log("[\u89c6\u9891\u6210\u529f\u8fd4\u56de]",t.network_placement_id,t.network_firm_id,t.adsource_id),this.network_firm_id=t.network_firm_id,this.network_placement_id=t.network_placement_id,setTimeout(function(){e._lastPlayVideoTime=Date.now(),e.sucsCallback&&audioData.ResumeAllSound(),e.sucsCallback&&e.sucsCallback(),e.sucsCallback=null,e.failCallback=null},500)},onWatchMVideoSuc:function(t,e){var i=this;console.log("[\u89c6\u9891\u6210\u529f\u8fd4\u56dem\u805a\u5408]",t,e),this.network_firm_id={1:15,3:8,7:28}[t],this.network_placement_id=e,setTimeout(function(){i._lastPlayVideoTime=Date.now(),i.sucsCallback&&audioData.ResumeAllSound(),i.sucsCallback&&i.sucsCallback(),i.sucsCallback=null,i.failCallback=null},500)},onWatchVideoFail:function(){var t=this;console.log("[\u89c6\u9891\u5931\u8d25\u8fd4\u56de]"),setTimeout(function(){t.failCallback&&(t.failCallback&&audioData.ResumeAllSound(),t.failCallback&&t.failCallback(),t.failCallback=null,t.failVideoid=500+t.adId,UICtrl.openUI("uiHall/uiClickCd",function(t){t.initData("\u5f53\u524d\u65e0\u5e7f\u544a\u89c6\u9891\uff0c\n\u8bf7\u7a0d\u540e\u518d\u8bd5...")}))},500)},onInteractionAdSuc:function(){console.log("[\u63d2\u5c4f\u5e7f\u544a\u5173\u95ed\u8fd4\u56de]"),this.Interactionclose&&this.Interactionclose(),this.Interactionclose=null},setRewardID:function(t){cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("toponManage","setRewardID:userID:",t,gameData.userid):cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/lwhy/qhdld/TopOnSDK","setRewardID","(Ljava/lang/String;Ljava/lang/String;)V",t,gameData.userid)},showFullScreenAd:function(){cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/lwhy/qhdld/TopOnSDK","showFullScreenAd","()V")},showFeedCallBack:function(){gMainMgr.socketSendData("dd","adv_xxl_zs")},clickFeedCallBack:function(){gMainMgr.socketSendData("dd","adv_xxl_dj")},showBannerCallBack:function(){gMainMgr.socketSendData("dd","adv_banner_zs")},clickBannerCallBack:function(){gMainMgr.socketSendData("dd","adv_banner_dj")},showInteractionCallBack:function(){gMainMgr.socketSendData("dd","adv_cp_zs")},clickInteractionCallBack:function(){gMainMgr.socketSendData("dd","adv_zp_dj")},rewardAwardCallBack:function(){this.reward=!0,console.log(this.reward,"\u6536\u5230\u89c6\u9891\u5956\u52b1\u63a5\u53e3")},getBindData:function(){var t={},e="";cc.sys.os==cc.sys.OS_IOS?e=jsb.reflection.callStaticMethod("iOSOpenInstallAPI","getBindData"):cc.sys.os==cc.sys.OS_ANDROID&&(e=jsb.reflection.callStaticMethod("com/lwhy/qhdld/OpenInstallSDK","getBindData","()Ljava/lang/String;"));try{console.log("[\u83b7\u53d6\u5230openinstall\u6570\u636e1]",e);var i=JSON.parse(e);if(i.invitation){var n=JSON.parse(i.invitation),a=parseInt(n);console.log("[\u83b7\u53d6\u5230openinstall\u6570\u636e2]",a),t.invitation=a}else t.invitation=0}catch(e){t.invitation=0,t.channel=0,t.newversion=0}return t},getChannelCode:function(){var t=1;return cc.sys.os==cc.sys.OS_IOS?(t=jsb.reflection.callStaticMethod("iOSOpenInstallAPI","getChannel"),console.log("\u6e20\u9053"+t+"*******************")):cc.sys.os==cc.sys.OS_ANDROID&&(t=jsb.reflection.callStaticMethod("com/lwhy/qhdld/AppActivity","getChannel","()Ljava/lang/String;")),parseInt(t)},getDerviceID:function(){var t;return cc.sys.os==cc.sys.OS_IOS?t=jsb.reflection.callStaticMethod("iOSSystemAPI","getDerviceID"):cc.sys.os==cc.sys.OS_ANDROID&&(t=jsb.reflection.callStaticMethod("com/lwhy/qhdld/AppActivity","getDerviceID","()Ljava/lang/String;")),t&&""!=t||(t=this.getMac(),console.log("[\u83b7\u53d6\u4e0d\u5230code\u83b7\u53d6mac\u5f53\u505a\u8bbe\u5907ID]",t)),t},getImei:function(t){var e="02:00:00:00:00:00";return cc.sys.os==cc.sys.OS_IOS?e=jsb.reflection.callStaticMethod("iOSSystemAPI","getiOSIMEI"):cc.sys.os==cc.sys.OS_ANDROID&&(e=jsb.reflection.callStaticMethod("com/lwhy/qhdld/SysTools","getDeviceId","(I)Ljava/lang/String;",t)),""==e&&(e="02:00:00:00:00:00"),e},getMac:function(){var t="02:00:00:00:00:00";return cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.OS_ANDROID&&(t=jsb.reflection.callStaticMethod("com/lwhy/qhdld/AppActivity","getMAC","()Ljava/lang/String;")),t},getLocalVersion:function(){return cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("iOSSystemAPI","getLocalVersion"):cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/lwhy/qhdld/AppActivity","getVer","()Ljava/lang/String;"):9999},toCopy:function(t){util.showTip("\u590d\u5236\u6210\u529f"),cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("iOSSystemAPI","toCopy:",t):cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/lwhy/qhdld/AppActivity","toCopy","(Ljava/lang/String;)V",t)},phoneVibrate:function(t){cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("iOSSystemAPI","phoneVibrate:",t):cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/lwhy/qhdld/AppActivity","phoneVibrate","(I)V",t)},getPMSize:function(){if(cc.sys.os==cc.sys.OS_IOS);else if(cc.sys.os==cc.sys.OS_ANDROID){var t=cc.winSize.height;jsb.reflection.callStaticMethod("com/lwhy/qhdld/TopOnSDK","getPMSize","(I)V",parseInt(t))}},getCustomerService:function(){cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("iOSQiyuApi","getCustomerService"):cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/lwhy/qhdld/AppActivity","getCustomerService","()V")},setUserInfo:function(){console.log("\u8bbe\u7f6e\u7528\u6237\u4fe1\u606f");var t=[{key:"real_name",value:gameData.nickname},{key:"mobile_phone",value:gameData.phoneNum},{key:"avatar",value:gameData.headWeb}];cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("iOSQiyuApi","setUserInfo:",t):cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/lwhy/qhdld/AppActivity","setUserInfo","(Ljava/lang/String;Ljava/lang/String;)V","qhdld"+gameData.userid,JSON.stringify(t))},setCustomerService:function(t){console.log("\u672a\u8bfb\u4fe1\u606f",t),gMainMgr.showRedKefu(t)},checkAppInstalled:function(t){var e=!1;return cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.OS_ANDROID&&(e=jsb.reflection.callStaticMethod("com/lwhy/qhdld/SysTools","checkAppInstalled","(Ljava/lang/String;)Z",t)),e},InstallApk:function(t){cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/lwhy/qhdld/SysTools","installapk","(Ljava/lang/String;)V",t)},hasInstallVer:function(){return(this.getLocalVersion()||0)>=1.019},InstallAPP:function(t,e,i,n){if(cc.sys.os===cc.sys.OS_ANDROID){this._downloadItems=this._downloadItems||{},this._downloadItems[t]=this._downloadItems[t]||{};var a=this._downloadItems[t];if(a._downloadingUrl)util.showTip("\u6b63\u5728\u4e0b\u8f7d\uff0c\u8bf7\u7a0d\u540e");else{a._downloadingUrl=t;var o=jsb.fileUtils.getWritablePath()+t.match(/[^\/]+\.apk/);console.log("download","\u5f00\u59cb\u4e0b\u8f7d"+t),a.downloader||(a.downloader=new jsb.Downloader,a.downloader.setOnFileTaskSuccess(function(){console.log("download","downloadAPK \u4e0b\u8f7d\u6210\u529f"),a._downloadingUrl=null,setTimeout(function(){nativeData.InstallApk(o),i&&i(o)},.1)}),a.downloader.setOnTaskProgress(function(t,i,n,a){var o=(n/a*100).toFixed(1);e&&e(o)}),a.downloader.setOnTaskError(function(t){console.log("download","downloadAPK \u4e0b\u8f7d\u5931\u8d25"+t),a._downloadingUrl=null,n&&n(),jsb.fileUtils.removeFile(o+".tmp")})),a.downloader.createDownloadFileTask(t,o,"")}}},startApp:function(t){cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("publicAPI","openApp:",t):cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/lwhy/qhdld/SysTools","startApp","(Ljava/lang/String;)V",t)},getOAID:function(){var t="";return cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.OS_ANDROID&&(t=jsb.reflection.callStaticMethod("com/lwhy/qhdld/SysTools","getOAID","()Ljava/lang/String;")),t},getXWOAID:function(){var t="";return cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.OS_ANDROID&&(t=jsb.reflection.callStaticMethod("com/lwhy/qhdld/SysTools","getXWOAID","()Ljava/lang/String;")),t},getXWDerviceID:function(){var t="";return cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.OS_ANDROID&&(t=jsb.reflection.callStaticMethod("com/lwhy/qhdld/SysTools","getXWDeviceId","()Ljava/lang/String;")),t},getAndroidVer:function(){var t="";return cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("iOSSystemAPI","getiOSVer"):cc.sys.os==cc.sys.OS_ANDROID&&(t=jsb.reflection.callStaticMethod("com/lwhy/xmycj/SysTools","getAndroidVer","()Ljava/lang/String;")),t},getUpdateIos:function(t,e){cc.sys.os==cc.sys.OS_IOS&&(console.log("native\u66f4\u65b0"),jsb.reflection.callStaticMethod("publicAPI","checkUpdata:statu:",e,t))},gameDidLoad:function(){cc.sys.os==cc.sys.OS_IOS&&1==cc.sys.isNative&&jsb.reflection.callStaticMethod("publicAPI","gameDidLoad")},switchAd:function(){return this.adId=0,this.adId},countAd:function(){0==this.adId?(gameData.add("AdAcount",-1),gameData.add("userAdAcount",1)):(gameData.add("AdBcount",-1),gameData.add("userAdBcount",1)),console.log("[\u5e7f\u544a\u5df2\u770b\u6b21\u6570]",gameData.userAdAcount,gameData.userAdBcount,"[\u5f53\u524d\u770b]",0==this.adId?"a":"b")},initPermission:function(){var t="";return cc.sys.os==cc.sys.OS_IOS?t=jsb.reflection.callStaticMethod("publicAPI","photoLimit"):cc.sys.os==cc.sys.OS_ANDROID&&(t=jsb.reflection.callStaticMethod("com/lwhy/qhdld/SysTools","initPermission","()Ljava/lang/String;")),t},saveTextureToLocal:function(t,e){cc.sys.os==cc.sys.OS_IOS?(jsb.reflection.callStaticMethod("publicAPI","getDocumentImageSaveToPhoto:",t),this.saveCallback=e):cc.sys.os==cc.sys.OS_ANDROID&&e(jsb.reflection.callStaticMethod("com/lwhy/qhdld/SysTools","saveTextureToLocal","(Ljava/lang/String;)Ljava/lang/String;",t))},saveTextureIosCallback:function(t){this.saveCallback(t),this.saveCallback=null},isFeatures:function(){var t=!1;return cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.OS_ANDROID&&(t=jsb.reflection.callStaticMethod("com/lwhy/qhdld/SysTools","isFeatures","()Z")),t},showIOSComent:function(){var t=util.randomRange(1,9999);console.log("appstore\u8bc4\u5206\u6982\u7387:  "+gameData.ios_pingfen_percent+"  \u968f\u673a\u6570:"+t),t>=gameData.ios_pingfen_percent||cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("iOSSystemAPI","systemComent")},setSignData:function(t){var e;return cc.sys.os==cc.sys.OS_IOS?e=jsb.reflection.callStaticMethod("ALiSecurity","avmpSignWithStringFormJS:",t):cc.sys.os==cc.sys.OS_ANDROID&&(e=jsb.reflection.callStaticMethod("com/lwhy/qhdld/JAQSDK","setSignData","(Ljava/lang/String;)Ljava/lang/String;",t)),e},setGeTuiTag:function(t){cc.sys.os==cc.sys.OS_IOS||cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("com/lwhy/qhdld/service/GetuiIntentService","setTag","(Ljava/lang/String;)V",t)}});window.nativeData=new n,cc._RF.pop()},{baseData:"baseData"}],nodeExitGame:[function(t,e){"use strict";cc._RF.push(e,"41529F0dylObqrviURPyXDs","nodeExitGame"),cc.Class({extends:cc.Component,properties:{_openTime:0},onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(){if(gameData.ifGuide&&!UICtrl.findUI("uiExit/uiExit")){var t=Date.now();this._openTime>0&&t-this._openTime<1e3?UICtrl.openUI("uiExit/uiExit"):(this._openTime=t,util.showTip("\u518d\u6309\u4e00\u6b21\u9000\u51fa\u6e38\u620f"))}}}),cc._RF.pop()},{}],nodeLoading:[function(t,e){"use strict";cc._RF.push(e,"1b0d9mOL3ZCgICC7pfsjANB","nodeLoading"),cc.Class({extends:cc.Component,properties:{},start:function(){},init:function(t,e){var i;this.labprocess=t,i=B_REVIEW_VER_IOS?["ui/uiIOS"]:["ui/uiHall","ui/uiCommon","ui/uiGuide"],this.downloadResources(i,e,0)},downloadResources:function(t,e,i){var n=i||0;this.lastProcess=0,console.log("\u5f53\u524d\u52a0\u8f7d\u8d44\u6e90\u6587\u4ef6\u5939",t[i]),cc.resources.loadDir(t[n],function(e,i){if(i>0){var a=Math.floor(100*(1/t.length*(e/i)+n*(1/t.length)));a<this.lastProcess?a=this.lastProcess:this.lastProcess=a,this.getComponent(cc.Sprite).fillRange=(a+10)/100,this.labprocess.string=a+"%"}}.bind(this),function(i){i&&console.error(i.message||i),++n<t.length?this.downloadResources(t,e,n):(console.log("[loading\u8d44\u6e90\u52a0\u8f7d] \u5b8c\u6210"),e())}.bind(this))}}),cc._RF.pop()},{}],pointCsvData:[function(t,e){"use strict";cc._RF.push(e,"921e3AIqBZKv5SIFxlhqD7p","pointCsvData");var i=t("csvData"),n=cc.Class({extends:i,name:"pointCsvData",properties:{_fileName:{override:!0,default:"pointConfig"}}});window.pointCsvData=new n,cc._RF.pop()},{csvData:"csvData"}],protobuf:[function(require,module,exports){"use strict";cc._RF.push(module,"fd8d5b1OGNPY6q+Xtd1cLSW","protobuf"),function(global,undefined){(function(t,e){var i=global.protobuf=function i(n){var a=e[n];return a||t[n][0].call(a=e[n]={exports:{}},i,a,a.exports),a.exports}(19);"function"==typeof define&&define.amd&&define(["long"],function(t){return t&&t.isLong&&(i.util.Long=t,i.configure()),i}),"object"==typeof module&&module&&module.exports&&(module.exports=i)})({1:[function(t,e){e.exports=function(t,e){for(var i=new Array(arguments.length-1),n=0,a=2,o=!0;a<arguments.length;)i[n++]=arguments[a++];return new Promise(function(a,s){i[n]=function(t){if(o)if(o=!1,t)s(t);else{for(var e=new Array(arguments.length-1),i=0;i<e.length;)e[i++]=arguments[i];a.apply(null,e)}};try{t.apply(e||null,i)}catch(t){o&&(o=!1,s(t))}})}},{}],2:[function(t,e,i){var n=i;n.length=function(t){var e=t.length;if(!e)return 0;for(var i=0;--e%4>1&&"="===t.charAt(e);)++i;return Math.ceil(3*t.length)/4-i};for(var a=new Array(64),o=new Array(123),s=0;s<64;)o[a[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;n.encode=function(t,e,i){for(var n,o=null,s=[],r=0,c=0;e<i;){var l=t[e++];switch(c){case 0:s[r++]=a[l>>2],n=(3&l)<<4,c=1;break;case 1:s[r++]=a[n|l>>4],n=(15&l)<<2,c=2;break;case 2:s[r++]=a[n|l>>6],s[r++]=a[63&l],c=0}r>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),r=0)}return c&&(s[r++]=a[n],s[r++]=61,1===c&&(s[r++]=61)),o?(r&&o.push(String.fromCharCode.apply(String,s.slice(0,r))),o.join("")):String.fromCharCode.apply(String,s.slice(0,r))},n.decode=function(t,e,i){for(var n,a=i,s=0,r=0;r<t.length;){var c=t.charCodeAt(r++);if(61===c&&s>1)break;if((c=o[c])===undefined)throw Error("invalid encoding");switch(s){case 0:n=c,s=1;break;case 1:e[i++]=n<<2|(48&c)>>4,n=c,s=2;break;case 2:e[i++]=(15&n)<<4|(60&c)>>2,n=c,s=3;break;case 3:e[i++]=(3&n)<<6|c,s=0}}if(1===s)throw Error("invalid encoding");return i-a},n.test=function(t){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t)}},{}],3:[function(t,e){function i(t,e){"string"==typeof t&&(e=t,t=undefined);var n=[];function a(t){if("string"!=typeof t){var e=o();if(i.verbose&&console.log("codegen: "+e),e="return "+e,t){for(var s=Object.keys(t),r=new Array(s.length+1),c=new Array(s.length),l=0;l<s.length;)r[l]=s[l],c[l]=t[s[l++]];return r[l]=e,Function.apply(null,r).apply(null,c)}return Function(e)()}for(var u=new Array(arguments.length-1),d=0;d<u.length;)u[d]=arguments[++d];if(d=0,t=t.replace(/%([%dfijs])/g,function(t,e){var i=u[d++];switch(e){case"d":case"f":return String(Number(i));case"i":return String(Math.floor(i));case"j":return JSON.stringify(i);case"s":return String(i)}return"%"}),d!==u.length)throw Error("parameter count mismatch");return n.push(t),a}function o(i){return"function "+(i||e||"")+"("+(t&&t.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return a.toString=o,a}e.exports=i,i.verbose=!1},{}],4:[function(t,e){function i(){this._listeners={}}e.exports=i,i.prototype.on=function(t,e,i){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:i||this}),this},i.prototype.off=function(t,e){if(t===undefined)this._listeners={};else if(e===undefined)this._listeners[t]=[];else for(var i=this._listeners[t],n=0;n<i.length;)i[n].fn===e?i.splice(n,1):++n;return this},i.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<e.length;)e[n].fn.apply(e[n++].ctx,i)}return this}},{}],5:[function(t,e){e.exports=a;var i=t(1),n=t(7)("fs");function a(t,e,o){return"function"==typeof e?(o=e,e={}):e||(e={}),o?!e.xhr&&n&&n.readFile?n.readFile(t,function(i,n){return i&&"undefined"!=typeof XMLHttpRequest?a.xhr(t,e,o):i?o(i):o(null,e.binary?n:n.toString("utf8"))}):a.xhr(t,e,o):i(a,this,t,e)}a.xhr=function(t,e,i){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4!==n.readyState)return undefined;if(0!==n.status&&200!==n.status)return i(Error("status "+n.status));if(e.binary){var t=n.response;if(!t){t=[];for(var a=0;a<n.responseText.length;++a)t.push(255&n.responseText.charCodeAt(a))}return i(null,"undefined"!=typeof Uint8Array?new Uint8Array(t):t)}return i(null,n.responseText)},e.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",t),n.send()}},{1:1,7:7}],6:[function(t,e){function i(t){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),i=new Uint8Array(e.buffer),n=128===i[3];function a(t,n,a){e[0]=t,n[a]=i[0],n[a+1]=i[1],n[a+2]=i[2],n[a+3]=i[3]}function o(t,n,a){e[0]=t,n[a]=i[3],n[a+1]=i[2],n[a+2]=i[1],n[a+3]=i[0]}function s(t,n){return i[0]=t[n],i[1]=t[n+1],i[2]=t[n+2],i[3]=t[n+3],e[0]}function r(t,n){return i[3]=t[n],i[2]=t[n+1],i[1]=t[n+2],i[0]=t[n+3],e[0]}t.writeFloatLE=n?a:o,t.writeFloatBE=n?o:a,t.readFloatLE=n?s:r,t.readFloatBE=n?r:s}():function(){function e(t,e,i,n){var a=e<0?1:0;if(a&&(e=-e),0===e)t(1/e>0?0:2147483648,i,n);else if(isNaN(e))t(2143289344,i,n);else if(e>34028234663852886e22)t((a<<31|2139095040)>>>0,i,n);else if(e<11754943508222875e-54)t((a<<31|Math.round(e/1401298464324817e-60))>>>0,i,n);else{var o=Math.floor(Math.log(e)/Math.LN2);t((a<<31|o+127<<23|8388607&Math.round(e*Math.pow(2,-o)*8388608))>>>0,i,n)}}function i(t,e,i){var n=t(e,i),a=2*(n>>31)+1,o=n>>>23&255,s=8388607&n;return 255===o?s?NaN:1/0*a:0===o?1401298464324817e-60*a*s:a*Math.pow(2,o-150)*(s+8388608)}t.writeFloatLE=e.bind(null,n),t.writeFloatBE=e.bind(null,a),t.readFloatLE=i.bind(null,o),t.readFloatBE=i.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),i=new Uint8Array(e.buffer),n=128===i[7];function a(t,n,a){e[0]=t,n[a]=i[0],n[a+1]=i[1],n[a+2]=i[2],n[a+3]=i[3],n[a+4]=i[4],n[a+5]=i[5],n[a+6]=i[6],n[a+7]=i[7]}function o(t,n,a){e[0]=t,n[a]=i[7],n[a+1]=i[6],n[a+2]=i[5],n[a+3]=i[4],n[a+4]=i[3],n[a+5]=i[2],n[a+6]=i[1],n[a+7]=i[0]}function s(t,n){return i[0]=t[n],i[1]=t[n+1],i[2]=t[n+2],i[3]=t[n+3],i[4]=t[n+4],i[5]=t[n+5],i[6]=t[n+6],i[7]=t[n+7],e[0]}function r(t,n){return i[7]=t[n],i[6]=t[n+1],i[5]=t[n+2],i[4]=t[n+3],i[3]=t[n+4],i[2]=t[n+5],i[1]=t[n+6],i[0]=t[n+7],e[0]}t.writeDoubleLE=n?a:o,t.writeDoubleBE=n?o:a,t.readDoubleLE=n?s:r,t.readDoubleBE=n?r:s}():function(){function e(t,e,i,n,a,o){var s=n<0?1:0;if(s&&(n=-n),0===n)t(0,a,o+e),t(1/n>0?0:2147483648,a,o+i);else if(isNaN(n))t(0,a,o+e),t(2146959360,a,o+i);else if(n>17976931348623157e292)t(0,a,o+e),t((s<<31|2146435072)>>>0,a,o+i);else{var r;if(n<22250738585072014e-324)t((r=n/5e-324)>>>0,a,o+e),t((s<<31|r/4294967296)>>>0,a,o+i);else{var c=Math.floor(Math.log(n)/Math.LN2);1024===c&&(c=1023),t(4503599627370496*(r=n*Math.pow(2,-c))>>>0,a,o+e),t((s<<31|c+1023<<20|1048576*r&1048575)>>>0,a,o+i)}}}function i(t,e,i,n,a){var o=t(n,a+e),s=t(n,a+i),r=2*(s>>31)+1,c=s>>>20&2047,l=4294967296*(1048575&s)+o;return 2047===c?l?NaN:1/0*r:0===c?5e-324*r*l:r*Math.pow(2,c-1075)*(l+4503599627370496)}t.writeDoubleLE=e.bind(null,n,0,4),t.writeDoubleBE=e.bind(null,a,4,0),t.readDoubleLE=i.bind(null,o,0,4),t.readDoubleBE=i.bind(null,s,4,0)}(),t}function n(t,e,i){e[i]=255&t,e[i+1]=t>>>8&255,e[i+2]=t>>>16&255,e[i+3]=t>>>24}function a(t,e,i){e[i]=t>>>24,e[i+1]=t>>>16&255,e[i+2]=t>>>8&255,e[i+3]=255&t}function o(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function s(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}e.exports=i(i)},{}],7:[function(require,module,exports){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},{}],8:[function(t,e,i){var n=i,a=n.isAbsolute=function(t){return/^(?:\/|\w+:)/.test(t)},o=n.normalize=function(t){var e=(t=t.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),i=a(t),n="";i&&(n=e.shift()+"/");for(var o=0;o<e.length;)".."===e[o]?o>0&&".."!==e[o-1]?e.splice(--o,2):i?e.splice(o,1):++o:"."===e[o]?e.splice(o,1):++o;return n+e.join("/")};n.resolve=function(t,e,i){return i||(e=o(e)),a(e)?e:(i||(t=o(t)),(t=t.replace(/(?:\/|^)[^\/]+$/,"")).length?o(t+"/"+e):e)}},{}],9:[function(t,e){e.exports=function(t,e,i){var n=i||8192,a=n>>>1,o=null,s=n;return function(i){if(i<1||i>a)return t(i);s+i>n&&(o=t(n),s=0);var r=e.call(o,s,s+=i);return 7&s&&(s=1+(7|s)),r}}},{}],10:[function(t,e,i){var n=i;n.length=function(t){for(var e=0,i=0,n=0;n<t.length;++n)(i=t.charCodeAt(n))<128?e+=1:i<2048?e+=2:55296==(64512&i)&&56320==(64512&t.charCodeAt(n+1))?(++n,e+=4):e+=3;return e},n.read=function(t,e,i){if(i-e<1)return"";for(var n,a=null,o=[],s=0;e<i;)(n=t[e++])<128?o[s++]=n:n>191&&n<224?o[s++]=(31&n)<<6|63&t[e++]:n>239&&n<365?(n=((7&n)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,o[s++]=55296+(n>>10),o[s++]=56320+(1023&n)):o[s++]=(15&n)<<12|(63&t[e++])<<6|63&t[e++],s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0);return a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))},n.write=function(t,e,i){for(var n,a,o=i,s=0;s<t.length;++s)(n=t.charCodeAt(s))<128?e[i++]=n:n<2048?(e[i++]=n>>6|192,e[i++]=63&n|128):55296==(64512&n)&&56320==(64512&(a=t.charCodeAt(s+1)))?(n=65536+((1023&n)<<10)+(1023&a),++s,e[i++]=n>>18|240,e[i++]=n>>12&63|128,e[i++]=n>>6&63|128,e[i++]=63&n|128):(e[i++]=n>>12|224,e[i++]=n>>6&63|128,e[i++]=63&n|128);return i-o}},{}],11:[function(t,e){e.exports=a;var i,n=/\/|\./;function a(t,e){n.test(t)||(t="google/protobuf/"+t+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),a[t]=e}a("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),a("duration",{Duration:i={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),a("timestamp",{Timestamp:i}),a("empty",{Empty:{fields:{}}}),a("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),a("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),a("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),a.get=function(t){return a[t]||null}},{}],12:[function(t,e,i){var n=i,a=t(15),o=t(37);function s(t,e,i,n){if(e.resolvedType)if(e.resolvedType instanceof a){t("switch(d%s){",n);for(var o=e.resolvedType.values,s=Object.keys(o),r=0;r<s.length;++r)e.repeated&&o[s[r]]===e.typeDefault&&t("default:"),t("case%j:",s[r])("case %i:",o[s[r]])("m%s=%j",n,o[s[r]])("break");t("}")}else t('if(typeof d%s!=="object")',n)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,i,n);else{var c=!1;switch(e.type){case"double":case"float":t("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":t("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":t("m%s=d%s|0",n,n);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,c)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,c?"true":"");break;case"bytes":t('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length)",n)("m%s=d%s",n,n);break;case"string":t("m%s=String(d%s)",n,n);break;case"bool":t("m%s=Boolean(d%s)",n,n)}}return t}function r(t,e,i,n){if(e.resolvedType)e.resolvedType instanceof a?t("d%s=o.enums===String?types[%i].values[m%s]:m%s",n,i,n,n):t("d%s=types[%i].toObject(m%s,o)",n,i,n);else{var o=!1;switch(e.type){case"double":case"float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":o=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,o?"true":"",n);break;case"bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:t("d%s=m%s",n,n)}}return t}n.fromObject=function(t){var e=t.fieldsArray,i=o.codegen(["d"],t.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!e.length)return i("return new this.ctor");i("var m=new this.ctor");for(var n=0;n<e.length;++n){var r=e[n].resolve(),c=o.safeProp(r.name);r.map?(i("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",r.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),s(i,r,n,c+"[ks[i]]")("}")("}")):r.repeated?(i("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",r.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),s(i,r,n,c+"[i]")("}")("}")):(r.resolvedType instanceof a||i("if(d%s!=null){",c),s(i,r,n,c),r.resolvedType instanceof a||i("}"))}return i("return m")},n.toObject=function(t){var e=t.fieldsArray.slice().sort(o.compareFieldsById);if(!e.length)return o.codegen()("return {}");for(var i=o.codegen(["m","o"],t.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],s=[],c=[],l=0;l<e.length;++l)e[l].partOf||(e[l].resolve().repeated?n:e[l].map?s:c).push(e[l]);if(n.length){for(i("if(o.arrays||o.defaults){"),l=0;l<n.length;++l)i("d%s=[]",o.safeProp(n[l].name));i("}")}if(s.length){for(i("if(o.objects||o.defaults){"),l=0;l<s.length;++l)i("d%s={}",o.safeProp(s[l].name));i("}")}if(c.length){for(i("if(o.defaults){"),l=0;l<c.length;++l){var u=c[l],d=o.safeProp(u.name);u.resolvedType instanceof a?i("d%s=o.enums===String?%j:%j",d,u.resolvedType.valuesById[u.typeDefault],u.typeDefault):u.long?i("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",d)("}else")("d%s=o.longs===String?%j:%i",d,u.typeDefault.toString(),u.typeDefault.toNumber()):u.bytes?i("d%s=o.bytes===String?%j:%s",d,String.fromCharCode.apply(String,u.typeDefault),"["+Array.prototype.slice.call(u.typeDefault).join(",")+"]"):i("d%s=%j",d,u.typeDefault)}i("}")}var h=!1;for(l=0;l<e.length;++l){u=e[l];var _=t._fieldsArray.indexOf(u);d=o.safeProp(u.name),u.map?(h||(h=!0,i("var ks2")),i("if(m%s&&(ks2=Object.keys(m%s)).length){",d,d)("d%s={}",d)("for(var j=0;j<ks2.length;++j){"),r(i,u,_,d+"[ks2[j]]")("}")):u.repeated?(i("if(m%s&&m%s.length){",d,d)("d%s=[]",d)("for(var j=0;j<m%s.length;++j){",d),r(i,u,_,d+"[j]")("}")):(i("if(m%s!=null&&m.hasOwnProperty(%j)){",d,u.name),r(i,u,_,d),u.partOf&&i("if(o.oneofs)")("d%s=%j",o.safeProp(u.partOf.name),u.name)),i("}")}return i("return d")}},{15:15,37:37}],13:[function(t,e){e.exports=function(t){var e=a.codegen(["r","l"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter(function(t){return t.map}).length?",k":""))("while(r.pos<c){")("var t=r.uint32()");t.group&&e("if((t&7)===4)")("break"),e("switch(t>>>3){");for(var s=0;s<t.fieldsArray.length;++s){var r=t._fieldsArray[s].resolve(),c=r.resolvedType instanceof i?"int32":r.type,l="m"+a.safeProp(r.name);e("case %i:",r.id),r.map?(e("r.skip().pos++")("if(%s===util.emptyObject)",l)("%s={}",l)("k=r.%s()",r.keyType)("r.pos++"),n.long[r.keyType]!==undefined?n.basic[c]===undefined?e('%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())',l,s):e('%s[typeof k==="object"?util.longToHash(k):k]=r.%s()',l,c):n.basic[c]===undefined?e("%s[k]=types[%i].decode(r,r.uint32())",l,s):e("%s[k]=r.%s()",l,c)):r.repeated?(e("if(!(%s&&%s.length))",l,l)("%s=[]",l),n.packed[c]!==undefined&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,c)("}else"),n.basic[c]===undefined?e(r.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",l,s):e("%s.push(r.%s())",l,c)):n.basic[c]===undefined?e(r.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",l,s):e("%s=r.%s()",l,c),e("break")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),s=0;s<t._fieldsArray.length;++s){var u=t._fieldsArray[s];u.required&&e("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",o(u))}return e("return m")};var i=t(15),n=t(36),a=t(37);function o(t){return"missing required '"+t.name+"'"}},{15:15,36:36,37:37}],14:[function(t,e){e.exports=function(t){for(var e,s=a.codegen(["m","w"],t.name+"$encode")("if(!w)")("w=Writer.create()"),r=t.fieldsArray.slice().sort(a.compareFieldsById),c=0;c<r.length;++c){var l=r[c].resolve(),u=t._fieldsArray.indexOf(l),d=l.resolvedType instanceof i?"int32":l.type,h=n.basic[d];e="m"+a.safeProp(l.name),l.map?(s("if(%s!=null&&m.hasOwnProperty(%j)){",e,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",e)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|n.mapKey[l.keyType],l.keyType),h===undefined?s("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,e):s(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|h,d,e),s("}")("}")):l.repeated?(s("if(%s!=null&&%s.length){",e,e),l.packed&&n.packed[d]!==undefined?s("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",e)("w.%s(%s[i])",d,e)("w.ldelim()"):(s("for(var i=0;i<%s.length;++i)",e),h===undefined?o(s,l,u,e+"[i]"):s("w.uint32(%i).%s(%s[i])",(l.id<<3|h)>>>0,d,e)),s("}")):(l.optional&&s("if(%s!=null&&m.hasOwnProperty(%j))",e,l.name),h===undefined?o(s,l,u,e):s("w.uint32(%i).%s(%s)",(l.id<<3|h)>>>0,d,e))}return s("return w")};var i=t(15),n=t(36),a=t(37);function o(t,e,i,n){return e.resolvedType.group?t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",i,n,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",i,n,(e.id<<3|2)>>>0)}},{15:15,36:36,37:37}],15:[function(t,e){e.exports=o;var i=t(24);((o.prototype=Object.create(i.prototype)).constructor=o).className="Enum";var n=t(23),a=t(37);function o(t,e,n,a,o){if(i.call(this,t,n),e&&"object"!=typeof e)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=a,this.comments=o||{},this.reserved=undefined,e)for(var s=Object.keys(e),r=0;r<s.length;++r)"number"==typeof e[s[r]]&&(this.valuesById[this.values[s[r]]=e[s[r]]]=s[r])}o.fromJSON=function(t,e){var i=new o(t,e.values,e.options,e.comment,e.comments);return i.reserved=e.reserved,i},o.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return a.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"comment",e?this.comment:undefined,"comments",e?this.comments:undefined])},o.prototype.add=function(t,e,i){if(!a.isString(t))throw TypeError("name must be a string");if(!a.isInteger(e))throw TypeError("id must be an integer");if(this.values[t]!==undefined)throw Error("duplicate name '"+t+"' in "+this);if(this.isReservedId(e))throw Error("id "+e+" is reserved in "+this);if(this.isReservedName(t))throw Error("name '"+t+"' is reserved in "+this);if(this.valuesById[e]!==undefined){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+e+" in "+this);this.values[t]=e}else this.valuesById[this.values[t]=e]=t;return this.comments[t]=i||null,this},o.prototype.remove=function(t){if(!a.isString(t))throw TypeError("name must be a string");var e=this.values[t];if(null==e)throw Error("name '"+t+"' does not exist in "+this);return delete this.valuesById[e],delete this.values[t],delete this.comments[t],this},o.prototype.isReservedId=function(t){return n.isReservedId(this.reserved,t)},o.prototype.isReservedName=function(t){return n.isReservedName(this.reserved,t)}},{23:23,24:24,37:37}],16:[function(t,e){e.exports=c;var i=t(24);((c.prototype=Object.create(i.prototype)).constructor=c).className="Field";var n,a=t(15),o=t(36),s=t(37),r=/^required|optional|repeated$/;function c(t,e,n,a,c,l,u){if(s.isObject(a)?(u=c,l=a,a=c=undefined):s.isObject(c)&&(u=l,l=c,c=undefined),i.call(this,t,l),!s.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!s.isString(n))throw TypeError("type must be a string");if(a!==undefined&&!r.test(a=a.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(c!==undefined&&!s.isString(c))throw TypeError("extend must be a string");this.rule=a&&"optional"!==a?a:undefined,this.type=n,this.id=e,this.extend=c||undefined,this.required="required"===a,this.optional=!this.required,this.repeated="repeated"===a,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!s.Long&&o.long[n]!==undefined,this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=u}c.fromJSON=function(t,e){return new c(t,e.id,e.type,e.rule,e.extend,e.options,e.comment)},Object.defineProperty(c.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),c.prototype.setOption=function(t,e,n){return"packed"===t&&(this._packed=null),i.prototype.setOption.call(this,t,e,n)},c.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return s.toObject(["rule","optional"!==this.rule&&this.rule||undefined,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",e?this.comment:undefined])},c.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=o.defaults[this.type])===undefined&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof n?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof a&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(this.options.packed===undefined||!this.resolvedType||this.resolvedType instanceof a)||delete this.options.packed,Object.keys(this.options).length||(this.options=undefined)),this.long)this.typeDefault=s.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var t;s.base64.test(this.typeDefault)?s.base64.decode(this.typeDefault,t=s.newBuffer(s.base64.length(this.typeDefault)),0):s.utf8.write(this.typeDefault,t=s.newBuffer(s.utf8.length(this.typeDefault)),0),this.typeDefault=t}return this.map?this.defaultValue=s.emptyObject:this.repeated?this.defaultValue=s.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof n&&(this.parent.ctor.prototype[this.name]=this.defaultValue),i.prototype.resolve.call(this)},c.d=function(t,e,i,n){return"function"==typeof e?e=s.decorateType(e).name:e&&"object"==typeof e&&(e=s.decorateEnum(e).name),function(a,o){s.decorateType(a.constructor).add(new c(o,t,e,i,{default:n}))}},c._configure=function(t){n=t}},{15:15,24:24,36:36,37:37}],17:[function(t,e){var i=e.exports=t(18);i.build="light",i.load=function(t,e,n){return"function"==typeof e?(n=e,e=new i.Root):e||(e=new i.Root),e.load(t,n)},i.loadSync=function(t,e){return e||(e=new i.Root),e.loadSync(t)},i.encoder=t(14),i.decoder=t(13),i.verifier=t(40),i.converter=t(12),i.ReflectionObject=t(24),i.Namespace=t(23),i.Root=t(29),i.Enum=t(15),i.Type=t(35),i.Field=t(16),i.OneOf=t(25),i.MapField=t(20),i.Service=t(33),i.Method=t(22),i.Message=t(21),i.wrappers=t(41),i.types=t(36),i.util=t(37),i.ReflectionObject._configure(i.Root),i.Namespace._configure(i.Type,i.Service),i.Root._configure(i.Type),i.Field._configure(i.Type)},{12:12,13:13,14:14,15:15,16:16,18:18,20:20,21:21,22:22,23:23,24:24,25:25,29:29,33:33,35:35,36:36,37:37,40:40,41:41}],18:[function(t,e,i){var n=i;function a(){n.Reader._configure(n.BufferReader),n.util._configure()}n.build="minimal",n.Writer=t(42),n.BufferWriter=t(43),n.Reader=t(27),n.BufferReader=t(28),n.util=t(39),n.rpc=t(31),n.roots=t(30),n.configure=a,n.Writer._configure(n.BufferWriter),a()},{27:27,28:28,30:30,31:31,39:39,42:42,43:43}],19:[function(t,e){var i=e.exports=t(17);i.build="full",i.tokenize=t(34),i.parse=t(26),i.common=t(11),i.Root._configure(i.Type,i.parse,i.common)},{11:11,17:17,26:26,34:34}],20:[function(t,e){e.exports=o;var i=t(16);((o.prototype=Object.create(i.prototype)).constructor=o).className="MapField";var n=t(36),a=t(37);function o(t,e,n,o,s,r){if(i.call(this,t,e,o,undefined,undefined,s,r),!a.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}o.fromJSON=function(t,e){return new o(t,e.id,e.keyType,e.type,e.options,e.comment)},o.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return a.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",e?this.comment:undefined])},o.prototype.resolve=function(){if(this.resolved)return this;if(n.mapKey[this.keyType]===undefined)throw Error("invalid key type: "+this.keyType);return i.prototype.resolve.call(this)},o.d=function(t,e,i){return"function"==typeof i?i=a.decorateType(i).name:i&&"object"==typeof i&&(i=a.decorateEnum(i).name),function(n,s){a.decorateType(n.constructor).add(new o(s,t,e,i))}}},{16:16,36:36,37:37}],21:[function(t,e){e.exports=n;var i=t(39);function n(t){if(t)for(var e=Object.keys(t),i=0;i<e.length;++i)this[e[i]]=t[e[i]]}n.create=function(t){return this.$type.create(t)},n.encode=function(t,e){return this.$type.encode(t,e)},n.encodeDelimited=function(t,e){return this.$type.encodeDelimited(t,e)},n.decode=function(t){return this.$type.decode(t)},n.decodeDelimited=function(t){return this.$type.decodeDelimited(t)},n.verify=function(t){return this.$type.verify(t)},n.fromObject=function(t){return this.$type.fromObject(t)},n.toObject=function(t,e){return this.$type.toObject(t,e)},n.prototype.toJSON=function(){return this.$type.toObject(this,i.toJSONOptions)}},{39:39}],22:[function(t,e){e.exports=a;var i=t(24);((a.prototype=Object.create(i.prototype)).constructor=a).className="Method";var n=t(37);function a(t,e,a,o,s,r,c,l){if(n.isObject(s)?(c=s,s=r=undefined):n.isObject(r)&&(c=r,r=undefined),e!==undefined&&!n.isString(e))throw TypeError("type must be a string");if(!n.isString(a))throw TypeError("requestType must be a string");if(!n.isString(o))throw TypeError("responseType must be a string");i.call(this,t,c),this.type=e||"rpc",this.requestType=a,this.requestStream=!!s||undefined,this.responseType=o,this.responseStream=!!r||undefined,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=l}a.fromJSON=function(t,e){return new a(t,e.type,e.requestType,e.responseType,e.requestStream,e.responseStream,e.options,e.comment)},a.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return n.toObject(["type","rpc"!==this.type&&this.type||undefined,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",e?this.comment:undefined])},a.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),i.prototype.resolve.call(this))}},{24:24,37:37}],23:[function(t,e){e.exports=l;var i=t(24);((l.prototype=Object.create(i.prototype)).constructor=l).className="Namespace";var n,a,o=t(15),s=t(16),r=t(37);function c(t,e){if(!t||!t.length)return undefined;for(var i={},n=0;n<t.length;++n)i[t[n].name]=t[n].toJSON(e);return i}function l(t,e){i.call(this,t,e),this.nested=undefined,this._nestedArray=null}function u(t){return t._nestedArray=null,t}l.fromJSON=function(t,e){return new l(t,e.options).addJSON(e.nested)},l.arrayToJSON=c,l.isReservedId=function(t,e){if(t)for(var i=0;i<t.length;++i)if("string"!=typeof t[i]&&t[i][0]<=e&&t[i][1]>=e)return!0;return!1},l.isReservedName=function(t,e){if(t)for(var i=0;i<t.length;++i)if(t[i]===e)return!0;return!1},Object.defineProperty(l.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=r.toArray(this.nested))}}),l.prototype.toJSON=function(t){return r.toObject(["options",this.options,"nested",c(this.nestedArray,t)])},l.prototype.addJSON=function(t){if(t)for(var e,i=Object.keys(t),r=0;r<i.length;++r)e=t[i[r]],this.add((e.fields!==undefined?n.fromJSON:e.values!==undefined?o.fromJSON:e.methods!==undefined?a.fromJSON:e.id!==undefined?s.fromJSON:l.fromJSON)(i[r],e));return this},l.prototype.get=function(t){return this.nested&&this.nested[t]||null},l.prototype.getEnum=function(t){if(this.nested&&this.nested[t]instanceof o)return this.nested[t].values;throw Error("no such enum: "+t)},l.prototype.add=function(t){if(!(t instanceof s&&t.extend!==undefined||t instanceof n||t instanceof o||t instanceof a||t instanceof l))throw TypeError("object must be a valid nested object");if(this.nested){var e=this.get(t.name);if(e){if(!(e instanceof l&&t instanceof l)||e instanceof n||e instanceof a)throw Error("duplicate name '"+t.name+"' in "+this);for(var i=e.nestedArray,r=0;r<i.length;++r)t.add(i[r]);this.remove(e),this.nested||(this.nested={}),t.setOptions(e.options,!0)}}else this.nested={};return this.nested[t.name]=t,t.onAdd(this),u(this)},l.prototype.remove=function(t){if(!(t instanceof i))throw TypeError("object must be a ReflectionObject");if(t.parent!==this)throw Error(t+" is not a member of "+this);return delete this.nested[t.name],Object.keys(this.nested).length||(this.nested=undefined),t.onRemove(this),u(this)},l.prototype.define=function(t,e){if(r.isString(t))t=t.split(".");else if(!Array.isArray(t))throw TypeError("illegal path");if(t&&t.length&&""===t[0])throw Error("path must be relative");for(var i=this;t.length>0;){var n=t.shift();if(i.nested&&i.nested[n]){if(!((i=i.nested[n])instanceof l))throw Error("path conflicts with non-namespace objects")}else i.add(i=new l(n))}return e&&i.addJSON(e),i},l.prototype.resolveAll=function(){for(var t=this.nestedArray,e=0;e<t.length;)t[e]instanceof l?t[e++].resolveAll():t[e++].resolve();return this.resolve()},l.prototype.lookup=function(t,e,i){if("boolean"==typeof e?(i=e,e=undefined):e&&!Array.isArray(e)&&(e=[e]),r.isString(t)&&t.length){if("."===t)return this.root;t=t.split(".")}else if(!t.length)return this;if(""===t[0])return this.root.lookup(t.slice(1),e);var n=this.get(t[0]);if(n){if(1===t.length){if(!e||e.indexOf(n.constructor)>-1)return n}else if(n instanceof l&&(n=n.lookup(t.slice(1),e,!0)))return n}else for(var a=0;a<this.nestedArray.length;++a)if(this._nestedArray[a]instanceof l&&(n=this._nestedArray[a].lookup(t,e,!0)))return n;return null===this.parent||i?null:this.parent.lookup(t,e)},l.prototype.lookupType=function(t){var e=this.lookup(t,[n]);if(!e)throw Error("no such type: "+t);return e},l.prototype.lookupEnum=function(t){var e=this.lookup(t,[o]);if(!e)throw Error("no such Enum '"+t+"' in "+this);return e},l.prototype.lookupTypeOrEnum=function(t){var e=this.lookup(t,[n,o]);if(!e)throw Error("no such Type or Enum '"+t+"' in "+this);return e},l.prototype.lookupService=function(t){var e=this.lookup(t,[a]);if(!e)throw Error("no such Service '"+t+"' in "+this);return e},l._configure=function(t,e){n=t,a=e}},{15:15,16:16,24:24,37:37}],24:[function(t,e){e.exports=a,a.className="ReflectionObject";var i,n=t(37);function a(t,e){if(!n.isString(t))throw TypeError("name must be a string");if(e&&!n.isObject(e))throw TypeError("options must be an object");this.options=e,this.name=t,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(a.prototype,{root:{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],e=this.parent;e;)t.unshift(e.name),e=e.parent;return t.join(".")}}}),a.prototype.toJSON=function(){throw Error()},a.prototype.onAdd=function(t){this.parent&&this.parent!==t&&this.parent.remove(this),this.parent=t,this.resolved=!1;var e=t.root;e instanceof i&&e._handleAdd(this)},a.prototype.onRemove=function(t){var e=t.root;e instanceof i&&e._handleRemove(this),this.parent=null,this.resolved=!1},a.prototype.resolve=function(){return this.resolved?this:(this.root instanceof i&&(this.resolved=!0),this)},a.prototype.getOption=function(t){return this.options?this.options[t]:undefined},a.prototype.setOption=function(t,e,i){return i&&this.options&&this.options[t]!==undefined||((this.options||(this.options={}))[t]=e),this},a.prototype.setOptions=function(t,e){if(t)for(var i=Object.keys(t),n=0;n<i.length;++n)this.setOption(i[n],t[i[n]],e);return this},a.prototype.toString=function(){var t=this.constructor.className,e=this.fullName;return e.length?t+" "+e:t},a._configure=function(t){i=t}},{37:37}],25:[function(t,e){e.exports=o;var i=t(24);((o.prototype=Object.create(i.prototype)).constructor=o).className="OneOf";var n=t(16),a=t(37);function o(t,e,n,a){if(Array.isArray(e)||(n=e,e=undefined),i.call(this,t,n),e!==undefined&&!Array.isArray(e))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=a}function s(t){if(t.parent)for(var e=0;e<t.fieldsArray.length;++e)t.fieldsArray[e].parent||t.parent.add(t.fieldsArray[e])}o.fromJSON=function(t,e){return new o(t,e.oneof,e.options,e.comment)},o.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return a.toObject(["options",this.options,"oneof",this.oneof,"comment",e?this.comment:undefined])},o.prototype.add=function(t){if(!(t instanceof n))throw TypeError("field must be a Field");return t.parent&&t.parent!==this.parent&&t.parent.remove(t),this.oneof.push(t.name),this.fieldsArray.push(t),t.partOf=this,s(this),this},o.prototype.remove=function(t){if(!(t instanceof n))throw TypeError("field must be a Field");var e=this.fieldsArray.indexOf(t);if(e<0)throw Error(t+" is not a member of "+this);return this.fieldsArray.splice(e,1),(e=this.oneof.indexOf(t.name))>-1&&this.oneof.splice(e,1),t.partOf=null,this},o.prototype.onAdd=function(t){i.prototype.onAdd.call(this,t);for(var e=0;e<this.oneof.length;++e){var n=t.get(this.oneof[e]);n&&!n.partOf&&(n.partOf=this,this.fieldsArray.push(n))}s(this)},o.prototype.onRemove=function(t){for(var e,n=0;n<this.fieldsArray.length;++n)(e=this.fieldsArray[n]).parent&&e.parent.remove(e);i.prototype.onRemove.call(this,t)},o.d=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;)t[e]=arguments[e++];return function(e,i){a.decorateType(e.constructor).add(new o(i,t)),Object.defineProperty(e,i,{get:a.oneOfGetter(t),set:a.oneOfSetter(t)})}}},{16:16,24:24,37:37}],26:[function(t,e){e.exports=S,S.filename=null,S.defaults={keepCase:!1};var i=t(34),n=t(29),a=t(35),o=t(16),s=t(20),r=t(25),c=t(15),l=t(33),u=t(22),d=t(36),h=t(37),_=/^[1-9][0-9]*$/,f=/^-?[1-9][0-9]*$/,p=/^0[x][0-9a-fA-F]+$/,g=/^-?0[x][0-9a-fA-F]+$/,m=/^0[0-7]+$/,v=/^-?0[0-7]+$/,b=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,y=/^[a-zA-Z_][a-zA-Z_0-9]*$/,D=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,w=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function S(t,e,I){e instanceof n||(I=e,e=new n),I||(I=S.defaults);var C,k,R,M,T,B=i(t,I.alternateCommentMode||!1),A=B.next,E=B.push,O=B.peek,L=B.skip,x=B.cmnt,N=!0,U=!1,P=e,G=I.keepCase?function(t){return t}:h.camelCase;function F(t,e,i){var n=S.filename;return i||(S.filename=null),Error("illegal "+(e||"token")+" '"+t+"' ("+(n?n+", ":"")+"line "+B.line+")")}function W(){var t,e=[];do{if('"'!==(t=A())&&"'"!==t)throw F(t);e.push(A()),L(t),t=O()}while('"'===t||"'"===t);return e.join("")}function q(t){var e=A();switch(e){case"'":case'"':return E(e),W();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return j(e,!0)}catch(i){if(t&&D.test(e))return e;throw F(e,"value")}}function H(t,e){var i,n;do{!e||'"'!==(i=O())&&"'"!==i?t.push([n=V(A()),L("to",!0)?V(A()):n]):t.push(W())}while(L(",",!0));L(";")}function j(t,e){var i=1;switch("-"===t.charAt(0)&&(i=-1,t=t.substring(1)),t){case"inf":case"INF":case"Inf":return 1/0*i;case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(_.test(t))return i*parseInt(t,10);if(p.test(t))return i*parseInt(t,16);if(m.test(t))return i*parseInt(t,8);if(b.test(t))return i*parseFloat(t);throw F(t,"number",e)}function V(t,e){switch(t){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!e&&"-"===t.charAt(0))throw F(t,"id");if(f.test(t))return parseInt(t,10);if(g.test(t))return parseInt(t,16);if(v.test(t))return parseInt(t,8);throw F(t,"id")}function z(){if(C!==undefined)throw F("package");if(C=A(),!D.test(C))throw F(C,"name");P=P.define(C),L(";")}function Y(){var t,e=O();switch(e){case"weak":t=R||(R=[]),A();break;case"public":A();default:t=k||(k=[])}e=W(),L(";"),t.push(e)}function J(){if(L("="),M=W(),!(U="proto3"===M)&&"proto2"!==M)throw F(M,"syntax");L(";")}function K(t,e){switch(e){case"option":return at(t,e),L(";"),!0;case"message":return Z(t,e),!0;case"enum":return it(t,e),!0;case"service":return ct(t,e),!0;case"extend":return ut(t,e),!0}return!1}function X(t,e,i){var n=B.line;if(t&&(t.comment=x(),t.filename=S.filename),L("{",!0)){for(var a;"}"!==(a=A());)e(a);L(";",!0)}else i&&i(),L(";"),t&&"string"!=typeof t.comment&&(t.comment=x(n))}function Z(t,e){if(!y.test(e=A()))throw F(e,"type name");var i=new a(e);X(i,function(t){if(!K(i,t))switch(t){case"map":tt(i);break;case"required":case"optional":case"repeated":Q(i,t);break;case"oneof":et(i,t);break;case"extensions":H(i.extensions||(i.extensions=[]));break;case"reserved":H(i.reserved||(i.reserved=[]),!0);break;default:if(!U||!D.test(t))throw F(t);E(t),Q(i,"optional")}}),t.add(i)}function Q(t,e,i){var n=A();if("group"!==n){if(!D.test(n))throw F(n,"type");var a=A();if(!y.test(a))throw F(a,"name");a=G(a),L("=");var s=new o(a,V(A()),n,e,i);X(s,function(t){if("option"!==t)throw F(t);at(s,t),L(";")},function(){rt(s)}),t.add(s),U||!s.repeated||d.packed[n]===undefined&&d.basic[n]!==undefined||s.setOption("packed",!1,!0)}else $(t,e)}function $(t,e){var i=A();if(!y.test(i))throw F(i,"name");var n=h.lcFirst(i);i===n&&(i=h.ucFirst(i)),L("=");var s=V(A()),r=new a(i);r.group=!0;var c=new o(n,s,i,e);c.filename=S.filename,X(r,function(t){switch(t){case"option":at(r,t),L(";");break;case"required":case"optional":case"repeated":Q(r,t);break;default:throw F(t)}}),t.add(r).add(c)}function tt(t){L("<");var e=A();if(d.mapKey[e]===undefined)throw F(e,"type");L(",");var i=A();if(!D.test(i))throw F(i,"type");L(">");var n=A();if(!y.test(n))throw F(n,"name");L("=");var a=new s(G(n),V(A()),e,i);X(a,function(t){if("option"!==t)throw F(t);at(a,t),L(";")},function(){rt(a)}),t.add(a)}function et(t,e){if(!y.test(e=A()))throw F(e,"name");var i=new r(G(e));X(i,function(t){"option"===t?(at(i,t),L(";")):(E(t),Q(i,"optional"))}),t.add(i)}function it(t,e){if(!y.test(e=A()))throw F(e,"name");var i=new c(e);X(i,function(t){switch(t){case"option":at(i,t),L(";");break;case"reserved":H(i.reserved||(i.reserved=[]),!0);break;default:nt(i,t)}}),t.add(i)}function nt(t,e){if(!y.test(e))throw F(e,"name");L("=");var i=V(A(),!0),n={};X(n,function(t){if("option"!==t)throw F(t);at(n,t),L(";")},function(){rt(n)}),t.add(e,i,n.comment)}function at(t,e){var i=L("(",!0);if(!D.test(e=A()))throw F(e,"name");var n=e;i&&(L(")"),n="("+n+")",e=O(),w.test(e)&&(n+=e,A())),L("="),ot(t,n)}function ot(t,e){if(L("{",!0))do{if(!y.test(T=A()))throw F(T,"name");"{"===O()?ot(t,e+"."+T):(L(":"),"{"===O()?ot(t,e+"."+T):st(t,e+"."+T,q(!0)))}while(!L("}",!0));else st(t,e,q(!0))}function st(t,e,i){t.setOption&&t.setOption(e,i)}function rt(t){if(L("[",!0)){do{at(t,"option")}while(L(",",!0));L("]")}return t}function ct(t,e){if(!y.test(e=A()))throw F(e,"service name");var i=new l(e);X(i,function(t){if(!K(i,t)){if("rpc"!==t)throw F(t);lt(i,t)}}),t.add(i)}function lt(t,e){var i=e;if(!y.test(e=A()))throw F(e,"name");var n,a,o,s,r=e;if(L("("),L("stream",!0)&&(a=!0),!D.test(e=A()))throw F(e);if(n=e,L(")"),L("returns"),L("("),L("stream",!0)&&(s=!0),!D.test(e=A()))throw F(e);o=e,L(")");var c=new u(r,i,n,o,a,s);X(c,function(t){if("option"!==t)throw F(t);at(c,t),L(";")}),t.add(c)}function ut(t,e){if(!D.test(e=A()))throw F(e,"reference");var i=e;X(null,function(e){switch(e){case"required":case"repeated":case"optional":Q(t,e,i);break;default:if(!U||!D.test(e))throw F(e);E(e),Q(t,"optional",i)}})}for(;null!==(T=A());)switch(T){case"package":if(!N)throw F(T);z();break;case"import":if(!N)throw F(T);Y();break;case"syntax":if(!N)throw F(T);J();break;case"option":if(!N)throw F(T);at(P,T),L(";");break;default:if(K(P,T)){N=!1;continue}throw F(T)}return S.filename=null,{package:C,imports:k,weakImports:R,syntax:M,root:e}}},{15:15,16:16,20:20,22:22,25:25,29:29,33:33,34:34,35:35,36:36,37:37}],27:[function(t,e){e.exports=r;var i,n=t(39),a=n.LongBits,o=n.utf8;function s(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function r(t){this.buf=t,this.pos=0,this.len=t.length}var c,l="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new r(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new r(t);throw Error("illegal buffer")};function u(){var t=new a(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw s(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw s(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function d(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw s(this,8);return new a(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}r.create=n.Buffer?function(t){return(r.create=function(t){return n.Buffer.isBuffer(t)?new i(t):l(t)})(t)}:l,r.prototype._slice=n.Array.prototype.subarray||n.Array.prototype.slice,r.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),r.prototype.int32=function(){return 0|this.uint32()},r.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},r.prototype.bool=function(){return 0!==this.uint32()},r.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return d(this.buf,this.pos+=4)},r.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|d(this.buf,this.pos+=4)},r.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var t=n.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},r.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var t=n.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},r.prototype.bytes=function(){var t=this.uint32(),e=this.pos,i=this.pos+t;if(i>this.len)throw s(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,i):e===i?new this.buf.constructor(0):this._slice.call(this.buf,e,i)},r.prototype.string=function(){var t=this.bytes();return o.read(t,0,t.length)},r.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw s(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},r.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},r._configure=function(t){i=t;var e=n.Long?"toLong":"toNumber";n.merge(r.prototype,{int64:function(){return u.call(this)[e](!1)},uint64:function(){return u.call(this)[e](!0)},sint64:function(){return u.call(this).zzDecode()[e](!1)},fixed64:function(){return h.call(this)[e](!0)},sfixed64:function(){return h.call(this)[e](!1)}})}},{39:39}],28:[function(t,e){e.exports=a;var i=t(27);(a.prototype=Object.create(i.prototype)).constructor=a;var n=t(39);function a(t){i.call(this,t)}n.Buffer&&(a.prototype._slice=n.Buffer.prototype.slice),a.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len))}},{27:27,39:39}],29:[function(t,e){e.exports=u;var i=t(23);((u.prototype=Object.create(i.prototype)).constructor=u).className="Root";var n,a,o,s=t(16),r=t(15),c=t(25),l=t(37);function u(t){i.call(this,"",t),this.deferred=[],this.files=[]}function d(){}u.fromJSON=function(t,e){return e||(e=new u),t.options&&e.setOptions(t.options),e.addJSON(t.nested)},u.prototype.resolvePath=l.path.resolve,u.prototype.load=function t(e,i,n){"function"==typeof i&&(n=i,i=undefined);var s=this;if(!n)return l.asPromise(t,s,e,i);var r=n===d;function c(t,e){if(n){var i=n;if(n=null,r)throw t;i(t,e)}}function u(t,e){try{if(l.isString(e)&&"{"===e.charAt(0)&&(e=JSON.parse(e)),l.isString(e)){a.filename=t;var n,o=a(e,s,i),u=0;if(o.imports)for(;u<o.imports.length;++u)(n=s.resolvePath(t,o.imports[u]))&&h(n);if(o.weakImports)for(u=0;u<o.weakImports.length;++u)(n=s.resolvePath(t,o.weakImports[u]))&&h(n,!0)}else s.setOptions(e.options).addJSON(e.nested)}catch(t){c(t)}r||_||c(null,s)}function h(t,e){var i=t.lastIndexOf("google/protobuf/");if(i>-1){var a=t.substring(i);a in o&&(t=a)}if(!(s.files.indexOf(t)>-1))if(s.files.push(t),t in o)r?u(t,o[t]):(++_,setTimeout(function(){--_,u(t,o[t])}));else if(r){var d;try{d=l.fs.readFileSync(t).toString("utf8")}catch(t){return void(e||c(t))}u(t,d)}else++_,l.fetch(t,function(i,a){--_,n&&(i?e?_||c(null,s):c(i):u(t,a))})}var _=0;l.isString(e)&&(e=[e]);for(var f,p=0;p<e.length;++p)(f=s.resolvePath("",e[p]))&&h(f);return r?s:(_||c(null,s),undefined)},u.prototype.loadSync=function(t,e){if(!l.isNode)throw Error("not supported");return this.load(t,e,d)},u.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(t){return"'extend "+t.extend+"' in "+t.parent.fullName}).join(", "));return i.prototype.resolveAll.call(this)};var h=/^[A-Z]/;function _(t,e){var i=e.parent.lookup(e.extend);if(i){var n=new s(e.fullName,e.id,e.type,e.rule,undefined,e.options);return n.declaringField=e,e.extensionField=n,i.add(n),!0}return!1}u.prototype._handleAdd=function(t){if(t instanceof s)t.extend===undefined||t.extensionField||_(0,t)||this.deferred.push(t);else if(t instanceof r)h.test(t.name)&&(t.parent[t.name]=t.values);else if(!(t instanceof c)){if(t instanceof n)for(var e=0;e<this.deferred.length;)_(0,this.deferred[e])?this.deferred.splice(e,1):++e;for(var i=0;i<t.nestedArray.length;++i)this._handleAdd(t._nestedArray[i]);h.test(t.name)&&(t.parent[t.name]=t)}},u.prototype._handleRemove=function(t){if(t instanceof s){if(t.extend!==undefined)if(t.extensionField)t.extensionField.parent.remove(t.extensionField),t.extensionField=null;else{var e=this.deferred.indexOf(t);e>-1&&this.deferred.splice(e,1)}}else if(t instanceof r)h.test(t.name)&&delete t.parent[t.name];else if(t instanceof i){for(var n=0;n<t.nestedArray.length;++n)this._handleRemove(t._nestedArray[n]);h.test(t.name)&&delete t.parent[t.name]}},u._configure=function(t,e,i){n=t,a=e,o=i}},{15:15,16:16,23:23,25:25,37:37}],30:[function(t,e){e.exports={}},{}],31:[function(t,e,i){i.Service=t(32)},{32:32}],32:[function(t,e){e.exports=n;var i=t(39);function n(t,e,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(n)}(n.prototype=Object.create(i.EventEmitter.prototype)).constructor=n,n.prototype.rpcCall=function t(e,n,a,o,s){if(!o)throw TypeError("request must be specified");var r=this;if(!s)return i.asPromise(t,r,e,n,a,o);if(!r.rpcImpl)return setTimeout(function(){s(Error("already ended"))},0),undefined;try{return r.rpcImpl(e,n[r.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(t,i){if(t)return r.emit("error",t,e),s(t);if(null===i)return r.end(!0),undefined;if(!(i instanceof a))try{i=a[r.responseDelimited?"decodeDelimited":"decode"](i)}catch(t){return r.emit("error",t,e),s(t)}return r.emit("data",i,e),s(null,i)})}catch(t){return r.emit("error",t,e),setTimeout(function(){s(t)},0),undefined}},n.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{39:39}],33:[function(t,e){e.exports=s;var i=t(23);((s.prototype=Object.create(i.prototype)).constructor=s).className="Service";var n=t(22),a=t(37),o=t(31);function s(t,e){i.call(this,t,e),this.methods={},this._methodsArray=null}function r(t){return t._methodsArray=null,t}s.fromJSON=function(t,e){var i=new s(t,e.options);if(e.methods)for(var a=Object.keys(e.methods),o=0;o<a.length;++o)i.add(n.fromJSON(a[o],e.methods[a[o]]));return e.nested&&i.addJSON(e.nested),i.comment=e.comment,i},s.prototype.toJSON=function(t){var e=i.prototype.toJSON.call(this,t),n=!!t&&Boolean(t.keepComments);return a.toObject(["options",e&&e.options||undefined,"methods",i.arrayToJSON(this.methodsArray,t)||{},"nested",e&&e.nested||undefined,"comment",n?this.comment:undefined])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=a.toArray(this.methods))}}),s.prototype.get=function(t){return this.methods[t]||i.prototype.get.call(this,t)},s.prototype.resolveAll=function(){for(var t=this.methodsArray,e=0;e<t.length;++e)t[e].resolve();return i.prototype.resolve.call(this)},s.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);return t instanceof n?(this.methods[t.name]=t,t.parent=this,r(this)):i.prototype.add.call(this,t)},s.prototype.remove=function(t){if(t instanceof n){if(this.methods[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.methods[t.name],t.parent=null,r(this)}return i.prototype.remove.call(this,t)},s.prototype.create=function(t,e,i){for(var n,s=new o.Service(t,e,i),r=0;r<this.methodsArray.length;++r){var c=a.lcFirst((n=this._methodsArray[r]).resolve().name).replace(/[^$\w_]/g,"");s[c]=a.codegen(["r","c"],a.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return s}},{22:22,23:23,31:31,37:37}],34:[function(t,e){e.exports=h;var i=/[\s{}=;:[\],'"()<>]/g,n=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,a=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,o=/^ *[*\/]+ */,s=/^\s*\*?\/*/,r=/\n/g,c=/\s/,l=/\\(.?)/g,u={0:"\0",r:"\r",n:"\n",t:"\t"};function d(t){return t.replace(l,function(t,e){switch(e){case"\\":case"":return e;default:return u[e]||""}})}function h(t,e){t=t.toString();var l=0,u=t.length,h=1,_=null,f=null,p=0,g=!1,m=[],v=null;function b(t){return Error("illegal "+t+" (line "+h+")")}function y(){var e="'"===v?a:n;e.lastIndex=l-1;var i=e.exec(t);if(!i)throw b("string");return l=e.lastIndex,k(v),v=null,d(i[1])}function D(e){return t.charAt(e)}function w(i,n){_=t.charAt(i++),p=h,g=!1;var a,c=i-(e?2:3);do{if(--c<0||"\n"===(a=t.charAt(c))){g=!0;break}}while(" "===a||"\t"===a);for(var l=t.substring(i,n).split(r),u=0;u<l.length;++u)l[u]=l[u].replace(e?s:o,"").trim();f=l.join("\n").trim()}function S(e){var i=I(e),n=t.substring(e,i);return/^\s*\/{1,2}/.test(n)}function I(t){for(var e=t;e<u&&"\n"!==D(e);)e++;return e}function C(){if(m.length>0)return m.shift();if(v)return y();var n,a,o,s,r;do{if(l===u)return null;for(n=!1;c.test(o=D(l));)if("\n"===o&&++h,++l===u)return null;if("/"===D(l)){if(++l===u)throw b("comment");if("/"===D(l))if(e){if(s=l,r=!1,S(l)){r=!0;do{if((l=I(l))===u)break;l++}while(S(l))}else l=Math.min(u,I(l)+1);r&&w(s,l),h++,n=!0}else{for(r="/"===D(s=l+1);"\n"!==D(++l);)if(l===u)return null;++l,r&&w(s,l-1),++h,n=!0}else{if("*"!==(o=D(l)))return"/";s=l+1,r=e||"*"===D(s);do{if("\n"===o&&++h,++l===u)throw b("comment");a=o,o=D(l)}while("*"!==a||"/"!==o);++l,r&&w(s,l-2),n=!0}}}while(n);var d=l;if(i.lastIndex=0,!i.test(D(d++)))for(;d<u&&!i.test(D(d));)++d;var _=t.substring(l,l=d);return'"'!==_&&"'"!==_||(v=_),_}function k(t){m.push(t)}function R(){if(!m.length){var t=C();if(null===t)return null;k(t)}return m[0]}return Object.defineProperty({next:C,peek:R,push:k,skip:function(t,e){var i=R();if(i===t)return C(),!0;if(!e)throw b("token '"+i+"', '"+t+"' expected");return!1},cmnt:function(t){var i=null;return t===undefined?p===h-1&&(e||"*"===_||g)&&(i=f):(p<t&&R(),p!==t||g||!e&&"/"!==_||(i=f)),i}},"line",{get:function(){return h}})}h.unescape=d},{}],35:[function(t,e){e.exports=m;var i=t(23);((m.prototype=Object.create(i.prototype)).constructor=m).className="Type";var n=t(15),a=t(25),o=t(16),s=t(20),r=t(33),c=t(21),l=t(27),u=t(42),d=t(37),h=t(14),_=t(13),f=t(40),p=t(12),g=t(41);function m(t,e){i.call(this,t,e),this.fields={},this.oneofs=undefined,this.extensions=undefined,this.reserved=undefined,this.group=undefined,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function v(t){return t._fieldsById=t._fieldsArray=t._oneofsArray=null,delete t.encode,delete t.decode,delete t.verify,t}Object.defineProperties(m.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var t=Object.keys(this.fields),e=0;e<t.length;++e){var i=this.fields[t[e]],n=i.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=i}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=d.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=d.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=m.generateConstructor(this)())},set:function(t){var e=t.prototype;e instanceof c||((t.prototype=new c).constructor=t,d.merge(t.prototype,e)),t.$type=t.prototype.$type=this,d.merge(t,c,!0),this._ctor=t;for(var i=0;i<this.fieldsArray.length;++i)this._fieldsArray[i].resolve();var n={};for(i=0;i<this.oneofsArray.length;++i)n[this._oneofsArray[i].resolve().name]={get:d.oneOfGetter(this._oneofsArray[i].oneof),set:d.oneOfSetter(this._oneofsArray[i].oneof)};i&&Object.defineProperties(t.prototype,n)}}}),m.generateConstructor=function(t){for(var e,i=d.codegen(["p"],t.name),n=0;n<t.fieldsArray.length;++n)(e=t._fieldsArray[n]).map?i("this%s={}",d.safeProp(e.name)):e.repeated&&i("this%s=[]",d.safeProp(e.name));return i("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},m.fromJSON=function(t,e){var c=new m(t,e.options);c.extensions=e.extensions,c.reserved=e.reserved;for(var l=Object.keys(e.fields),u=0;u<l.length;++u)c.add((void 0!==e.fields[l[u]].keyType?s.fromJSON:o.fromJSON)(l[u],e.fields[l[u]]));if(e.oneofs)for(l=Object.keys(e.oneofs),u=0;u<l.length;++u)c.add(a.fromJSON(l[u],e.oneofs[l[u]]));if(e.nested)for(l=Object.keys(e.nested),u=0;u<l.length;++u){var d=e.nested[l[u]];c.add((d.id!==undefined?o.fromJSON:d.fields!==undefined?m.fromJSON:d.values!==undefined?n.fromJSON:d.methods!==undefined?r.fromJSON:i.fromJSON)(l[u],d))}return e.extensions&&e.extensions.length&&(c.extensions=e.extensions),e.reserved&&e.reserved.length&&(c.reserved=e.reserved),e.group&&(c.group=!0),e.comment&&(c.comment=e.comment),c},m.prototype.toJSON=function(t){var e=i.prototype.toJSON.call(this,t),n=!!t&&Boolean(t.keepComments);return d.toObject(["options",e&&e.options||undefined,"oneofs",i.arrayToJSON(this.oneofsArray,t),"fields",i.arrayToJSON(this.fieldsArray.filter(function(t){return!t.declaringField}),t)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:undefined,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"group",this.group||undefined,"nested",e&&e.nested||undefined,"comment",n?this.comment:undefined])},m.prototype.resolveAll=function(){for(var t=this.fieldsArray,e=0;e<t.length;)t[e++].resolve();var n=this.oneofsArray;for(e=0;e<n.length;)n[e++].resolve();return i.prototype.resolveAll.call(this)},m.prototype.get=function(t){return this.fields[t]||this.oneofs&&this.oneofs[t]||this.nested&&this.nested[t]||null},m.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);if(t instanceof o&&t.extend===undefined){if(this._fieldsById?this._fieldsById[t.id]:this.fieldsById[t.id])throw Error("duplicate id "+t.id+" in "+this);if(this.isReservedId(t.id))throw Error("id "+t.id+" is reserved in "+this);if(this.isReservedName(t.name))throw Error("name '"+t.name+"' is reserved in "+this);return t.parent&&t.parent.remove(t),this.fields[t.name]=t,t.message=this,t.onAdd(this),v(this)}return t instanceof a?(this.oneofs||(this.oneofs={}),this.oneofs[t.name]=t,t.onAdd(this),v(this)):i.prototype.add.call(this,t)},m.prototype.remove=function(t){if(t instanceof o&&t.extend===undefined){if(!this.fields||this.fields[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.fields[t.name],t.parent=null,t.onRemove(this),v(this)}if(t instanceof a){if(!this.oneofs||this.oneofs[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.oneofs[t.name],t.parent=null,t.onRemove(this),v(this)}return i.prototype.remove.call(this,t)},m.prototype.isReservedId=function(t){return i.isReservedId(this.reserved,t)},m.prototype.isReservedName=function(t){return i.isReservedName(this.reserved,t)},m.prototype.create=function(t){return new this.ctor(t)},m.prototype.setup=function(){for(var t=this.fullName,e=[],i=0;i<this.fieldsArray.length;++i)e.push(this._fieldsArray[i].resolve().resolvedType);this.encode=h(this)({Writer:u,types:e,util:d}),this.decode=_(this)({Reader:l,types:e,util:d}),this.verify=f(this)({types:e,util:d}),this.fromObject=p.fromObject(this)({types:e,util:d}),this.toObject=p.toObject(this)({types:e,util:d});var n=g[t];if(n){var a=Object.create(this);a.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(a),a.toObject=this.toObject,this.toObject=n.toObject.bind(a)}return this},m.prototype.encode=function(t,e){return this.setup().encode(t,e)},m.prototype.encodeDelimited=function(t,e){return this.encode(t,e&&e.len?e.fork():e).ldelim()},m.prototype.decode=function(t,e){return this.setup().decode(t,e)},m.prototype.decodeDelimited=function(t){return t instanceof l||(t=l.create(t)),this.decode(t,t.uint32())},m.prototype.verify=function(t){return this.setup().verify(t)},m.prototype.fromObject=function(t){return this.setup().fromObject(t)},m.prototype.toObject=function(t,e){return this.setup().toObject(t,e)},m.d=function(t){return function(e){d.decorateType(e,t)}}},{12:12,13:13,14:14,15:15,16:16,20:20,21:21,23:23,25:25,27:27,33:33,37:37,40:40,41:41,42:42}],36:[function(t,e,i){var n=i,a=t(37),o=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function s(t,e){var i=0,n={};for(e|=0;i<t.length;)n[o[i+e]]=t[i++];return n}n.basic=s([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=s([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",a.emptyArray,null]),n.long=s([0,0,0,1,1],7),n.mapKey=s([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=s([1,5,0,0,0,5,5,0,0,0,1,1,0])},{37:37}],37:[function(t,e){var i,n,a=e.exports=t(39),o=t(30);a.codegen=t(3),a.fetch=t(5),a.path=t(8),a.fs=a.inquire("fs"),a.toArray=function(t){if(t){for(var e=Object.keys(t),i=new Array(e.length),n=0;n<e.length;)i[n]=t[e[n++]];return i}return[]},a.toObject=function(t){for(var e={},i=0;i<t.length;){var n=t[i++],a=t[i++];a!==undefined&&(e[n]=a)}return e};var s=/\\/g,r=/"/g;a.isReserved=function(t){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t)},a.safeProp=function(t){return!/^[$\w_]+$/.test(t)||a.isReserved(t)?'["'+t.replace(s,"\\\\").replace(r,'\\"')+'"]':"."+t},a.ucFirst=function(t){return t.charAt(0).toUpperCase()+t.substring(1)};var c=/_([a-z])/g;a.camelCase=function(t){return t.substring(0,1)+t.substring(1).replace(c,function(t,e){return e.toUpperCase()})},a.compareFieldsById=function(t,e){return t.id-e.id},a.decorateType=function(e,n){if(e.$type)return n&&e.$type.name!==n&&(a.decorateRoot.remove(e.$type),e.$type.name=n,a.decorateRoot.add(e.$type)),e.$type;i||(i=t(35));var o=new i(n||e.name);return a.decorateRoot.add(o),o.ctor=e,Object.defineProperty(e,"$type",{value:o,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:o,enumerable:!1}),o};var l=0;a.decorateEnum=function(e){if(e.$type)return e.$type;n||(n=t(15));var i=new n("Enum"+l++,e);return a.decorateRoot.add(i),Object.defineProperty(e,"$type",{value:i,enumerable:!1}),i},Object.defineProperty(a,"decorateRoot",{get:function(){return o.decorated||(o.decorated=new(t(29)))}})},{15:15,29:29,3:3,30:30,35:35,39:39,5:5,8:8}],38:[function(t,e){e.exports=n;var i=t(39);function n(t,e){this.lo=t>>>0,this.hi=e>>>0}var a=n.zero=new n(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var o=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(t){if(0===t)return a;var e=t<0;e&&(t=-t);var i=t>>>0,o=(t-i)/4294967296>>>0;return e&&(o=~o>>>0,i=~i>>>0,++i>4294967295&&(i=0,++o>4294967295&&(o=0))),new n(i,o)},n.from=function(t){if("number"==typeof t)return n.fromNumber(t);if(i.isString(t)){if(!i.Long)return n.fromNumber(parseInt(t,10));t=i.Long.fromString(t)}return t.low||t.high?new n(t.low>>>0,t.high>>>0):a},n.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,i=~this.hi>>>0;return e||(i=i+1>>>0),-(e+4294967296*i)}return this.lo+4294967296*this.hi},n.prototype.toLong=function(t){return i.Long?new i.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var s=String.prototype.charCodeAt;n.fromHash=function(t){return t===o?a:new n((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},n.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},n.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return 0===i?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:i<128?9:10}},{39:39}],39:[function(t,e,i){var n=i;function a(t,e,i){for(var n=Object.keys(e),a=0;a<n.length;++a)t[n[a]]!==undefined&&i||(t[n[a]]=e[n[a]]);return t}function o(t){function e(t,i){if(!(this instanceof e))return new e(t,i);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),i&&a(this,i)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}n.asPromise=t(1),n.base64=t(2),n.EventEmitter=t(4),n.float=t(6),n.inquire=t(7),n.utf8=t(10),n.pool=t(9),n.LongBits=t(38),n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isNode=Boolean(global.process&&global.process.versions&&global.process.versions.node),n.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},n.isString=function(t){return"string"==typeof t||t instanceof String},n.isObject=function(t){return t&&"object"==typeof t},n.isset=n.isSet=function(t,e){var i=t[e];return!(null==i||!t.hasOwnProperty(e))&&("object"!=typeof i||(Array.isArray(i)?i.length:Object.keys(i).length)>0)},n.Buffer=function(){try{var t=n.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(t){return"number"==typeof t?n.Buffer?n._Buffer_allocUnsafe(t):new n.Array(t):n.Buffer?n._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=global.dcodeIO&&global.dcodeIO.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(t){return t?n.LongBits.from(t).toHash():n.LongBits.zeroHash},n.longFromHash=function(t,e){var i=n.LongBits.fromHash(t);return n.Long?n.Long.fromBits(i.lo,i.hi,e):i.toNumber(Boolean(e))},n.merge=a,n.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(t){for(var e={},i=0;i<t.length;++i)e[t[i]]=1;return function(){for(var t=Object.keys(this),i=t.length-1;i>-1;--i)if(1===e[t[i]]&&this[t[i]]!==undefined&&null!==this[t[i]])return t[i]}},n.oneOfSetter=function(t){return function(e){for(var i=0;i<t.length;++i)t[i]!==e&&delete this[t[i]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var t=n.Buffer;t?(n._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,i){return new t(e,i)},n._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},{1:1,10:10,2:2,38:38,4:4,6:6,7:7,9:9}],40:[function(t,e){e.exports=function(t){var e=n.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),i={};t.oneofsArray.length&&e("var p={}");for(var r=0;r<t.fieldsArray.length;++r){var c=t._fieldsArray[r].resolve(),l="m"+n.safeProp(c.name);if(c.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",l,c.name),c.map)e("if(!util.isObject(%s))",l)("return%j",a(c,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),s(e,c,"k[i]"),o(e,c,r,l+"[k[i]]")("}");else if(c.repeated)e("if(!Array.isArray(%s))",l)("return%j",a(c,"array"))("for(var i=0;i<%s.length;++i){",l),o(e,c,r,l+"[i]")("}");else{if(c.partOf){var u=n.safeProp(c.partOf.name);1===i[c.partOf.name]&&e("if(p%s===1)",u)("return%j",c.partOf.name+": multiple values"),i[c.partOf.name]=1,e("p%s=1",u)}o(e,c,r,l)}c.optional&&e("}")}return e("return null")};var i=t(15),n=t(37);function a(t,e){return t.name+": "+e+(t.repeated&&"array"!==e?"[]":t.map&&"object"!==e?"{k:"+t.keyType+"}":"")+" expected"}function o(t,e,n,o){if(e.resolvedType)if(e.resolvedType instanceof i){t("switch(%s){",o)("default:")("return%j",a(e,"enum value"));for(var s=Object.keys(e.resolvedType.values),r=0;r<s.length;++r)t("case %i:",e.resolvedType.values[s[r]]);t("break")("}")}else t("{")("var e=types[%i].verify(%s);",n,o)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.isInteger(%s))",o)("return%j",a(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",o,o,o,o)("return%j",a(e,"integer|Long"));break;case"float":case"double":t('if(typeof %s!=="number")',o)("return%j",a(e,"number"));break;case"bool":t('if(typeof %s!=="boolean")',o)("return%j",a(e,"boolean"));break;case"string":t("if(!util.isString(%s))",o)("return%j",a(e,"string"));break;case"bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',o,o,o)("return%j",a(e,"buffer"))}return t}function s(t,e,i){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.key32Re.test(%s))",i)("return%j",a(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.key64Re.test(%s))",i)("return%j",a(e,"integer|Long key"));break;case"bool":t("if(!util.key2Re.test(%s))",i)("return%j",a(e,"boolean key"))}return t}},{15:15,37:37}],41:[function(t,e,i){var n=i,a=t(21);n[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var e=this.lookup(t["@type"]);if(e){var i="."===t["@type"].charAt(0)?t["@type"].substr(1):t["@type"];return this.create({type_url:"/"+i,value:e.encode(e.fromObject(t)).finish()})}}return this.fromObject(t)},toObject:function(t,e){if(e&&e.json&&t.type_url&&t.value){var i=t.type_url.substring(t.type_url.lastIndexOf("/")+1),n=this.lookup(i);n&&(t=n.decode(t.value))}if(!(t instanceof this.ctor)&&t instanceof a){var o=t.$type.toObject(t,e);return o["@type"]=t.$type.fullName,o}return this.toObject(t,e)}}},{21:21}],42:[function(t,e){e.exports=u;var i,n=t(39),a=n.LongBits,o=n.base64,s=n.utf8;function r(t,e,i){this.fn=t,this.len=e,this.next=undefined,this.val=i}function c(){}function l(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function u(){this.len=0,this.head=new r(c,0,0),this.tail=this.head,this.states=null}function d(t,e,i){e[i]=255&t}function h(t,e){this.len=t,this.next=undefined,this.val=e}function _(t,e,i){for(;t.hi;)e[i++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[i++]=127&t.lo|128,t.lo=t.lo>>>7;e[i++]=t.lo}function f(t,e,i){e[i]=255&t,e[i+1]=t>>>8&255,e[i+2]=t>>>16&255,e[i+3]=t>>>24}u.create=n.Buffer?function(){return(u.create=function(){return new i})()}:function(){return new u},u.alloc=function(t){return new n.Array(t)},n.Array!==Array&&(u.alloc=n.pool(u.alloc,n.Array.prototype.subarray)),u.prototype._push=function(t,e,i){return this.tail=this.tail.next=new r(t,e,i),this.len+=e,this},h.prototype=Object.create(r.prototype),h.prototype.fn=function(t,e,i){for(;t>127;)e[i++]=127&t|128,t>>>=7;e[i]=t},u.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new h((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},u.prototype.int32=function(t){return t<0?this._push(_,10,a.fromNumber(t)):this.uint32(t)},u.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},u.prototype.uint64=function(t){var e=a.from(t);return this._push(_,e.length(),e)},u.prototype.int64=u.prototype.uint64,u.prototype.sint64=function(t){var e=a.from(t).zzEncode();return this._push(_,e.length(),e)},u.prototype.bool=function(t){return this._push(d,1,t?1:0)},u.prototype.fixed32=function(t){return this._push(f,4,t>>>0)},u.prototype.sfixed32=u.prototype.fixed32,u.prototype.fixed64=function(t){var e=a.from(t);return this._push(f,4,e.lo)._push(f,4,e.hi)},u.prototype.sfixed64=u.prototype.fixed64,u.prototype.float=function(t){return this._push(n.float.writeFloatLE,4,t)},u.prototype.double=function(t){return this._push(n.float.writeDoubleLE,8,t)};var p=n.Array.prototype.set?function(t,e,i){e.set(t,i)}:function(t,e,i){for(var n=0;n<t.length;++n)e[i+n]=t[n]};u.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(d,1,0);if(n.isString(t)){var i=u.alloc(e=o.length(t));o.decode(t,i,0),t=i}return this.uint32(e)._push(p,e,t)},u.prototype.string=function(t){var e=s.length(t);return e?this.uint32(e)._push(s.write,e,t):this._push(d,1,0)},u.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new r(c,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new r(c,0,0),this.len=0),this},u.prototype.ldelim=function(){var t=this.head,e=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=t.next,this.tail=e,this.len+=i),this},u.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),i=0;t;)t.fn(t.val,e,i),i+=t.len,t=t.next;return e},u._configure=function(t){i=t}},{39:39}],43:[function(t,e){e.exports=o;var i=t(42);(o.prototype=Object.create(i.prototype)).constructor=o;var n=t(39),a=n.Buffer;function o(){i.call(this)}o.alloc=function(t){return(o.alloc=n._Buffer_allocUnsafe)(t)};var s=a&&a.prototype instanceof Uint8Array&&"set"===a.prototype.set.name?function(t,e,i){e.set(t,i)}:function(t,e,i){if(t.copy)t.copy(e,i,0,t.length);else for(var n=0;n<t.length;)e[i++]=t[n++]};function r(t,e,i){t.length<40?n.utf8.write(t,e,i):e.utf8Write(t,i)}o.prototype.bytes=function(t){n.isString(t)&&(t=n._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(s,e,t),this},o.prototype.string=function(t){var e=a.byteLength(t);return this.uint32(e),e&&this._push(r,e,t),this}},{39:39,42:42}]},{})}("object"==typeof window&&window||"object"==typeof self&&self||void 0),cc._RF.pop()},{}],rankCsvData:[function(t,e){"use strict";cc._RF.push(e,"bf38dIj+ExEXJHsK8vXnl5f","rankCsvData");var i=t("csvData"),n=cc.Class({extends:i,name:"rankCsvData",properties:{_fileName:{override:!0,default:"rank"}}});window.rankCsvData=new n,cc._RF.pop()},{csvData:"csvData"}],runtime:[function(t,e){"use strict";cc._RF.push(e,"22a1cdvzWNJSo7dBJX2976S","runtime"),function(t){var e,i=Object.prototype,n=i.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",r=a.toStringTag||"@@toStringTag";function c(t,e,i,n){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),s=new M(n||[]);return o._invoke=I(t,i,s),o}function l(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u="suspendedStart",d="suspendedYield",h="executing",_="completed",f={};function p(){}function g(){}function m(){}var v={};v[o]=function(){return this};var b=Object.getPrototypeOf,y=b&&b(b(T([])));y&&y!==i&&n.call(y,o)&&(v=y);var D=m.prototype=p.prototype=Object.create(v);function w(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(t){function e(i,a,o,s){var r=l(t[i],t,a);if("throw"!==r.type){var c=r.arg,u=c.value;return u&&"object"==typeof u&&n.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,o,s)},function(t){e("throw",t,o,s)}):Promise.resolve(u).then(function(t){c.value=t,o(c)},function(t){return e("throw",t,o,s)})}s(r.arg)}var i;this._invoke=function(t,n){function a(){return new Promise(function(i,a){e(t,n,i,a)})}return i=i?i.then(a,a):a()}}function I(t,e,i){var n=u;return function(a,o){if(n===h)throw new Error("Generator is already running");if(n===_){if("throw"===a)throw o;return B()}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var r=C(s,i);if(r){if(r===f)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===u)throw n=_,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=h;var c=l(t,e,i);if("normal"===c.type){if(n=i.done?_:d,c.arg===f)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n=_,i.method="throw",i.arg=c.arg)}}}function C(t,i){var n=t.iterator[i.method];if(n===e){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=e,C(t,i),"throw"===i.method))return f;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var a=l(n,t.iterator,i.arg);if("throw"===a.type)return i.method="throw",i.arg=a.arg,i.delegate=null,f;var o=a.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,f):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,f)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function T(t){if(t){var i=t[o];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,s=function i(){for(;++a<t.length;)if(n.call(t,a))return i.value=t[a],i.done=!1,i;return i.value=e,i.done=!0,i};return s.next=s}}return{next:B}}function B(){return{value:e,done:!0}}g.prototype=D.constructor=m,m.constructor=g,m[r]=g.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,r in t||(t[r]="GeneratorFunction")),t.prototype=Object.create(D),t},t.awrap=function(t){return{__await:t}},w(S.prototype),S.prototype[s]=function(){return this},t.AsyncIterator=S,t.async=function(e,i,n,a){var o=new S(c(e,i,n,a));return t.isGeneratorFunction(i)?o:o.next().then(function(t){return t.done?t.value:o.next()})},w(D),D[r]="Generator",D[o]=function(){return this},D.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=T,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function a(n,a){return r.type="throw",r.arg=t,i.next=n,a&&(i.method="next",i.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],r=s.completion;if("root"===s.tryLoc)return a("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return a(s.catchLoc,!0);if(this.prev<s.finallyLoc)return a(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return a(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return a(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),R(i),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var a=n.arg;R(i)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:T(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),f}}}("object"==typeof e?e.exports:{}),cc._RF.pop()},{}],shopCsvData:[function(t,e){"use strict";cc._RF.push(e,"1861e5AipNMHYbF2OblRx3T","shopCsvData");var i=t("csvData"),n=cc.Class({extends:i,name:"shopCsvData",properties:{_fileName:{override:!0,default:"shop"}},getLvByID:function(t){return this.getValueByIDKey(t,"lv")},getUnlockByID:function(t){return this.getValueByIDKey(t,"unlock")},getBuygoldByID:function(t){return this.getValueByIDKey(t,"buygold")},getModulusByID:function(t){return this.getValueByIDKey(t,"modulus")},getNumByID:function(t){return this.getValueByIDKey(t,"num")},getSynthesisByID:function(t){return this.getValueByIDKey(t,"synthesis")},getSolideGold:function(t){var e=iosGameData.get("gBuyCountList"),i=e[t-1]?e[t-1]:0;return i>this.getNumByID(t)&&(i=this.getNumByID(t)),this.getBuygoldByID(t)*Math.pow(this.getModulusByID(t),i)}});window.shopCsvData=new n,cc._RF.pop()},{csvData:"csvData"}],soldiersCsvData:[function(t,e){"use strict";cc._RF.push(e,"5e6f0XlKXFMnqmL0v3hb6/w","soldiersCsvData");var i=t("csvData"),n=cc.Class({extends:i,name:"soldiersCsvData",properties:{_fileName:{override:!0,default:"soldiers"}},getLvByID:function(t){return this.getValueByIDKey(t,"lv")},getTypeByID:function(t){return this.getValueByIDKey(t,"type")},getMaxByID:function(t){return this.getValueByIDKey(t,"max")},getMinByID:function(t){return this.getValueByIDKey(t,"min")},getSpineNameByID:function(t){return this.getValueByIDKey(t,"spineName")},getImageByID:function(t){return this.getValueByIDKey(t,"image")}});window.soldiersCsvData=new n,cc._RF.pop()},{csvData:"csvData"}],soldiersIOSMgr:[function(e,i){"use strict";cc._RF.push(i,"b6ec5pcB4RES6c+g1vfE7NE","soldiersIOSMgr");var n=cc.Class({extends:cc.Component,properties:{},start:function(){},initData:function(){this.soldiersList1={},this.soldiersList2={},this.soldiersList3={},this.soldiersName=["infantry","cavalry","archer"],this.soldiersNameCN=["\u6b65\u5175","\u9a91\u5175","\u5f13\u5175"],this.soldiersNameSP=["bubing","qibing","gonbing"],this.soldiersNameSP1=["bubing","qibing","gongbing"],this.autoTime=0,this.autoStatic=!1,this.maxSoldiersLv=0,this._curIndex=1,this.setSwitchSoldiers(),this.checkMaxLevel()},getEmptyOrder:function(){for(var t=1;t<=16;t++)if(!this._curSoldiersList[t]&&!this.mergeeffectList[t])return t;return 0},getOrderByPos:function(t){var e=COUNT_P,i=0;for(var n in e){var a=e[n];if(cc.rect(a.x-75,a.y-100,150,200).contains(t)){i=n;break}}return parseInt(i)},combine:function(t,e,i){if(this._curSoldiersList[i]){if(this.mergeeffectList[i])return!1;if(this.mergeeffectList[t])return!1;if("uiOhter"==this._curSoldiersList[i].name)return!1;var n=this._curSoldiersList[i].getComponent("uiSoldiers")._pID;if(e!=n||e==n&&88==e)return this.itemChange(t,e,i,n),!0;this.itemCombine(t,i,e)}else this.itemMove(t,e,i);return!0},itemCreate:function(e,i,n){var a=this;iosGameData.soldiers[i].lv=e,this.mergeeffectList[i]=!0,UICtrl.createUI("ui/uiMonster/monsterDogFace",function(o){o.parent=a.curLayer,o.addComponent(t("uiSoldiers"));var s=cc.instantiate(GM.HallUi.sp_soldiers_lv);s.active=!0,s.parent=GM.HallUi.soldiers_lv,o.getComponent("uiSoldiers").sp_soldiers_lv=s;var r=monsterCsvData.getMonsterInfo(a._curSoldiers);o.getComponent("uiSoldiers").initData(e,i,r,n),a._curSoldiersList[i]=o,a.mergeeffectList[i]=!1,a.checkMaxLevel()})},itemMove:function(t,e,i){this.itemDelete(t,this._curSoldiersList[t]),this.itemCreate(e,i),iosGameData.set("soldiers",iosGameData.soldiers)},itemDelete:function(t,e){this.mergeeffectList[t]=!1,this._curSoldiersList[t]==e?(this._curSoldiersList[t].destroy(),delete this._curSoldiersList[t],iosGameData.soldiers[t].lv=0):e.destroy()},itemCombine:function(t,e,i){var n=this;this.mergeeffectList[t]=!0,this.mergeeffectList[e]=!0,gMainMgr.showMergeEffect(this._curSoldiersList[t],this._curSoldiersList[e],function(){GM.HallUi.effect_hecheng.active=!0,GM.HallUi.effect_hecheng.getComponent(cc.Animation).stop(),GM.HallUi.effect_hecheng.position=COUNT_P[e],GM.HallUi.effect_hecheng.getComponent(cc.Animation).play("shengjjj"),audioData.playSoundByID(8),a(),iosGameData.plus("gCompoundCount",1)});var a=function(){var a=i+1;if(n.itemDelete(t,n._curSoldiersList[t]),n.itemDelete(e,n._curSoldiersList[e]),n.itemCreate(a,e,!0),iosGameData.set("soldiers",iosGameData.soldiers),a>iosGameData.unlock_soldier_level&&a>iosGameData.maxSoldiersLv){var o=soldiersCsvData.getImageByID(a),s=soldiersCsvData.getSpineNameByID(a);isDlg=!0,GM.HallUi.openSoldiersDlg(a,"lock",s,"LV."+a+"\u58eb\u5175",iosGameData.unlock_soldier_cnt,function(){UICtrl.closeUI("uiHall/uiSoldiersDlg"),gMainMgr.playCoinsFly1(iosGameData.unlock_soldier_cnt,o,s),iosGameData.add("canBuySoldier",iosGameData.unlock_soldier_cnt),GM.HallUi.updateSoldiers()})}var r=GM.HallUi.node_soldiers1.convertToWorldSpaceAR(COUNT_P[e]),c=cc.find("LayerGuide",cc.Canvas.instance.node).convertToNodeSpaceAR(r);gMainMgr.playCoinsFly4(Number(shopCsvData.getSynthesisByID(a)),c.x,c.y)}},itemChange:function(t,e,i,n){var a=this;this.mergeeffectList[t]=!0,this.mergeeffectList[i]=!0;var o,s,r=this._curSoldiersList[t].getComponent("uiSoldiers");r&&(o=r._pID,s=i,this._curSoldiersList[t].getComponent("uiSoldiers").initData(o,s,null,!0)),this._curSoldiersList[i].zIndex=999;var c=cc.scaleTo(.3,.5),l=cc.scaleTo(.1,.4),u=COUNT_P[t],d=cc.v2(u.x,u.y-45),h=cc.moveTo(.2,d).easing(cc.easeSineOut()),_=cc.callFunc(function(){iosGameData.soldiers[t].lv=n,iosGameData.soldiers[i].lv=e;var o=a._curSoldiersList[t];a._curSoldiersList[t]=a._curSoldiersList[i],a._curSoldiersList[i]=o,a._curSoldiersList[t].getComponent("uiSoldiers").initData(n,t),a._curSoldiersList[i].getComponent("uiSoldiers").initData(e,i),setTimeout(function(){a.mergeeffectList[t]=!1,a.mergeeffectList[i]=!1},200)}),f=cc.sequence(c,l,h,_);this._curSoldiersList[i].runAction(f)},setSwitchSoldiers:function(){GM.HallUi.node_soldiers1.removeAllChildren(),GM.HallUi.node_soldiers2.removeAllChildren(),GM.HallUi.soldiers_lv.removeAllChildren(),this.curLayer=GM.HallUi.node_soldiers1,this._curSoldiers=10001,console.log("========iosGameData.soldiers======",iosGameData.soldiers),this._initcurList=iosGameData.soldiers,this.delayauto=20,this._curIndex=1,this._curSoldiersList={},this.mergeeffectList={},this.setSoldiersData()},setSoldiersData:function(){for(var t=1;t<17;t++)Number(this._initcurList[t].lv)>0&&this.itemCreate(this._initcurList[t].lv,t)},getUpgradeAward:function(t,e){if("y"==t.is_rand_red&&GM.HallUi.openRandomRed(),"y"==t.is_unlock_next&&(GM.HallUi["btn_soldiers"+(this._curIndex+1)].getComponent(cc.Button).interactable=!0),Number(t.give_upgrade_soldier_cnt)>0){var i=t.position_info1.lv>t.position_info2.lv?t.position_info1.lv:t.position_info2.lv;GM.HallUi.openSoldiersDlg(i,"lock",this.soldiersNameSP[this._curIndex-1],"LV."+i+this.soldiersNameCN[this._curIndex-1],t,function(){UICtrl.closeUI("uiHall/uiSoldiersDlg"),gMainMgr.playCoinsFly1(Number(t.give_upgrade_soldier_cnt),i)})}if(Number(t.change_amount)>0){iosGameData.set("red_process_bar",t.process_bar);var n=GM.HallUi.node_di.convertToWorldSpaceAR(COUNT_P[e]),a=cc.find("LayerGuide",cc.Canvas.instance.node).convertToNodeSpaceAR(n);gMainMgr.playCoinsFly(t.red_award,a.x,a.y,5,t.red_balance)}var o=t.soldier_balance;iosGameData.set(this.soldiersName[this._curIndex-1]+"_balance",o),iosGameData.set("recommend_info",t.recommend_info),GM.HallUi.updateSoldiers()},checkMaxLevel:function(){for(var t=1;t<4;t++)for(var e=1;e<13;e++)iosGameData.soldiers[e].lv&&Number(iosGameData.soldiers[e].lv)>this.maxSoldiersLv&&(this.maxSoldiersLv=Number(iosGameData.soldiers[e].lv));iosGameData.maxSoldiersLv<this.maxSoldiersLv&&(iosGameData.set("lvBuyCnt",0),iosGameData.set("maxSoldiersLv",this.maxSoldiersLv),iosGameData.storeValue("maxSoldiersLv")),GM.HallUi.updateUpGread()},checkCombine:function(){var t={tpos:0,opos:0,lv:0};for(var e in this._curSoldiersList){var i=this._curSoldiersList[e].getComponent("uiSoldiers"),n=void 0;if(i&&(n=i._pID,i._pOrder),n&&!this.mergeeffectList[e])for(var a in this._curSoldiersList)if(a!=e){var o=this._curSoldiersList[a].getComponent("uiSoldiers"),s=void 0;if(o&&(s=o._pID,o._pOrder),!s||this.mergeeffectList[a])continue;if(n==s)return t.tpos=a,t.opos=e,t.lv=s,t}}return t},showSoldierOpacity:function(t,e){for(var i=1;i<=16;i++)e!=i&&this._curSoldiersList[i]&&"monsterDogFace"==this._curSoldiersList[i].name&&(t==this._curSoldiersList[i].getComponent("uiSoldiers")._pID?GM.HallUi["merge_effect_"+i].active=!0:this._curSoldiersList[i].color=new cc.Color(200,200,200,255))},hideSoldierOpacity:function(){for(var t=1;t<=16;t++)this._curSoldiersList[t]&&"monsterDogFace"==this._curSoldiersList[t].name&&(this._curSoldiersList[t].color=new cc.Color(255,255,255,255)),GM.HallUi["merge_effect_"+t].active=!1;GM.HallUi.merge_effect1.active=!1},showSoldierType:function(t,e,i){if(e!=i)if(this._curSoldiersList[i]&&"monsterDogFace"==this._curSoldiersList[i].name){if("monsterDogFace"==this._curSoldiersList[i].name)for(var n=1;n<=16;n++)n!=i&&this._curSoldiersList[n]&&"monsterDogFace"==this._curSoldiersList[n].name&&(GM.HallUi["merge_effect_"+n].active=!1),e!=n&&this._curSoldiersList[n]&&"monsterDogFace"==this._curSoldiersList[n].name&&t==this._curSoldiersList[n].getComponent("uiSoldiers")._pID&&(GM.HallUi["merge_effect_"+n].active=!0)}else{for(var a=1;a<=16;a++)e!=a&&this._curSoldiersList[a]&&"monsterDogFace"==this._curSoldiersList[a].name&&(GM.HallUi["merge_effect_"+a].active=!1,t==this._curSoldiersList[a].getComponent("uiSoldiers")._pID&&(GM.HallUi["merge_effect_"+a].active=!0));GM.HallUi.merge_effect1.active=!1}else for(var o=1;o<=16;o++)e!=o&&this._curSoldiersList[o]&&"monsterDogFace"==this._curSoldiersList[o].name&&(GM.HallUi["merge_effect_"+o].active=!1,t==this._curSoldiersList[o].getComponent("uiSoldiers")._pID&&(GM.HallUi["merge_effect_"+o].active=!0));if(i){var s=COUNT_P[i];GM.HallUi.merge_effect1.x=s.x,GM.HallUi.merge_effect1.y=s.y,GM.HallUi.merge_effect1.active=!0}},getMaxSoldier:function(){var t=iosGameData.maxSoldiersLv,e=iosGameData.maxSoldiersLv-1,i=iosGameData.maxSoldiersLv-2;return iosGameData.maxSoldiersLv<=3?[1,2,3]:iosGameData.maxSoldiersLv%3==1?[t,i,e]:iosGameData.maxSoldiersLv%3==2?[e,t,i]:iosGameData.maxSoldiersLv%3==0?[i,e,t]:void 0},onLockHero:function(){var t,e=generalCsvData.getAllDatas();for(var i in e)if(iosGameData.gPassPointCount-1==Number(e[i].Unlock)){t=e[i];break}t&&(iosGameData.set("battleHeroId",2e4+Number(t.General)),UICtrl.openUI("uiIOS/uiHeroInfo",function(e){e.initData(t,"share")}))},updateTouchState:function(){iosGameData.touchStart=!0,GM.HallUi.btn_buy.active=!1,GM.HallUi.btn_enage.active=!1,GM.HallUi.btn_huishou.active=!0},updateTouchEnd:function(){iosGameData.touchStart=!1,GM.HallUi.updateBtnState()}});window.soldiersIOSMgr=new n,cc._RF.pop()},{}],soldiersMgr:[function(t,e){"use strict";cc._RF.push(e,"9dbfe+NIitOVKzPumlbVGUe","soldiersMgr");var i=cc.Class({extends:cc.Component,properties:{},start:function(){},initData:function(){this.soldiersList1={},this.soldiersList2={},this.soldiersList3={},this.soldiersName=["infantry","cavalry","archer"],this.soldiersNameCN=["\u6b65\u5175","\u9a91\u5175","\u5f13\u5175"],this.soldiersNameSP=["bubing","qibing","gonbing"],this.soldiersNameSP1=["bubing","qibing","gongbing"],this.autoTime=0,this.autoStatic=!1,this.maxSoldiersLv=0,this._curIndex=1,this.setSwitchSoldiers(),this.checkMaxLevel()},getEmptyOrder:function(){for(var t=1;t<=16;t++)if(!this._curSoldiersList[t]&&!this.mergeeffectList[t]&&0==gameData.soldiers[t].lv&&0==gameData.soldiers[t].red&&0==gameData.soldiers[t].gift)return t;return 0},getOrderByPos:function(t){var e=COUNT_P,i=0;for(var n in e){var a=e[n];if(cc.rect(a.x-75,a.y-100,150,200).contains(t)){i=n;break}}return parseInt(i)},combine:function(t,e,i){var n=function(){return 2==i};if(this._curSoldiersList[i]){if(this.mergeeffectList[i])return!1;if(this.mergeeffectList[t])return!1;if("uiOhter"==this._curSoldiersList[i].name)return!1;if(!gameData.ifGuide&&!n())return!1;var a=this._curSoldiersList[i].getComponent("uiSoldiers")._pID;if(e!=a||e==a&&88==e)return this.itemChange(t,e,i,a),!0;this.itemCombine(t,i,e)}else{if(!gameData.ifGuide&&!n())return!1;this.itemMove(t,e,i)}return!0},itemCreate:function(t,e,i){var n=this;gameData.soldiers[e].lv=t,this.mergeeffectList[e]=!0,UICtrl.createUI("ui/uiMonster/monsterDogFace",function(a){a.parent=n.curLayer,a.addComponent("uiSoldiers");var o=cc.instantiate(GM.HallUi.sp_soldiers_lv);o.active=!0,o.parent=GM.HallUi.soldiers_lv,a.getComponent("uiSoldiers").sp_soldiers_lv=o;var s=monsterCsvData.getMonsterInfo(n._curSoldiers);a.getComponent("uiSoldiers").initData(t,e,s,i),n._curSoldiersList[e]=a,n.mergeeffectList[e]=!1,n.checkMaxLevel()})},itemMove:function(t,e,i){this.itemDelete(t,this._curSoldiersList[t]),this.itemCreate(e,i)},itemDelete:function(t,e){this.mergeeffectList[t]=!1,this._curSoldiersList[t]==e?(this._curSoldiersList[t].destroy(),delete this._curSoldiersList[t],gameData.soldiers[t].lv=0,gameData.soldiers[t].red=0,gameData.soldiers[t].gift=0):(console.log("\u6ca1\u5220\u6389------------",t),e.destroy())},itemCombine:function(t,e,i){var n=this;GM.HallUi.optionalFirstGuide>0&&GM.HallUi.optionalFirstGuide<=500?(GM.HallUi.optionalFirstGuide++,GM.HallUi.showFirstGuide()):GM.HallUi.hideFingerGuide(),this.mergeeffectList[t]=!0,this.mergeeffectList[e]=!0,gMainMgr.showMergeEffect(this._curSoldiersList[t],this._curSoldiersList[e],function(){GM.HallUi.effect_hecheng.active=!0,GM.HallUi.effect_hecheng.getComponent(cc.Animation).stop(),GM.HallUi.effect_hecheng.position=COUNT_P[e],GM.HallUi.effect_hecheng.getComponent(cc.Animation).play("shengjjj"),audioData.playSoundByID(8),a()});var a=function(){var a=i+1;a>gameData.maxSoldiersLv&&webData.upgradeCallBack(a),n.itemDelete(t,n._curSoldiersList[t]),n.itemDelete(e,n._curSoldiersList[e]),n.itemCreate(a,e,!0),gameData.add("mergeCnt",1),gameData.add("mergeDayCnt",1);var o=!1;if(a>gameData.unlock_soldier_level&&a>gameData.maxSoldiersLv){var s=soldiersCsvData.getImageByID(a),r=soldiersCsvData.getSpineNameByID(a);o=!0,GM.HallUi.openSoldiersDlg(a,"lock",r,"LV."+a+"\u58eb\u5175",gameData.unlock_soldier_cnt,function(){UICtrl.closeUI("uiHall/uiSoldiersDlg"),gMainMgr.playCoinsFly1(gameData.unlock_soldier_cnt,s,r),gameData.add("canBuySoldier",gameData.unlock_soldier_cnt),GM.HallUi.updateSoldiers()})}if(a>gameData.maxSoldiersLv&&10==a&&webData.task_ddCallBack("require"),gameData.maxSoldiersLv>=gameData.open_fujiang_level&&!o&&util.randomRange(1,1e4)<100*gameData.fujiang_gl&&GM.HallUi.openRandomRed(),gameData.mergeDayCnt<gameData.daily_merge_red_cnt){var c=GM.HallUi.node_soldiers1.convertToWorldSpaceAR(COUNT_P[e]),l=cc.find("LayerGuide",cc.Canvas.instance.node).convertToNodeSpaceAR(c),u=gameData.red_setting[G_RED_CONFIG.RED_MEAGE];gMainMgr.playCoinsFly(u,l.x,l.y)}if(gameData.ifGuide||(gGuideMgr.runStep(2),setTimeout(function(){gGuideMgr.runStep(3)},2500)),n.checkAirRed()<5){var d=gameData.airdrop_red_detail;for(var h in d=d.split(","))if(gameData.mergeDayCnt==Number(d[h])){gameData.soldiers[t].red=1;var _=n.porpType(gameData.soldiers[t]);if(_.type>0)return audioData.playSoundByID(32),void n.createOther(_,t,!0)}}var f=gameData.airdrop_friend_icon;for(var p in f=f.split(","))if(gameData.mergeCnt==Number(f[p])){gameData.soldiers[t].gift=60;var g=n.porpType(gameData.soldiers[t]);if(g.type>0)return audioData.playSoundByID(32),void n.createOther(g,t,!0)}var m=gameData.airdrop_thousand_icon;for(var v in m=m.split(","))if(gameData.mergeCnt==Number(m[v])){gameData.soldiers[t].gift=61;var b=n.porpType(gameData.soldiers[t]);if(b.type>0)return audioData.playSoundByID(32),void n.createOther(b,t,!0)}var y=gameData.airdrop_profit_icon;for(var D in y=y.split(","))if(gameData.mergeCnt==Number(y[D])){gameData.soldiers[t].gift=62;var w=n.porpType(gameData.soldiers[t]);if(w.type>0)return audioData.playSoundByID(32),void n.createOther(w,t,!0)}if(gameData.is_process_dialog_text){var S=gameData.airdrop_download_icon;for(var I in S=S.split(","))if(gameData.mergeDayCnt==Number(S[I])){gameData.soldiers[t].gift=63;var C=n.porpType(gameData.soldiers[t]);if(C.type>0)return audioData.playSoundByID(32),void n.createOther(C,t,!0)}}var k=gameData.airdrop_fujiang_icon;for(var R in k=k.split(","))if(gameData.mergeCnt==Number(k[R])){gameData.soldiers[t].gift=64;var M=n.porpType(gameData.soldiers[t]);if(M.type>0)return audioData.playSoundByID(32),void n.createOther(M,t,!0)}var T=gameData.airdrop_box_icon;for(var B in T=T.split(","))if(gameData.mergeCnt==Number(T[B])){gameData.soldiers[t].gift=65;var A=n.porpType(gameData.soldiers[t]);if(A.type>0)return audioData.playSoundByID(32),void n.createOther(A,t,!0)}var E=gameData.airdrop_shake_icon;for(var O in E=E.split(","))if(gameData.mergeCnt==Number(E[O])){gameData.soldiers[t].gift=66;var L=n.porpType(gameData.soldiers[t]);if(L.type>0)return audioData.playSoundByID(32),void n.createOther(L,t,!0)}}},itemChange:function(t,e,i,n){var a=this;this.mergeeffectList[t]=!0,this.mergeeffectList[i]=!0;var o,s,r=this._curSoldiersList[t].getComponent("uiSoldiers");r&&(o=r._pID,s=i,this._curSoldiersList[t].getComponent("uiSoldiers").initData(o,s,null,!0)),this._curSoldiersList[i].zIndex=999;var c=cc.scaleTo(.3,.5),l=cc.scaleTo(.1,.4),u=COUNT_P[t],d=cc.v2(u.x,u.y-45),h=cc.moveTo(.2,d).easing(cc.easeSineOut()),_=cc.callFunc(function(){gameData.soldiers[t].lv=n,gameData.soldiers[i].lv=e;var o=a._curSoldiersList[t];a._curSoldiersList[t]=a._curSoldiersList[i],a._curSoldiersList[i]=o,a._curSoldiersList[t].getComponent("uiSoldiers").initData(n,t),a._curSoldiersList[i].getComponent("uiSoldiers").initData(e,i),setTimeout(function(){a.mergeeffectList[t]=!1,a.mergeeffectList[i]=!1},200)}),f=cc.sequence(c,l,h,_);this._curSoldiersList[i].runAction(f)},setSwitchSoldiers:function(){GM.HallUi.node_soldiers1.removeAllChildren(),GM.HallUi.node_soldiers2.removeAllChildren(),GM.HallUi.soldiers_lv.removeAllChildren(),this.curLayer=GM.HallUi.node_soldiers1,this._curSoldiers=10001,this._initcurList=gameData.soldiers,this.delayauto=20,this._curIndex=1,this._curSoldiersList={},this.mergeeffectList={},this._initcurList=gameData.soldiers,this._curSoldiers=10001,this.setSoldiersData()},addSoldiersList:function(t){if(gameData.gInfantryMonsterList.length+gameData.gArcherMonsterList.length+gameData.gCavalryMonsterList.length>=gameData.battle_max_cnt)GM.HallUi.onUpdateMakeWarNumber();else{1==this._curIndex?gameData.gInfantryMonsterList.push(t):2==this._curIndex?gameData.gArcherMonsterList.push(t):3==this._curIndex&&gameData.gCavalryMonsterList.push(t),GM.HallUi.onUpdateMakeWarNumber();var e=GM.HallUi.node_di.convertToWorldSpaceAR(GM.HallUi.start_pos.position),i=GM.HallUi.node_monster.convertToNodeSpaceAR(e);monsterMgr.initMonster(this._curSoldiers,GM.HallUi.node_monster,i,t,!1,!1,!0)}},setSoldiersData:function(){for(var t=1;t<17;t++)if(Number(this._initcurList[t].lv)>0)this.itemCreate(this._initcurList[t].lv,t);else{var e=this.porpType(this._initcurList[t],t);e.type>0&&this.createOther(e,t)}},porpType:function(t){var e={type:0,value:0,award_type:""};return Number(t.red)>0?(e.type=1,e.value=Number(t.red),e.award_type="redAmount"):Number(t.gift)>0&&(e.type=2,e.value=Number(t.gift),e.award_type="giftLevel"),e},createOther:function(t,e,i){var n=this;UICtrl.createUI("ui/uiHall/uiOhter",function(a){a.parent=GM.HallUi.node_soldiers2,a.getComponent("uiOhter").initData(t,e,i),n._curSoldiersList[e]=a})},getcombine:function(t,e,i){var n=this;this.allowMerge=!0,webData.mergeCallBack(this.soldiersName[this._curIndex-1],t,e,i,function(i){i.data&&i.data.position_info1&&i.data.position_info2?(n.itemDelete(t),n.itemDelete(e),n.operation(t,e,i.data.position_info1,i.data.position_info2)):(n._curSoldiersList[t]&&n._curSoldiersList[t].getComponent("uiSoldiers")&&n._curSoldiersList[t].getComponent("uiSoldiers").initPos(),n._curSoldiersList[e]&&n._curSoldiersList[e].getComponent("uiSoldiers")&&n._curSoldiersList[e]&&n._curSoldiersList[e].getComponent("uiSoldiers").initPos()),console.log(i.message),n.allowMerge=!1})},operation:function(t,e,i,n,a){var o=this,s=function(){o.itemDelete(t),o.itemDelete(e);var s=Number(i.lv);if(s>0)o.itemCreate(s,t,a);else{var r=o.porpType(i,t);r.type>0&&(audioData.playSoundByID(32),o.createOther(r,t,a))}if((s=Number(n.lv))>0)o.itemCreate(s,e,a);else{var c=o.porpType(n,e);c.type>0&&(audioData.playSoundByID(32),o.createOther(c,e,a))}};a?gMainMgr.showMergeEffect(this._curSoldiersList[t],this._curSoldiersList[e],function(){GM.HallUi.effect_hecheng.active=!0,GM.HallUi.effect_hecheng.getComponent(cc.Animation).stop(),GM.HallUi.effect_hecheng.position=COUNT_P[e],GM.HallUi.effect_hecheng.getComponent(cc.Animation).play("shengjjj"),audioData.playSoundByID(8),s()}):s()},getUpgradeAward:function(t,e){if(gameData.ifGuide)"y"==t.is_rand_red&&GM.HallUi.openRandomRed();else{var i=Number(t.position_info1.lv),n=Number(t.position_info2.lv);0==i&&2==n&&(gGuideMgr.runStep(2),setTimeout(function(){gGuideMgr.runStep(3)},2500))}if("y"==t.is_unlock_next&&(GM.HallUi["btn_soldiers"+(this._curIndex+1)].getComponent(cc.Button).interactable=!0),Number(t.give_upgrade_soldier_cnt)>0){var a=t.position_info1.lv>t.position_info2.lv?t.position_info1.lv:t.position_info2.lv;GM.HallUi.openSoldiersDlg(a,"lock",this.soldiersNameSP[this._curIndex-1],"LV."+a+this.soldiersNameCN[this._curIndex-1],t,function(){UICtrl.closeUI("uiHall/uiSoldiersDlg"),gMainMgr.playCoinsFly1(Number(t.give_upgrade_soldier_cnt),a)})}if(Number(t.change_amount)>0){gameData.set("red_process_bar",t.process_bar);var o=GM.HallUi.node_di.convertToWorldSpaceAR(COUNT_P[e]),s=cc.find("LayerGuide",cc.Canvas.instance.node).convertToNodeSpaceAR(o);gMainMgr.playCoinsFly(t.red_award,s.x,s.y,5,t.red_balance)}var r=t.soldier_balance;gameData.set(this.soldiersName[this._curIndex-1]+"_balance",r),gameData.set("recommend_info",t.recommend_info),GM.HallUi.updateSoldiers()},autoCombineSchedule:function(){var t=this;this.autoTime+=gameData.auto_merge_time,this.autoTime>10800&&(this.autoTime=10800),this.autoCombineTime&&this.autoStatic||(this.autoStatic=!0,this.autoCombineTime=setInterval(function(){0!=cc.find("LayerDlg",cc.Canvas.instance.node).children.length||t.statusFight?t.autoSuspended=!0:(t.autoSuspended=!1,t.autoCombine())},500))},autoCombine:function(){for(var t in this._curSoldiersList){var e=this._curSoldiersList[t].getComponent("uiSoldiers"),i=void 0;if(e&&(i=e._pID,e._pOrder),i&&!this.mergeeffectList[t])for(var n in this._curSoldiersList)if(n!=t){var a=this._curSoldiersList[n].getComponent("uiSoldiers"),o=void 0;if(a&&(o=a._pID,a._pOrder),!o||this.mergeeffectList[n])continue;if(i==o)return void this.itemCombine(n,t,i)}}},checkMaxLevel:function(){for(var t=1;t<4;t++)for(var e=1;e<13;e++)gameData.soldiers[e].lv&&Number(gameData.soldiers[e].lv)>this.maxSoldiersLv&&(this.maxSoldiersLv=Number(gameData.soldiers[e].lv));gameData.maxSoldiersLv<this.maxSoldiersLv&&(gameData.set("lvBuyCnt",0),gameData.set("maxSoldiersLv",this.maxSoldiersLv),gameData.storeValue("maxSoldiersLv")),GM.HallUi.updateUpGread()},checkCombine:function(){var t={tpos:0,opos:0,lv:0};for(var e in this._curSoldiersList){var i=this._curSoldiersList[e].getComponent("uiSoldiers"),n=void 0;if(i&&(n=i._pID,i._pOrder),n&&!this.mergeeffectList[e])for(var a in this._curSoldiersList)if(a!=e){var o=this._curSoldiersList[a].getComponent("uiSoldiers"),s=void 0;if(o&&(s=o._pID,o._pOrder),!s||this.mergeeffectList[a])continue;if(n==s)return t.tpos=a,t.opos=e,t.lv=s,t}}return t},listDelete:function(){GM.HallUi.node.stopAllActions();for(var t=1;t<=16;t++)this._curSoldiersList[t]&&this._curSoldiersList[t].destroy()},showSoldierOpacity:function(t,e){for(var i=1;i<=16;i++)e!=i&&this._curSoldiersList[i]&&"monsterDogFace"==this._curSoldiersList[i].name&&(t==this._curSoldiersList[i].getComponent("uiSoldiers")._pID?GM.HallUi["merge_effect_"+i].active=!0:this._curSoldiersList[i].color=new cc.Color(200,200,200,255))},hideSoldierOpacity:function(){for(var t=1;t<=16;t++)this._curSoldiersList[t]&&"monsterDogFace"==this._curSoldiersList[t].name&&(this._curSoldiersList[t].color=new cc.Color(255,255,255,255)),GM.HallUi["merge_effect_"+t].active=!1;GM.HallUi.merge_effect1.active=!1},showSoldierType:function(t,e,i){if(e!=i)if(this._curSoldiersList[i]&&"monsterDogFace"==this._curSoldiersList[i].name){if("monsterDogFace"==this._curSoldiersList[i].name)for(var n=1;n<=16;n++)n!=i&&this._curSoldiersList[n]&&"monsterDogFace"==this._curSoldiersList[n].name&&(GM.HallUi["merge_effect_"+n].active=!1),e!=n&&this._curSoldiersList[n]&&"monsterDogFace"==this._curSoldiersList[n].name&&t==this._curSoldiersList[n].getComponent("uiSoldiers")._pID&&(GM.HallUi["merge_effect_"+n].active=!0)}else{for(var a=1;a<=16;a++)e!=a&&this._curSoldiersList[a]&&"monsterDogFace"==this._curSoldiersList[a].name&&(GM.HallUi["merge_effect_"+a].active=!1,t==this._curSoldiersList[a].getComponent("uiSoldiers")._pID&&(GM.HallUi["merge_effect_"+a].active=!0));GM.HallUi.merge_effect1.active=!1}else for(var o=1;o<=16;o++)e!=o&&this._curSoldiersList[o]&&"monsterDogFace"==this._curSoldiersList[o].name&&(GM.HallUi["merge_effect_"+o].active=!1,t==this._curSoldiersList[o].getComponent("uiSoldiers")._pID&&(GM.HallUi["merge_effect_"+o].active=!0));if(i){var s=COUNT_P[i];GM.HallUi.merge_effect1.x=s.x,GM.HallUi.merge_effect1.y=s.y,GM.HallUi.merge_effect1.active=!0}},getMaxSoldier:function(){var t=gameData.maxSoldiersLv,e=gameData.maxSoldiersLv-1,i=gameData.maxSoldiersLv-2;return gameData.maxSoldiersLv<=3?[1,2,3]:gameData.maxSoldiersLv%3==1?[t,i,e]:gameData.maxSoldiersLv%3==2?[e,t,i]:gameData.maxSoldiersLv%3==0?[i,e,t]:void 0},checkAirRed:function(){for(var t=0,e=1;e<17;e++)Number(this._initcurList[e].red)>0&&(t+=1);return t},updateTouchState:function(){},updateTouchEnd:function(){GM.HallUi.btn_buy.active=!0,GM.HallUi.btn_huishou.active=!1}});window.soldiersMgr=new i,cc._RF.pop()},{}],uiAdMsg:[function(t,e){"use strict";cc._RF.push(e,"57a490ML4hJCalEQ8loOvGa","uiAdMsg"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents(),this.lab_money.setLabel(gameData.average_award)},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_sure.quickBt(function(){UICtrl.closeUI(t)})},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiAlert:[function(t,e){"use strict";cc._RF.push(e,"21161Rps3BG1Yq/R0/Yly9a","uiAlert"),cc.Class({extends:ui.baseLayer,properties:{lblDes:cc.Node,imgBg:cc.Node},start:function(){},init:function(t){var e=this;if(cc.isValid(this.node)&&this.lblDes&&cc.isValid(this.lblDes)){this.lblDes.getComponent(cc.Label).string=t,this.node.y=-100,this.scheduleOnce(function(){var t=e.lblDes.getContentSize().width;e.imgBg.setContentSize(cc.size(t+200,80)),e.imgBg.active=!0});var i=cc.delayTime(.7),n=cc.moveBy(1.7,cc.v2(0,300)).easing(cc.easeBackOut()),a=cc.fadeOut(.5),o=cc.callFunc(function(){e.node.destroy()}),s=cc.sequence(n,i,a,o);this.node.runAction(s)}}}),cc._RF.pop()},{}],uiBattleEnd:[function(t,e){"use strict";cc._RF.push(e,"ffc9cVKQp9BqI9KezExvtau","uiBattleEnd"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){gGuideMgr.guideEnd(),this.addEvents(),gMainMgr.playBtnBreatheEffect1(this.btn_award)},initData:function(){var t=this;cc.director.getScheduler().setTimeScale(1),UICtrl.closeAllDlg("uiMonster/uiBattleEnd"),GM.HallUi.updateGameBg(),util.isIos()||cc.audioEngine.stopAllEffects(),audioData.onPauseMuisc(),audioData.playSoundByID(6),this._battleWinRed=Number(gameData.red_setting[G_RED_CONFIG.RED_BATTLE_WIN]),this._extraRed=Number(gameData.red_setting[G_RED_CONFIG.RED_WAR_WIN_EXTRA]),this.lbl_extra_number.setLabel(this._extraRed),this._battleWinRed&&this.lbl_end_red_number.setLabel(this._battleWinRed),this.img_win_bg.y=GM.G_HEIGHT/2,gameData.remain_war_win_extra_award_cnt<=0?this.btn_ok.active=!0:(this.btn_ok.active=!1,this.scheduleOnce(function(){t.btn_ok.active=!0},G_CLOSE_DELAY_TIME))},addEvents:function(){var t=this,e=function(){var t,e=generalCsvData.getAllDatas();for(var i in e)if(gameData.current_check_point-1==Number(e[i].Unlock)){t=e[i];break}t?(gameData.set("battleHeroId",2e4+Number(t.General)),monsterMgr.onCreateFightingMonster(null,!0),UICtrl.openUI("uiGeneral/uiHeroInfo",function(e){e.initData(t,"share")})):monsterMgr.onCreateFightingMonster(null,!0)};this.btn_ok.quickBt(function(){var i=t._battleWinRed;gMainMgr.onShowCommonGetRed(1,i,G_REWARD_TYPE.REWARD_TYPE_RED,G_OPEN_RED_TYPE.RED_WAR_RESULT_REWARD,function(){gMainMgr.playCoinsFly(i),e()},function(){gMainMgr.playCoinsFly(i),e()}),UICtrl.closeUI(t)},null,null,1),this.btn_award.quickBt(function(){gameData.remain_war_win_extra_award_cnt<=0?util.showTip("\u4eca\u65e5\u201c\u901a\u5173\u5956\u52b1\u201d\u89c6\u9891\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650"):nativeData.showRewardAd(function(){webData.check_videoCallBack("war_win_video",function(i){var n=t._battleWinRed+t._extraRed;gameData.set("remain_war_win_extra_award_cnt",i.remain_cnt),gMainMgr.onShowCommonGetRed(1,n,G_REWARD_TYPE.REWARD_TYPE_RED,G_OPEN_RED_TYPE.RED_WAR_RESULT_REWARD,function(){gMainMgr.playCoinsFly(n),e()},function(){gMainMgr.playCoinsFly(n),e()}),UICtrl.closeUI(t)},function(){})},function(){})})},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiBonusMsg:[function(t,e){"use strict";cc._RF.push(e,"eb0aaw1AtpCz7IbUdp0C3Yc","uiBonusMsg"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents(),this.lab_title.setLabel("\u83b7\u5f97\u9ad8\u989d\u7ea2\u5305\u8fdb\u5ea6"),this.lab_title.runAction(cc.repeat(cc.sequence(cc.delayTime(.1),cc.scaleTo(.7,1.3,1.3),cc.scaleTo(.7,1,1)),3))},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_sure.quickBt(function(){t.func&&t.func()})},onDestroy:function(){},initData:function(t){this.func=t,console.log(isIos),util.isIos()?this.sp_ios.active=!0:this.sp_android.active=!0}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiBonusRank:[function(t,e){"use strict";cc._RF.push(e,"bd069mnP0hJWY4oPm+a2GBs","uiBonusRank"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.node.setContentSize(720,GM.G_HEIGHT),this.addEvents(),this.type="daily",this.page=1,this.curpage=1,this.getBonusRank()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_jinri.quickBt(function(){t.sp_jinri1.active=!1,t.sp_jinri2.active=!0,t.sp_lishi1.active=!0,t.sp_lishi2.active=!1,t.type="daily",t.page=1,t.getBonusRank()},null,null,2),this.btn_lishi.quickBt(function(){t.sp_jinri1.active=!0,t.sp_jinri2.active=!1,t.sp_lishi1.active=!1,t.sp_lishi2.active=!0,t.type="history",t.page=1,t.getBonusRank()},null,null,2),this.btn_last.quickBt(function(){t.isgetrank||(t.page--,t.page<=0?t.page=1:t.getBonusRank())}),this.btn_next.quickBt(function(){t.isgetrank||(t.page++,t.page>t.page_total?t.page=t.page_total:t.getBonusRank())})},getBonusRank:function(){var t=this;this.isgetrank=!0,webData.profit_rankCallBack(this.type,this.page,function(e){t.curpage=t.page,t.initData(e.data),t.isgetrank=!1},function(e){util.showTip(e.message),t.page=t.curpage,t.isgetrank=!1})},initData:function(t){this.lab_people.setLabel(t.profit_cnt);var e=t.list;this.page_total=t.page_total;for(var i=0;i<7;i++){var n=Number(i)+1;if(e[i]){this["lab_id"+n].active=!0,this["lab_name"+n].active=!0,this["lab_nian"+n].active=!0,this["lab_time"+n].active=!0,this["sp_head"+n].active=!0,this["touxiangkuang_"+n].active=!0,this["kuang_"+n].active=!0,this["lab_fh"+n].active=!0,this["sp_kuang"+n].active=!0,this["lab_id"+n].setLabel(n+7*(this.page-1)),this["lab_name"+n].setLabel(e[i].wx_nickname);var a=e[i].time;a=a.split(" "),this["lab_nian"+n].setLabel(a[0]),this["lab_time"+n].setLabel(a[1]),gMainMgr.onShowHeardInfo(e[i].avatar_url,this["sp_head"+n])}else this["lab_id"+n].active=!1,this["lab_name"+n].active=!1,this["lab_nian"+n].active=!1,this["lab_time"+n].active=!1,this["sp_head"+n].active=!1,this["touxiangkuang_"+n].active=!1,this["kuang_"+n].active=!1,this["lab_fh"+n].active=!1,this["sp_kuang"+n].active=!1}this.lab_page.setLabel(this.page+"/"+this.page_total)}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiBonusWhat:[function(t,e){"use strict";cc._RF.push(e,"9c9d7MOE+BJVq7/1d/2WxRc","uiBonusWhat"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents(),this.lab_title.setLabel("\u83b7\u5f97\u9ad8\u989d\u7ea2\u5305\u8fdb\u5ea6"),this.lab_title.runAction(cc.repeat(cc.sequence(cc.delayTime(.1),cc.scaleTo(.7,1.3,1.3),cc.scaleTo(.7,1,1)),3))},addEvents:function(){var t=this;this.btn_back.quickBt(function(){t.closefunc&&t.closefunc(),UICtrl.closeUI(t)},null,null,1),this.btn_try.quickBt(function(){t.func&&t.func(),UICtrl.closeUI(t)})},onDestroy:function(){},initData:function(t,e){this.func=t,this.closefunc=e,util.isIos()?this.sp_ios.active=!0:this.sp_android.active=!0}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiBoxTenAward:[function(t,e){"use strict";cc._RF.push(e,"438c0wAca5DNbIOsH/P9e3X","uiBoxTenAward");var i={1:cc.v2(0,500),2:cc.v2(-250,250),3:cc.v2(0,250),4:cc.v2(250,250),5:cc.v2(-250,0),6:cc.v2(0,0),7:cc.v2(250,0),8:cc.v2(-250,-250),9:cc.v2(0,-250),10:cc.v2(250,-250)};cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents(),this.addListener()},addEvents:function(){var t=this;this.btn_recv.quickBt(function(){var e=t._targetNode,i=t._callback;gMainMgr.onShowCommonGetRed(1,t._value,G_REWARD_TYPE.REWARD_TYPE_MONEY,G_WALLET_MONEY_TYPE.MONEY_BOX_REWARD_Ten,function(){gMainMgr.playCoinsFly(null,0,0,8,null,null,e,i)},function(){gMainMgr.playCoinsFly(null,0,0,8,null,null,e,i)}),UICtrl.closeUI(t)})},addListener:function(){var t=this;this.box_skeleton.getComponent("sp.Skeleton").setCompleteListener(function(e){if("idle"==e.animation.name)t.box_skeleton.getComponent("sp.Skeleton").setAnimation(0,"idle2",!1),util.showArtEffect("ui/effect/opentreasure",t.box_skeleton,cc.v2(0,110),"opentreasure");else if("idle2"==e.animation.name){t.box_skeleton.getComponent("sp.Skeleton").paused=!0,t._flyRewardIndex+=1,t._flyRewardIndex<10&&(util.showArtEffect("ui/effect/opentreasure",t.box_skeleton,cc.v2(0,110),"opentreasure"),t.scheduleOnce(function(){t.box_skeleton.getComponent("sp.Skeleton").paused=!1,t.box_skeleton.getComponent("sp.Skeleton").setAnimation(0,"idle2",!1)},.1));var n=t._flyRewardIndex+1;n>10&&(n=1);var a=t["item_award_"+n];if(a){var o=i[n];a.active=!0,a.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,1,1),cc.moveTo(.3,o.x,o.y),cc.callFunc(function(){audioData.playSoundByID(8)})),cc.callFunc(function(){1==n&&(t.box_skeleton.active=!1,t.onOpenTenAward())})))}}})},initData:function(t,e,i,n){this._flyRewardIndex=0,this._value=e,this._targetNode=i,this._callback=n;for(var a=0;a<t.length;a++)t[a]&&this["lbl_red_num_"+(a+1)]&&this["lbl_red_num_"+(a+1)].setLabel(util.showStrDownward(Number(t[a]))+"\u5143");audioData.playSoundByID(50),this.box_skeleton.getComponent("sp.Skeleton").setAnimation(0,"idle",!1),util.showArtEffect("ui/effect/treasureshine",this.box_skeleton,cc.v2(5,80),"treasureshine",null)},onOpenTenAward:function(){var t=this;audioData.playSoundByID(33);for(var e=function(e){var i=e;t["hb_icon_"+i].getComponent("sp.Skeleton").setAnimation(0,"animation",!1),t["hb_icon_"+i].getComponent("sp.Skeleton").setCompleteListener(function(e){"animation"==e.animation.name&&(t["hb_icon_"+i].getComponent("sp.Skeleton").paused=!0,t["lbl_red_num_"+i].active=!0,10==i&&(t.btn_recv.active=!0))})},i=1;i<=10;i++)e(i)}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiBoxWallet:[function(t,e){"use strict";cc._RF.push(e,"3d94eeMjS1EMr8JZ9IlouiX","uiBoxWallet"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.onResizeBoxWallet(),this.addEvents()},onResizeBoxWallet:function(){this.node.setContentSize(720,GM.G_HEIGHT)},addEvents:function(){var t=this;this.img_back.quickBt(function(){t._bStartDrawing?util.showTip("\u6b63\u5728\u62bd\u5956\u4e2d\uff0c\u8bf7\u7a0d\u540e"):gMainMgr.closeDlgAction(t.sp_bg,GM.HallUi.btn_box,function(){UICtrl.closeUI(t)})}),this.img_wenhao.quickBt(function(){GM.HallUi.openRule("box")}),this.btn_withDrawal.quickBt(function(){t.onGotoWallet()}),this.btn_toclockIn.quickBt(function(){t._bStartDrawing?util.showTip("\u6b63\u5728\u62bd\u5956\u4e2d\uff0c\u8bf7\u7a0d\u540e"):t.onWalletToclockIn()}),this.btn_draw.quickBt(function(){t.onClickOneDraw()}),this.btn_draw_ten.quickBt(function(){t.onClickTenDraw()})},initData:function(){this.lbl_box_desc_1.setLabel("\u53ef\u83b7\u5f971\u4e2a\u73b0\u91d1\u7ea2\u5305"),this.lbl_box_desc_2.setLabel("\u53ef\u83b7\u5f9710\u4e2a\u73b0\u91d1\u7ea2\u5305"),this._updateBoxTime=0,this.getBoxWalletData()},getBoxWalletData:function(){var t=this;webData.onGetBoxPageCallBack(function(e){t.initBoxPageInfo(e.data)},function(t){util.showTip(t.message)})},initBoxPageInfo:function(t){this.user_sign_cnt=Number(t.user_sign_cnt),this.user_sign_status=t.user_sign_status,this.sign_total_days=Number(t.sign_total_days),this.today_video_cnt=Number(t.today_video_cnt),this.video_config_cnt=Number(t.video_config_cnt),this.box_min_withdraw_amount=Number(t.box_min_withdraw_amount),this.remain_multi_cnt=Number(t.remain_multi_cnt),this.updateTenDrawInfo(),this.remain_sigle_cnt=Number(t.remain_sigle_cnt),this.box_single_balance=Number(t.box_single_balance),this.box_single_store_cnt=Number(t.box_single_store_cnt),this.updateOneDrawInfo(),this.box_red_balance=Number(t.box_red_balance),this.updateBoxRedNumber(),this.onUpdateRecoverOneDrawTime(),gameData.showBoxFing<8&&this.remain_multi_cnt>0&&(gameData.add("showBoxFing",1),this.art_finger1.active=!0)},onUpdateRecoverOneDrawTime:function(){if(this._bRecoverOneDraw=!1,this.remain_sigle_cnt<=0)gameData.gBoxOneLastTime=0;else if(this.box_single_balance>=this.box_single_store_cnt)gameData.gBoxOneLastTime=0;else if(this.box_single_balance>=this.remain_sigle_cnt)gameData.gBoxOneLastTime=0;else if(gameData.gBoxOneLastTime>=gameData.box_single_recove_time){var t=Math.floor(gameData.gBoxOneLastTime/gameData.box_single_recove_time);t>this.remain_sigle_cnt&&(t=this.remain_sigle_cnt),this.box_single_balance+t>this.box_single_store_cnt&&(t=this.box_single_store_cnt-this.box_single_balance),this.onRecoverBoxOneDraw(t)}else this._bRecoverOneDraw=!0},onRecoverBoxOneDraw:function(t){var e=this;webData.onGetBoxRecoverCallBack(t,function(i){e.box_single_balance=i.box_single_balance,e.updateOneDrawInfo(),gameData.gBoxOneLastTime-=gameData.box_single_recove_time*t,e.box_single_balance<e.box_single_store_cnt&&(e._bRecoverOneDraw=!0)},function(){e._bRecoverOneDraw=!0})},update:function(t){if(this._bRecoverOneDraw&&(this._updateBoxTime-=t,this._updateBoxTime<=0)){this._updateBoxTime=1;var e=gameData.box_single_recove_time-gameData.gBoxOneLastTime;if(e<0)this._bRecoverOneDraw=!1,this.lbl_box_time_1.setLabel(" "),this.onRecoverBoxOneDraw(1);else{var i=util.ChangeTimeToSeconds(Math.ceil(e),2);this.lbl_box_time_1.setLabel(i+"\u540e+1\u6b21")}}},updateToCloclInInfo:function(){this.box_red_balance<this.box_min_withdraw_amount?(this.imgBox_toclockIn_bg.active=!1,this.img_box_1.y=-590,this.img_box_2.y=-590):this.user_sign_cnt>=this.sign_total_days?(this.imgBox_toclockIn_bg.active=!1,this.img_box_1.y=-590,this.img_box_2.y=-590):(this.imgBox_toclockIn_bg.active=!0,this.img_box_1.y=-750,this.img_box_2.y=-750,"done"==this.user_sign_status||"today_done"==this.user_sign_status?(this.btn_toclockIn.active=!1,this.btn_toclockIn_always.active=!0):(this.btn_toclockIn.active=!0,this.btn_toclockIn_always.active=!1),this.video_config_cnt>1?(this.rich_toclockIn.y=15,this.rich_toclockIn_tip.getComponent(cc.RichText).string="<color=#5c1a1d>\uff08\u672c\u6b21\u6253\u5361\u9700\u89c2\u770b"+this.video_config_cnt+"\u4e2a\u89c6\u9891\uff0c\u5f53\u524d</c><color=#cd383f>"+this.today_video_cnt+"</c><color=#5c1a1d>/"+this.video_config_cnt+"\uff09</color>"):(this.rich_toclockIn_tip.getComponent(cc.RichText).string=" ",this.rich_toclockIn.y=0),this.rich_toclockIn.getComponent(cc.RichText).string="<color=#5c1a1d>\u5df2\u6253\u5361</c><color=#cd383f>"+this.user_sign_cnt+"</c><color=#5c1a1d>/"+this.sign_total_days+"\u6b21</color>")},updateBoxRedNumber:function(){cc.isValid(this.node)&&this.node&&(this.lbl_red_num.setLabel(util.showStrDownward(this.box_red_balance)+"\u5143"),this.updateToCloclInInfo())},updateOneDrawInfo:function(){this.lbl_box_count.setLabel(this.box_single_balance)},updateTenDrawInfo:function(){this.lbl_box_time_2.setLabel("\u4eca\u65e5\u5269\u4f59\u6b21\u6570\uff1a"+this.remain_multi_cnt)},onGotoWallet:function(){console.log("=======\u5b9d\u7bb1\u63d0\u73b0=====",this.box_red_balance),this.box_red_balance?this.box_red_balance<this.box_min_withdraw_amount?util.showTip("\u201c\u5b9d\u7bb1\u63d0\u73b0\u201d\u4f59\u989d\u9700\u8fbe\u5230"+util.showStrDownward(this.box_min_withdraw_amount)+"\u5143\u624d\u80fd\u63d0\u73b0"):this.user_sign_cnt<this.sign_total_days?util.showTip("\u9700\u518d\u6253\u5361"+(this.sign_total_days-this.user_sign_cnt)+"\u6b21"):webData.onBoxWithDrawCallBack(function(){},function(t){util.showTip(t.message)}):util.showTip("\u201c\u5b9d\u7bb1\u63d0\u73b0\u201d\u4f59\u989d\u4e0d\u8db3")},onWalletToclockIn:function(){var t=this;nativeData.showRewardAd(function(){webData.onBoxDakaCallBack(function(e){"video"==e.opearate_type?(t.today_video_cnt=Number(t.today_video_cnt)+1,t.updateToCloclInInfo(),util.showTip("\u518d\u89c2\u770b"+(t.video_config_cnt-t.today_video_cnt)+"\u6b21\u5e7f\u544a\u53ef\u6253\u5361\u6210\u529f")):"sign"==e.opearate_type&&(t.today_video_cnt=t.video_config_cnt,t.user_sign_cnt=Number(t.user_sign_cnt)+1,t.user_sign_status="today_done",t.btn_toclockIn.active=!1,t.btn_toclockIn_always.active=!0,t.updateToCloclInInfo(),util.showTip("\u6253\u5361\u6210\u529f"))},function(t){util.showTip(t.message)})},function(){})},onClickOneDraw:function(){var t=this;this._bStartDrawing?util.showTip("\u6b63\u5728\u62bd\u5956\u4e2d\uff0c\u8bf7\u7a0d\u540e"):this.remain_sigle_cnt<=0?UICtrl.openUI("uiHall/uiClickCd",function(t){t.initData("\u4eca\u65e5\u514d\u8d39\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650")}):this.box_single_balance<=0?UICtrl.openUI("uiHall/uiClickCd",function(t){t.initData("\u5f53\u524d\u65e0\u53ef\u514d\u8d39\u62bd\u5956\u6b21\u6570")}):(this._bStartDrawing=!0,webData.onGetBoxSignleAwardCallBack(function(e){t.box_single_balance=Number(e.box_single_balance),t.box_single_balance==t.box_single_store_cnt-1&&gameData.set("gBoxOneLastTime",0),t.onUpdateRecoverOneDrawTime(),t.remain_sigle_cnt=Number(e.remain_cnt),t.updateOneDrawInfo(),t.box_red_balance=Number(e.box_red_balance),gMainMgr.onShowCommonGetRed(1,Number(e.award)/100,G_REWARD_TYPE.REWARD_TYPE_MONEY,G_WALLET_MONEY_TYPE.MONEY_BOX_REWARD,function(){gMainMgr.playCoinsFly(null,0,0,8,null,null,t.lbl_red_num,function(){t.updateBoxRedNumber(),t._bStartDrawing=!1})},function(){gMainMgr.playCoinsFly(null,0,0,8,null,null,t.lbl_red_num,function(){t.updateBoxRedNumber(),t._bStartDrawing=!1})})},function(e){util.showTip(e.message),t._bStartDrawing=!1}))},onClickTenDraw:function(){var t=this;this._bStartDrawing?util.showTip("\u6b63\u5728\u62bd\u5956\u4e2d\uff0c\u8bf7\u7a0d\u540e"):this.remain_multi_cnt<=0?UICtrl.openUI("uiHall/uiClickCd",function(t){t.initData("\u4eca\u65e5\u5341\u8fde\u62bd\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650")}):(this.art_finger1.active=!1,this._bStartDrawing=!0,nativeData.showRewardAd(function(){webData.onGetBoxMulitAwardCallBack(function(e){t.remain_multi_cnt=e.remain_cnt,t.updateTenDrawInfo(),t.box_red_balance=Number(e.box_red_balance);var i=e.small_award;i.splice(0,0,e.big_award),UICtrl.openUI("uiBoxWallet/uiBoxTenAward",function(n){n.initData(i,Number(e.award_total)/100,t.lbl_red_num,function(){t._bStartDrawing=!1,t.updateBoxRedNumber()})})},function(e){util.showTip(e.message),t._bStartDrawing=!1})},function(){t._bStartDrawing=!1}))},onRandomAllocationMoney:function(t,e){for(var i=[],n=0;n<e-1;n++){var a=this.onallocationCalc(t,e-n);a&&(i.push(a/100),t-=a)}return i.push(t/100),i},onallocationCalc:function(t,e){var i=Math.floor(t/e),n=3*Math.floor(t/e);return i>n?(console.warn("\u5206\u914d\u51fa\u73b0\u9519\u8bef,\u8bf7\u91cd\u65b0\u89c4\u5212\u5206\u914d\u65b9\u6848"),!1):util.randomRange(i,n)}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiClickCd:[function(t,e){"use strict";var i;cc._RF.push(e,"9ef07bMBpxO+KodPRAULcqi","uiClickCd"),cc.Class(((i={extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_close.quickBt(function(){UICtrl.closeUI(t)},null,null,1)},onEnable:function(){},onDestroy:function(){},initData:function(t,e){var i=this;if(this.lab_content.setLabel(t),2==e){this.btn_back.active=!1,this.btn_close.active=!0;var n=util.randomRange(1,100),a=util.getDisHeight();n<=gameData.up_ad_gl?a<=0?(this.btn_close.y=-61,this.scheduleOnce(function(){i.btn_close.y=20},1.2)):(this.btn_close.y=-61-a/2,this.scheduleOnce(function(){i.btn_close.y=20},1.2)):this.btn_close.y=20,this.deleyTime=gameData.appear_ad_time,this.onGetRedAd()}else 3==e?(this.deleyTime=gameData.error_touch_time,this.onGetRedAdShortBanner()):4==e||this.onGetRedAdShortBanner()}}).onEnable=function(){},i)),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiContributionRecord:[function(t,e){"use strict";cc._RF.push(e,"3f9cc5eOsNCNaifLi4IFeNi","uiContributionRecord"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.node.setContentSize(720,GM.G_HEIGHT),this._contributionRecord={},this.addEvents(),this.initData()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_last_month.quickBt(function(){t.onSiwthContributionRecord(t._preMonthInfo,1)}),this.btn_this_month.quickBt(function(){t.onSiwthContributionRecord(t._icurMonthInfo,2)})},onSiwthContributionRecord:function(t,e){var i=this;this.btn_this_month.active=2!=e,this.img_last_month.active=2!=e,this.btn_last_month.active=2==e,this.img_this_month.active=2==e,this._selectContribution=e,this._contributionRecord[t]?this.initFriendsRecruitList(this._contributionRecord[t]):webData.onRecover_friendContributionLogCallBack(t,function(e){i._contributionRecord[t]=e,i.initFriendsRecruitList(e)})},initData:function(){this.nowAndlastMonthDate(),this.onSiwthContributionRecord(this._preMonthInfo,1)},nowAndlastMonthDate:function(){var t=new Date,e=t.getFullYear(),i=t.getMonth()+1,n=i;i<10&&(n="0"+i),this._icurMonthInfo=""+e+n;var a=i-1;a<=0&&(a=12,e-=1);var o=a;a<10&&(o="0"+a),this._preMonthInfo=""+e+o},initFriendsRecruitList:function(t){!t||t.length<=0?(this.img_no_contribution.active=!0,this.contributionRecord_scrollview_1.active=!1,this.contributionRecord_scrollview_2.active=!1):(this.img_no_contribution.active=!1,1==this._selectContribution?(this.contributionRecord_scrollview_1.active=!0,this.contributionRecord_scrollview_2.active=!1,this.contributionRecord_scrollview_1.getComponent("uiScrollView").resetData(t,this.createItem.bind(this),0)):(this.contributionRecord_scrollview_2.active=!0,this.contributionRecord_scrollview_1.active=!1,this.contributionRecord_scrollview_2.getComponent("uiScrollView").resetData(t,this.createItem.bind(this),0)))},createItem:function(t,e,i){var n=i;if(n){e.lbl_time.setLabel(n.create_ymd);var a=(Number(n.p1st_contribution)/100).toFixed(2);e.lbl_count_contribution_1.setLabel(Number(a));var o=(Number(n.p2nd_contribution)/100).toFixed(2);e.lbl_count_contribution_2.setLabel(Number(o));var s=(Number(n.contribution_total)/100).toFixed(2);e.lbl_count_contribution_all.setLabel(Number(s)),e.lbl_unit_1.setLabel("\u5143"),e.lbl_unit_2.setLabel("\u5143"),e.lbl_unit_all.setLabel("\u5143")}},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiDraw1:[function(t,e){"use strict";cc._RF.push(e,"225f4lUhlhMBYvEoNpHlZUG","uiDraw1"),cc.Class({extends:t("uiWindowBase"),properties:{sphongbao:{type:cc.SpriteFrame,default:[]},spjinbi:cc.SpriteFrame,sphblight:{type:cc.SpriteFrame,default:[]},spjblight:cc.SpriteFrame},start:function(){var t=this;this.fixedTurnNum=2,this.fixedTurnSpeed=15,this.speed=this.fixedTurnSpeed,this.count=0,this.begin=!1,this.rewardIdx=null,this.reduceTurnNum=0,this.audioOld=0,this.audioNew=0,this.addEvents(),this.getDrawData(),this.btn_back.active=!1,this.scheduleOnce(function(){t.begin||(t.btn_back.active=!0)},G_CLOSE_DELAY_TIME),this._bCanClose=!0},addEvents:function(){var t=this;this.btn_back.quickBt(function(){t._bCanClose?UICtrl.closeUI(t):util.showTip("\u6b63\u5728\u62bd\u5956\uff0c\u8bf7\u7a0d\u540e")},!1,!1,1)},btnBegin:function(){var t=this;gameData.drawCnt<=0?util.showTip("\u62bd\u5956\u6b21\u6570\u4e0d\u8db3"):this._bCanClose?(this._bCanClose=!1,gMainMgr.isCheckOpenAd(function(){nativeData.showRewardAd(function(){webData.luck_play_playCallBack(function(e){t.rewardIdx=t.getDrawIndex(e.data.reward_key),t.reduceTurnNumMax=720-45*t.rewardIdx,t.btn_back.active=!1,t.count=0,t.reduceTurnNum=0,t.setRotation(0),t.speed=t.fixedTurnSpeed,t.begin=!0,gameData.set("drawCnt",e.data.lottery_cnt),gameData.drawCnt,t.rewardData=e.data},function(e){util.showTip(e.message),t.begin=!1,t._bCanClose=!0});var e=UICtrl.findUI("uiBonus/uiBonusMsg");(e||cc.isValid(e))&&UICtrl.closeUI("uiBonus/uiBonusMsg")},function(){t.begin=!1,t._bCanClose=!0})})):util.showTip("\u6b63\u5728\u62bd\u5956\uff0c\u8bf7\u7a0d\u540e")},update:function(){this.begin&&(this.setRotation(-this.nd_zhuanpd.angle+this.speed),360==-this.nd_zhuanpd.angle&&this.count<=this.fixedTurnNum?(this.count++,this.setRotation(0)):this.count>this.fixedTurnNum&&(this.reduceTurnNum+=this.speed,this.speed=(this.reduceTurnNumMax-this.reduceTurnNum)/this.reduceTurnNumMax*this.fixedTurnSpeed,this.speed=this.speed<1?1:this.speed,this.reduceTurnNum>=this.reduceTurnNumMax&&(this.nd_zhuanpd.angle=Math.floor(-this.nd_zhuanpd.angle),this.setRotation(this.nd_zhuanpd.angle),this.resSetData(),this.openAward(),this.begin=!1)),this.audioOld!=this.audioNew?(this.audioOld=this.audioNew,audioData.playSoundByID(11)):this.audioNew=Math.floor(-this.nd_zhuanpd.angle/60))},setRotation:function(t){this.nd_zhuanpd.angle=-t,this.sp_zhuanpd.angle=-t},initData:function(t){this.data=t;for(var e=t.list,i=this.nd_zhuanpd.children,n=0;n<i.length;n++){var a=Number(n)+1;"gift_box"==e[n].reward_type?(this["sp_icon"+a].getComponent(cc.Sprite).spriteFrame=this.spjinbi,this["lab_num"+a].setLabel("x"+e[n].reward_rule)):this["sp_icon"+a].getComponent(cc.Sprite).spriteFrame=this.sphongbao[n],this["lab_award"+a].setLabel(e[n].reward_name)}gameData.set("drawCnt",t.lottery_cnt_remain),this.resSetData()},openAward:function(){var t=this;if(audioData.playSoundByID(12),"red"==("red"==this.rewardData.reward_type?"red":"gift_box"))gameData.set("red_process_bar",this.rewardData.process_bar),gMainMgr.onShowCommonGetRed(1,this.rewardData.change_amount,G_REWARD_TYPE.REWARD_TYPE_RED_PROCESS,G_OPEN_RED_TYPE.RED_DRAW_REWARD,function(){gMainMgr.playCoinsFly3(null,null,null,function(){cc.isValid(t.node)&&t.node&&(t._bCanClose=!0,t.btn_back.active=!0)}),t.rewardData=null},function(){gMainMgr.playCoinsFly3(null,null,null,function(){cc.isValid(t.node)&&t.node&&(t._bCanClose=!0,t.btn_back.active=!0)}),t.rewardData=null}),this["sp_iconlight"+(this.rewardIdx+1)].getComponent(cc.Sprite).spriteFrame=this.sphblight[this.rewardIdx];else{var e=this.rewardData.amount;Number(this.rewardData.balance),gameData.add("canBuySoldier",Number(e));var i=GM.HallUi.remainSoldier(),n=soldiersCsvData.getImageByID(i),a=soldiersCsvData.getSpineNameByID(i);GM.HallUi.openSoldiersDlg(i,"get",a,e+"\u4e2a\u58eb\u5175",null,function(){UICtrl.closeUI("uiHall/uiSoldiersDlg"),gMainMgr.playCoinsFly1(e,n,a,function(){cc.isValid(t.node)&&t.node&&(t.btn_back.active=!0,t._bCanClose=!0)})},function(){gMainMgr.playCoinsFly1(e,n,a,function(){cc.isValid(t.node)&&t.node&&(t.btn_back.active=!0,t._bCanClose=!0)})}),GM.HallUi.updateSoldiers(),this["sp_iconlight"+(this.rewardIdx+1)].getComponent(cc.Sprite).spriteFrame=this.spjblight,this.rewardData=null}},formatSeconds:function(t,e){var i=parseInt(t),n=Math.floor(i/3600)<10?"0"+Math.floor(i/3600):Math.floor(i/3600),a=Math.floor(i/60%60)<10?"0"+Math.floor(i/60%60):Math.floor(i/60%60),o=Math.floor(i%60)<10?"0"+Math.floor(i%60):Math.floor(i%60),s="";if(e||(e=3),3==e)s+=n+":",s+=a+":",s+=""+o;else if(2==e){n=parseInt(n);var r=(a=parseInt(a))+60*n;r<10&&(r=(Array(2).join(0)+r).slice(-2)),s+=r+"m",s+=o+"s"}else 1==e&&(n=parseInt(n),s=60*(a=parseInt(a))+3600*n+(o=parseInt(o)));return s},getRewardIndex:function(){for(var t=util.randomRange(1,this.probability),e=0,i=1;i<7;i++)if(t<(e+=drawCsvData.getProbability(i)))return Number(i)-1},hideAD:function(t){this.ishidead=t},getDrawData:function(){var t=this;webData.luck_play_listCallBack(function(e){t.initData(e.data)},function(e){util.showTip(e.message),UICtrl.closeUI(t)})},resSetData:function(){this.lab_count.setLabel("\u5269\u4f59"+gameData.drawCnt+"\u6b21"),gameData.drawCnt<=0&&(this.btn_beign.getComponent(cc.Button).interactable=!1)},getDrawIndex:function(t){var e=this.data.list,i=0;for(var n in e)e[n].reward_key==t&&(i=Number(n)),this["sp_iconlight"+(Number(n)+1)].getComponent(cc.Sprite).spriteFrame=null;return i},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiEnemy:[function(t,e){"use strict";cc._RF.push(e,"6266ajZTCRNHZxhsRNcNzaA","uiEnemy");var i=t("monsterBase");cc.Class({extends:i,properties:{},start:function(){this._bSpeed=300,this._speed=300,this.getRandPos(),this.initTouch()},init:function(t,e,i){this.node.parent=e,this.node.position=i,this._monsterPos=this.node.position,this._monsterAni=this.getComponent(cc.Animation),this.monsterPlayAni("daiji_S")},initTouch:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart.bind(this)),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove.bind(this)),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd.bind(this)),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd.bind(this))},update:function(){},getRandPos:function(){var t=720*Math.random()-360,e=640*Math.random()-320;this._bTarget=cc.v2(t,e)},moveAction:function(t){var e=this;if(this.bFighting=!1,this.fightIngPushTime=0,null==this.resetTargetTime&&(this.resetTargetTime=0),this.resetTargetTime+=t,this.resetTargetTime>.1&&(this.resetTargetTime=0,this.findNearbyMonster(!0)),this._curTarget){var i=util.checkDirection(this._monsterPos,GM.HallUi.sp_start.position);if(!i)return;this._lastDir!=i.dir&&(this.changeMoveAnimation(i),this._lastDir=i.dir);var n=t*this._speed*i.x,a=t*this._speed*i.y;if(this.bBulletMonster()&&2!=this._monsterType?this._monsterPos.x+=n/20:this._monsterPos.x+=n,this._monsterPos.y+=a,this.node.setPosition(this._monsterPos.x,this._monsterPos.y),util.calcTwoPointDistance(this._monsterPos,GM.HallUi.sp_start.position)<=10)if(this._moveskillReady){if(this._curTarget){var o=BattleMgr.skill[this._moveskillReady];if(10007==this._moveskillReady&&(this._curTarget.beSkill(this._moveskillReady,this),this._curTarget.beHurt(this._atk*(o.power/1e4),this.bBulletMonster(),this._armsType)),10008==this._moveskillReady){this._curTarget.beSkill(this._moveskillReady,this),this._curTarget.beHurt(this._atk*(o.power/1e4),this.bBulletMonster(),this._armsType);for(var s=BattleMr.enenyGroup.length;s--;)BattleMr.enenyGroup[s]&&util.calcTwoPointDistance(this._monsterPos,BattleMr.enenyGroup[s].getPos())<60&&BattleMr.enenyGroup[s]._onlyId!=this._curTarget._onlyId&&(BattleMr.enenyGroup[s].beSkill(this._moveskillReady,this),BattleMr.enenyGroup[s].beHurt(this._atk*(o.power/1e4)))}}5==i.dir||1==i.dir||4==i.dir?this.monsterPlayAni("daiji_N"):this.monsterPlayAni("daiji_S"),this.changeStateIdle(),this._curTarget=void 0}else this.changeFightAnimation(i),this.bBulletMonster()&&this.timeSpBullet.scheduleOnce(function(){e.initBullet()},.25)}},monsterRestPos:function(t,e){if(!this._bDrawBack){if(3==this._monsterType||this._skillcompnet.bAssaultIng)return!1;var i=!1,n=this._speed,a=[];for(var o in BattleMr.userGroup)a.push(BattleMr.userGroup[o]);for(var s in a)if(a&&a[s]._onlyId!=this._onlyId){var r=!1;if(e?2==this._armsType?2==a[s]._armsType&&(r=!0):2!=a[s]._armsType&&(r=!0):2!=this._armsType&&2!=a[s]._armsType&&(r=!0),r&&a[s]._skillcompnet&&!a[s]._skillcompnet.bAssaultIng&&util.calcTwoPointDistance(this._monsterPos,a[s].getPos())<this._disNearby){var c=util.checkDirection(this._monsterPos,a[s].getPos());if(c){var l=t*n*c.x,u=t*n*c.y;1==c.dir||2==c.dir||3==c?this._monsterPos.x-=l+0:this._monsterPos.x-=l-0,this._monsterPos.y-=u,this.node.setPosition(this._monsterPos.x,this._monsterPos.y),i=!0}}}return i}},findNearbyMonster:function(t,e){for(var i=9999,n=0;n<1;n++){var a;e?2==BattleMr.enenyGroup[n]._armsType&&(a=util.calcTwoPointDistance(this._monsterPos,BattleMr.enenyGroup[n].getPos()))<i&&(i=a,a<=this._view&&(this._curTarget=BattleMr.enenyGroup[n])):(a=util.calcTwoPointDistance(this._monsterPos,GM.HallUi.sp_start.position))<i&&(i=a,this._curTarget=GM.HallUi.sp_start)}},initPos:function(){var t=COUNT_P[this._pOrder];this.node.position=t},touchStart:function(){this.curIndex=this.node.zIndex,this.node.zIndex=9999,GM.HallUi.btn_buy.active=!1,GM.HallUi.btn_huishou.active=!0},touchMove:function(t){var e=t.getLocation(),i=util.worldConvertLocalPointAR(this.node.parent,e);this.node.position=i},touchEnd:function(){this.node.zIndex=this.curIndex,GM.HallUi.btn_buy.active=!0,GM.HallUi.btn_huishou.active=!1;var t=0;util.isIphoneX()&&(t=util.getDisHeight());var e=cc.v2(this.node.x,this.node.y+t);PIGSTY_DEL.contains(e)||(soldiersMgr.getOrderByPos(this.node.position),this._pOrder,this.initPos())}}),cc._RF.pop()},{monsterBase:"monsterBase"}],uiEventTask1:[function(t,e){"use strict";cc._RF.push(e,"bef29IYpZdJ0bmDM1ieXG9M","uiEventTask1"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents(),this.type=1,this.getTaskData(this.type)},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_daytask.quickBt(function(){t.sp_daytask2.active=!1,t.sp_daytask1.active=!0,t.sp_alltask2.active=!0,t.sp_alltask1.active=!1,t.type=1,t.getTaskData(t.type)},null,null,2),this.btn_alltask.quickBt(function(){t.sp_daytask1.active=!1,t.sp_daytask2.active=!0,t.sp_alltask2.active=!1,t.sp_alltask1.active=!0,t.type=2,t.getTaskData(t.type)},null,null,2)},initData:function(t){this.node_list.removeAllChildren(),this.type=t,1==t?this.initDataEvenyDay():this.initDataAchievement()},initDataEvenyDay:function(){var t=this,e=this.evenyDayData,i=function(i){e[i].tid;var n=cc.instantiate(t.node_item);n.parent=t.node_list,n.lab_title.setLabel(e[i].task_desc),n.lab_hongbao.setLabel("\u7ea2\u5305\u8fdb\u5ea6"),e[i].current_count>=e[i].total_count?1!=e[i].status?n.btn_sure.active=!0:(n.btn_sure.active=!1,n.sp_lingqu.active=!0):Number(e[i].is_enter)?n.btn_togo.active=!0:n.btn_unfinished.active=!0,n.lab_jindu.setLabel(e[i].current_count+"/"+e[i].total_count),n.sp_jindu.getComponent(cc.Sprite).fillRange=e[i].current_count/e[i].total_count,n.btn_sure.quickBt(function(){gMainMgr.onCommonOpenRed(1,"100",G_OPEN_RED_TYPE.RED_TASK_REWARD,function(){t.getDailyReward(e[i].task_key,function(t){UICtrl.closeUI("uiCommon/uiOpenRed"),n.btn_sure.active=!1,n.sp_lingqu.active=!0,gMainMgr.onShowCommonGetRed(1,t.data.change_amount,G_REWARD_TYPE.REWARD_TYPE_RED_PROCESS,G_OPEN_RED_TYPE.RED_TASK_REWARD,function(){gMainMgr.playCoinsFly3()},function(){})})},function(){})}),n.btn_togo.quickBt(function(){"merge"==e[i].task_key||("share"==e[i].task_key?GM.HallUi.openShare():"luck_play"==e[i].task_key&&GM.HallUi.openDraw()),UICtrl.closeUI(t)})};for(var n in e)i(n)},initDataAchievement:function(){var t=this,e=this.achievementData,i=function(i){var n=e[i].tid,a=(Number(i),cc.instantiate(t.node_item));a.zIndex=n%10,a.parent=t.node_list,a.lab_title.setLabel(e[i].task_desc),e[i].current_count>=e[i].total_count?1!=e[i].status?a.btn_sure.active=!0:(a.btn_sure.active=!1,a.sp_lingqu.active=!0):Number(e[i].is_enter)?a.btn_togo.active=!0:a.btn_unfinished.active=!0,a.lab_jindu.setLabel(e[i].current_count+"/"+e[i].total_count),a.sp_jindu.getComponent(cc.Sprite).fillRange=e[i].current_count/e[i].total_count,a.btn_sure.quickBt(function(){gMainMgr.onCommonOpenRed(1,"100",G_OPEN_RED_TYPE.RED_TASK_REWARD,function(){t.getAchieveReward(e[i].task_key,function(t){gMainMgr.onShowCommonGetRed(1,t.data.change_amount,G_REWARD_TYPE.REWARD_TYPE_RED_PROCESS,G_OPEN_RED_TYPE.RED_TASK_REWARD,function(){gMainMgr.playCoinsFly3()},function(){}),UICtrl.closeUI("uiCommon/uiOpenRed"),a.btn_sure.active=!1,a.sp_lingqu.active=!0})},function(){})}),a.btn_togo.quickBt(function(){"invite"==e[i].task_key?GM.HallUi.openShare():"tixian"==e[i].task_key&&UICtrl.openUI("uiLevelRed/uiLevelRed"),UICtrl.closeUI(t)})};for(var n in e)i(n)},getToTask:function(t){return function t(e){var i=achievementCsvData.data,n=i[e].stage;if(0==n)return null;for(var a in i)if(i[a].isfinish=gameData.taskachievementstate[a],i[a].index=i[a].ID,i[a].cnt=a,i[a].ID==n)return i[a].isfinish?t(a):i[a]}(t)},LqGold:function(t,e){gMainMgr.playCoinsFly(t,"gold",e),this.getTaskData(this.type)},getTaskData:function(t){var e=this;1==t?webData.task_daily_listCallBack(function(i){e.evenyDayData=i.data,e.initData(t)},function(t){util.showTip(t.message)}):webData.task_achieve_listCallBack(function(i){e.achievementData=i.data,e.initData(t)},function(t){util.showTip(t.message)})},getTaskIndex:function(t){var e=everydayTaskCsvData.data;for(var i in e)if(e[i].tid==t)return i},getTaskIndex1:function(t){var e=achievementCsvData.data;for(var i in e)if(e[i].tid==t)return i},getTaskAward:function(t,e,i){webData.hs_get_quest_rewardCallBack(t,e,i,function(t){util.showTip(t.message)})},getDailyReward:function(t,e){webData.task_daily_rewardCallBack(t,e,function(t){util.showTip(t.message)})},getAchieveReward:function(t,e){webData.task_achieve_rewardCallBack(t,e,function(t){util.showTip(t.message)})},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiExit:[function(t,e){"use strict";cc._RF.push(e,"9a9850bgr1LKahYE8XNCuu9","uiExit"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_end.quickBt(function(){gameData.set("userid",null),gameData.storeValue("userid"),gameData.set("webtoken",null),gameData.storeValue("webtoken"),nativeData.hideBanner(),nativeData.hideFeed()}),this.btn_continue.quickBt(function(){UICtrl.closeUI(t)})}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiFreeUp:[function(t,e){"use strict";cc._RF.push(e,"5d4d4dVdqVHqaC9JgHLy/9Y","uiFreeUp"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents()},addEvents:function(){var t=this;this.btn_lingqu.quickBt(function(){t.func&&t.func()}),this.btn_back.quickBt(function(){t.closefunc&&t.closefunc(),UICtrl.closeUI(t)},null,null,1)},initData:function(t,e,i,n,a){this.func=n,this.closefunc=a,this.lab_value1.setLabel(e),this.lab_value2.setLabel(i),this._monsterAni1=this.sp_icon1.getComponent("sp.Skeleton");var o=soldiersCsvData.getSpineNameByID(t),s=soldiersCsvData.getImageByID(t);gMainMgr.onChangeSkeletonData(this._monsterAni1,o,s),this._monsterAni2=this.sp_icon2.getComponent("sp.Skeleton"),o=soldiersCsvData.getSpineNameByID(t+1),s=soldiersCsvData.getImageByID(t+1),gMainMgr.onChangeSkeletonData(this._monsterAni2,o,s)},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiFriendsRecruit:[function(t,e){"use strict";cc._RF.push(e,"11b64ajxtBNk620mmuMO8ZV","uiFriendsRecruit"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents(),this.initData()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_recruit.quickBt(function(){UICtrl.openUI("uiInvite/uiShareImg")})},initData:function(){var t=this;webData.onRecover_recruitFriendTaskCallBack(function(e){t.lbl_verify_condition.setLabel("\u9a8c\u8bc1\u6761\u4ef6\uff1a\u9080\u8bf7\u7684\u597d\u53cb\u9700\u89c2\u770b"+e.verify_friend_video+"\u6b21\u89c6\u9891"),t.initFriendsRecruitList(e.list)})},initFriendsRecruitList:function(t){if(t&&!(t.length<=0)){var e=-1,i=t.length;this._iCanRecieve=0;for(var n=0;n<i;n++){if("done"!=t[n].status&&e<0){e=n;break}"waiting"==t[n].status&&(this._iCanRecieve+=1)}GM.inViteUI.updateAddRPoint(this._iCanRecieve>0),e-=1,this.recruit_scrollview.getComponent("uiScrollView").resetData(t,this.createItem.bind(this),e)}},createItem:function(t,e,i){var n=this,a=i;if(a){e.lbl_count_friend.setLabel(a.friend_cnt);var o=(Number(a.award)/100).toFixed(2);e.lbl_red_reward_num.setLabel(Number(o)),e.lbl_unit.setLabel("\u5143\u7ea2\u5305"),"done"==a.status?(e.btn_cannot_withdraw.active=!1,e.btn_have_withdraw.active=!0,e.btn_withdraw.active=!1):"waiting"==a.status?(e.btn_cannot_withdraw.active=!1,e.btn_have_withdraw.active=!1,e.btn_withdraw.active=!0):(e.btn_cannot_withdraw.active=!0,e.btn_have_withdraw.active=!1,e.btn_withdraw.active=!1),e.btn_withdraw.quickBt(function(){webData.onRecover_recruitFriendTaskAwardCallBack(a.friend_cnt,function(t){util.showTip("\u9886\u53d6\u6210\u529f"),t.status="done",e.btn_cannot_withdraw.active=!1,e.btn_have_withdraw.active=!0,e.btn_withdraw.active=!1,n._iCanRecieve-=1,GM.inViteUI&&(n._iCanRecieve<=0&&GM.inViteUI.updateAddRPoint(!1),GM.inViteUI.updateBCanWithDrawTip(Number(t.contribution_red_balance)))})}),e.btn_cannot_withdraw.quickBt(function(){UICtrl.openUI("uiInvite/uiShareImg")})}},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiFullUpdate:[function(t,e){"use strict";cc._RF.push(e,"ea617/MCiBLALSxEq/jICO8","uiFullUpdate"),cc.Class({extends:t("uiWindowBase"),properties:{_failed:!1},start:function(){var t=this;this.btn_sure.quickBt(function(){t.download()}),this.btn_back.quickBt(function(){cc.game.end()}),this.lbl_note.setLabel("\u5f53\u524d\u6e38\u620f\u4e0d\u662f\u6700\u65b0\u7248\u672c\uff0c\n\u8bf7\u91cd\u65b0\u4e0b\u8f7d\u3002")},download:function(){var t=this;nativeData.hasInstallVer()&&!this._failed?(this.btn_back.active=!1,this.btn_sure.active=!1,this.pro_download.active=!0,this.lbl_note.getComponent(cc.Label).string="\u6b63\u5728\u4e0b\u8f7d\u4e2d,\u8bf7\u52ff\u5173\u95ed\u6e38\u620f.",nativeData.InstallAPP(webData.getAPKURL(),function(e){t.img_progress.getComponent(cc.Sprite).fillRange=e/100},function(e){t.pro_download.active=!1,t.btn_install.active=!0,t.btn_back.active=!0,t.btn_install.quickBt(function(){setTimeout(function(){nativeData.InstallApk(e)},.1)})},function(){t._failed=!0,t.lbl_note.getComponent(cc.Label).string="\u4e0b\u8f7d\u5931\u8d25,\u4ece\u7f51\u9875\u6216\u516c\u4f17\u53f7\u4e0b\u8f7d.",t.btn_back.active=!0,t.btn_sure.active=!0,t.pro_download.active=!1})):cc.sys.openURL(webData.getAPKURL())}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiGeneral:[function(t,e){"use strict";cc._RF.push(e,"5b372bCZmNLjqLeOkBmPhls","uiGeneral"),cc.Class({extends:ui.baseDlg,properties:{},start:function(){this.node.setContentSize(720,GM.G_HEIGHT),this.addEvents(),this.lab_yuan.setLabel("\u5143"),this.lab_msg.setLabel("\u89c2\u770b\u89c6\u9891\u5e7f\u544a\u53ef\u5feb\u901f\u589e\u957f\u6240\u6709\u798f\u5c06\u7684\u7ea2\u5305\u8fdb\u5ea6")},addEvents:function(){var t=this;this.btn_back.quickBt(function(){t.isNoClose?util.showTip("\u6b63\u5728\u9886\u5956\uff0c\u8bf7\u7a0d\u540e"):gMainMgr.closeDlgAction(t.sp_bg,GM.HallUi.btn_general,function(){UICtrl.closeUI(t)})},null,null,1),this.btn_video.quickBt(function(){t.remain_cnt&&Number(t.remain_cnt)>0?(t.art_finger1.active=!1,gMainMgr.isCheckOpenAd(function(){nativeData.showRewardAd(function(){webData.fu_video_awardCallBack(function(e){t.updatelist=e.data.fu_jiang_info,t.updataPercent(e.data.fu_jiang_info),t.remain_cnt=Number(e.data.remain_cnt),t.updataCnt()},function(t){util.showTip(t.message)});var e=UICtrl.findUI("uiBonus/uiBonusMsg");(e||cc.isValid(e))&&UICtrl.closeUI("uiBonus/uiBonusMsg")},function(){})})):util.showTip("\u4eca\u65e5\u201c\u798f\u5c06\u9001\u793c\u201d\u89c6\u9891\u5df2\u8fbe\u4e0a\u9650")}),this.btn_tx.quickBt(function(){webData.fu_withdrawCallBack(function(){},function(t){util.showTip(t.message)})}),this.btn_dk.quickBt(function(){t.sp_ydk.active||nativeData.showRewardAd(function(){webData.fu_dakaCallBack(function(e){"video"==e.data.opearate_type?(t.today_video_cnt=t.today_video_cnt+1,t.updataCnt(t.selectId),util.showTip("\u518d\u89c2\u770b"+(t.video_config_cnt-t.today_video_cnt)+"\u6b21\u5e7f\u544a\u53ef\u6253\u5361\u6210\u529f")):"sign"==e.data.opearate_type&&(t.sp_ydk.active=!0,t.user_sign_cnt=t.user_sign_cnt+1,t.today_video_cnt=t.today_video_cnt+1,t.updataCnt(),util.showTip("\u6253\u5361\u6210\u529f"))},function(t){util.showTip(t.message)})},function(){})}),this.img_wenhao.quickBt(function(){GM.HallUi.openRule("general")})},initData:function(){var t=this;this.scheduleOnce(function(){webData.fu_pageCallBack(function(e){cc.isValid(t.node)&&t.node&&(t.img_bg_money_info.active=!0,t.node_jiazai.active=!1,t.fu_red_balance=Number(e.data.fu_red_balance),t.remain_cnt=Number(e.data.remain_cnt),t.daily_cnt=Number(e.data.daily_fu_video_cnt),t.sign_total_days=Number(e.data.sign_total_days),t.user_sign_cnt=Number(e.data.user_sign_cnt),t.today_video_cnt=Number(e.data.today_video_cnt),t.video_config_cnt=Number(e.data.video_config_cnt),t.user_sign_status=e.data.user_sign_status,"done"!=t.user_sign_status&&"today_done"!=t.user_sign_status||(t.sp_ydk.active=!0),t.updataCnt(),t.onCreateGeneralInfoItem(e.data.list),gameData.showGeneralFing<8&&t.remain_cnt>0&&(gameData.add("showGeneralFing",1),t.art_finger1.active=!0))},function(t){util.showTip(t.message)})},.15)},onCreateGeneralInfoItem:function(t){var e,i=this,n=generalCsvData.getAllDatas(),a=!0,o=this.node_content.children,s=function(s){o[s].active=!0;var r=Number(s)+1,c=o[s];if(c){gameData.current_check_point-1>=Number(n[r].Unlock)?(c.sp_zhezhao.active=!1,e=r):c.lab_suo.setLabel(Number(n[r].Unlock)+"\u5173\u89e3\u9501");var l=c.sp_role.getComponent("sp.Skeleton");gMainMgr.onChangeSkeletonData(l,lockheroCsvData.getActionByID(n[r].General),1,null,!0),i.updateGeneralItem(c,t[r],!0),c.btn_hero.quickBt(function(){i.openHerInfo(n[r])}),c.sp_lq.quickBt(function(){gameData.current_check_point-1>=Number(n[r].Unlock)?webData.fu_get_awardCallBack(r,function(t){i.fu_red_balance=Number(t.data.fu_red_balance),c.sp_lq.active=!1,c.sp_ylq.active=!0,i.isNoClose=!0,gMainMgr.onShowCommonGetRed(1,(Number(t.data.award)/100).toFixed(2),G_REWARD_TYPE.REWARD_TYPE_MONEY,G_WALLET_MONEY_TYPE.MONEY_FU_REWARD,function(){var t=c.sp_lq.position;t.y+=20;var e=c.sp_lq.parent.convertToWorldSpaceAR(t),n=cc.find("LayerEffect",cc.Canvas.instance.node).convertToNodeSpaceAR(e);gMainMgr.playCoinsFly(null,n.x,n.y,null,null,null,i.node_red,function(){i.updataCnt(),i.isNoClose=!1})},function(){})},function(t){util.showTip(t.message)}):util.showTip("\u672a\u89e3\u9501")})}console.log(r),"doing"!=t[r].status&&"waiting"!=t[r].status||(a=!1)};for(var r in o)s(r);if(a&&(this.btn_dk.active=!0,this.btn_video.active=!1),cc.isValid(this.node)&&this.node)if(this.node_content.getComponent(cc.Layout).updateLayout(),e){var c=260*(Math.ceil(e/3)-2);this.node_scrollview.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,c),.1)}else this.node_scrollview.getComponent(cc.ScrollView).scrollToBottom(.1)},openHerInfo:function(t){var e=UICtrl.findUI("uiGeneral/uiHeroInfo");e||cc.isValid(e)||UICtrl.openUI("uiGeneral/uiHeroInfo",function(e){e.initData(t,"info")})},updataPercent:function(t,e){var i=this.node_content.children,n=t,a=!0;for(var o in i){var s=i[o],r=Number(o)+1;"doing"!=n[r].status&&"waiting"!=n[r].status||(a=!1),this.updateGeneralItem(s,n[r],e)}a&&(this.btn_dk.active=!0,this.btn_video.active=!1)},updateGeneralItem:function(t,e,i){t&&e&&(t.sp_doing.active=!1,t.sp_lq.active=!1,t.sp_ylq.active=!1,"doing"==e.status?t.sp_doing.active=!0:"waiting"==e.status?t.sp_lq.active=!0:"done"==e.status&&(t.sp_ylq.active=!0),t.lab_money.setLabel(e.red_amount),t.lab_yuan1.setLabel("\u5143"),i?(t.sp_jd.getComponent(cc.Sprite).fillRange=Number(e.process_bar)/100,t.lab_jd.setLabel(e.process_bar+"%")):t.effect_tx.getComponent(cc.Animation).play("experiencebox"))},updataCnt:function(){this.lab_red.setLabel((Number(this.fu_red_balance)/100).toFixed(2)),this.lab_videocnt.setLabel("\u4eca\u65e5\u5269\u4f59:("+this.remain_cnt+"/"+this.daily_cnt+")"),this.lab_da.setLabel("\u5df2\u6253\u5361("+this.user_sign_cnt+"/"+this.sign_total_days+")"),this.video_config_cnt>1&&this.lab_video.setLabel("\uff08\u672c\u6b21\u6253\u5361\u9700\u89c2\u770b"+this.video_config_cnt+"\u4e2a\u89c6\u9891\uff0c\u5f53\u524d"+this.today_video_cnt+"/"+this.video_config_cnt+"\uff09"),this.user_sign_cnt==this.sign_total_days&&(this.lab_video.active=!1)},update:function(){if(this.updatelist){var t=this.node_content.children,e=this.updatelist;for(var i in t){var n=t[i],a=Number(i)+1,o=n.sp_jd1.getComponent(cc.Sprite).fillRange;o<Number(e[a].process_bar)/100?(o+=.02,n.sp_jd1.getComponent(cc.Sprite).fillRange=o):(o=Number(e[a].process_bar)/100,n.sp_jd1.getComponent(cc.Sprite).fillRange=o);var s=n.sp_jd.getComponent(cc.Sprite).fillRange;s<Number(e[a].process_bar)/100?(s+=.001,n.sp_jd.getComponent(cc.Sprite).fillRange=s,n.lab_jd.setLabel((100*s).toFixed(2)+"%")):(s=Number(e[a].process_bar)/100,n.sp_jd.getComponent(cc.Sprite).fillRange=s,n.lab_jd.setLabel(e[a].process_bar+"%"))}}}}),cc._RF.pop()},{}],uiGetRed:[function(t,e){"use strict";cc._RF.push(e,"9e2feZiK6FBnqTnT6V6Jwil","uiGetRed"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){audioData.playSoundByID(33),this.addEvents(),gMainMgr.setShowAd()},onEnable:function(){},addEvents:function(){var t=this;this.btn_accept.quickBt(function(){t._acceptCallBack&&t._acceptCallBack(),t.closeSelf()}),this.btn_video_reward.quickBt(function(){t._bVideo?(t._leaveVideo||(util.showTip("\u4eca\u65e5\u89c6\u9891\u5df2\u8fbe\u4e0a\u9650"),returns),nativeData.showRewardAd(function(){t._acceptCallBack&&t._acceptCallBack(),t.closeSelf()},function(){})):(t._acceptCallBack&&t._acceptCallBack(),t.closeSelf())}),this.btn_close.quickBt(function(){t._closeCallback&&t._closeCallback(),t.closeSelf()},null,null,1),this.btn_back.quickBt(function(){t._closeCallback&&t._closeCallback(),t.closeSelf()},null,null,1)},initData:function(t,e,i,n,a,o,s){var r=this;if(this._leaveVideo=t,this._acceptCallBack=a,this._closeCallback=o,this.sp_zhi.runAction(cc.moveTo(1.3,cc.v2(0,320))),this._bVideo=s,this.btn_video_reward.active=s,this.img_video_icon.active=s,this.btn_accept.active=!s,this.btn_close.active=!1,this.img_get_title.active=!1,this.deleyTime=gameData.appear_ad_time,gMainMgr.playBtnBreatheEffect1(this.btn_video_reward),i==G_REWARD_TYPE.REWARD_TYPE_RED)this.sp_hb_icon.active=!0,this.sp_money_icon.active=!1,this.lab_money.setLabel(e),this.lbl_desc.active=!0,this.lbl_desc.setLabel("\u53ef\u63d0\u73b0"),this.sp_quan.active=!0,n==G_OPEN_RED_TYPE.RED_SPRING_COOL_REWARD&&(this.img_get_title.active=!0,this.deleyTime=gameData.error_touch_time);else if(i==G_REWARD_TYPE.REWARD_TYPE_MONEY)this.sp_hb_icon.active=!1,this.sp_money_icon.active=!0,this.lab_money.setLabel(e+"\u5143"),this["sp_reward_"+n]&&(this["sp_reward_"+n].active=!0),n==G_WALLET_MONEY_TYPE.MONEY_BOX_REWARD_Ten&&(this.img_get_title.active=!0);else if(i==G_REWARD_TYPE.REWARD_TYPE_RED_PROCESS){this.lab_money.setLabel("+"+Number(e).toFixed(2)+"%"),this.sp_red_process_title.active=!0,gameData.is_process_dialog_text&&gameData.daily_process_dialog_text_cnt>gameData.redpic&&util.randomRange(1,1e4)<=gameData.process_dialog_text_gl&&(gameData.add("redpic",1),this.sp_xiazai.active=!0);for(var c=gameData.uiLevelRedData.process_bar_list,l=0;l<c.length;l++)c[l].progress=Math.min(100,c[l].progress+.25*(c.length-l)),"done"!=c[l].status&&(c[l].level<=gameData.maxSoldiersLv&&(c[l].status="doing"),c[l].progress>=100&&"doing"==c[l].status&&(c[l].status="waiting"));gameData.set("uiLevelRedData",gameData.uiLevelRedData)}if(s)s&&(this.showLongBanner=!1,this.showFeed=!1,this.showBanner=!0,this.showAdType=0,this.scheduleOnce(function(){r.btn_close.active=!0},G_CLOSE_DELAY_TIME));else{var u=util.randomRange(1,100);console.log("====[\u5224\u65ad\u662f\u5426\u89e6\u53d1]======",u);var d=util.getDisHeight();u<=gameData.up_ad_gl?d<=0?(this.btn_accept.y=-20,gMainMgr.playBtnBreatheEffect1(this.btn_accept),this.scheduleOnce(function(){r.btn_accept.y=41},1.2)):(this.btn_accept.y=-20-d/2,gMainMgr.playBtnBreatheEffect1(this.btn_accept),this.scheduleOnce(function(){r.btn_accept.y=41},1.2)):this.btn_accept.y=41}this.onGetRedAd()},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiGetRewardDlg:[function(t,e){"use strict";cc._RF.push(e,"848c40SYgZHjIWd8SIqYra1","uiGetRewardDlg"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){1!=t._type||t._bVideo||gMainMgr.playCoinsFly4(t._value),UICtrl.closeUI(t)},null,null,1),this.btn_reward.quickBt(function(){t._bVideo?nativeData.showRewardAd(function(){1==t._type&&gMainMgr.playCoinsFly4(t._value),t._videoCallback&&t._videoCallback(),UICtrl.closeUI(t)},function(){}):(gMainMgr.playCoinsFly4(t._value),UICtrl.closeUI(t))},null,null,1)},initData:function(t,e,i,n){var a=this;this._value=t,this._type=e,this._bVideo=i,console.log("======value, type, bVideo, videoCallback=========",t,e,i,n),this._videoCallback=n,this.lab_value.setLabel("x"+t),i?(this.img_accept.active=!1,4==e?(this.sp_award4.active=!0,this.sp_award1.active=!1,this.img_video_icon_2.active=!0):(this["img_video_icon_"+e].active=!0,this.onGetRedAdShortBanner())):(this.img_accept.active=!0,this.onGetRedAdShortBanner()),this.scheduleOnce(function(){a.btn_back.active=!0},G_CLOSE_DELAY_TIME)},onEnable:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiGuideLayer:[function(t,e){"use strict";cc._RF.push(e,"c32eeCcqjBPT5HI0xzuZW0d","uiGuideLayer"),cc.Class({extends:ui.baseLayer,properties:{spriteFramelist:{type:cc.SpriteFrame,default:[]}},start:function(){this.node.setContentSize(720,GM.G_HEIGHT),this.art_finger.oldpos=this.art_finger.position},showStep:function(t){var e=t.maskPos||cc.v2(0,400),i=t.maskSize,n=t.hideFinger||!1,a=(t.hideArraw,t.finger||1),o=t.opacity||100,s=t.optional||!1;this.node_move.position=e,this.mask_guide.getComponent(cc.Mask).spriteFrame=this.spriteFramelist[t.setp],this.mask_guide.setContentSize(i.width,i.height),this.img_touch.setContentSize(i.width,i.height),this.art_finger.oldpos&&(this.art_finger.position=this.art_finger.oldpos),this.img_cover.opacity=o,this.art_finger.active=!n,s&&(this.img_cover.active=!1);var r=this.art_finger.getComponent(cc.Animation),c=r.getClips();1==a?(this.art_finger.x=t.fingerpos&&t.fingerpos.x||70,this.art_finger.y=t.fingerpos&&t.fingerpos.y||this.art_finger.y,r.play(c[0].name)):(this.art_finger.x=0,r.play(c[1].name))},onTouchBg:function(){console.log("=====touc========="),this.node._touchListener.setSwallowTouches(!0)}}),cc._RF.pop()},{}],uiHall:[function(t,e){"use strict";cc._RF.push(e,"1a2ebJG8ZlJ/IOwshQ9Axm1","uiHall"),cc.Class({extends:ui.baseNode,properties:{monsterDogFacePrefab:cc.Prefab,monsterBoss:cc.Prefab},start:function(){this.onResizeHall(),GM.HallUi=this,gMainMgr.init(),this.addEvnets(),1==gameData.maxSoldiersLv&&1==gameData.current_check_point||gameData.set("ifGuide",!0),soldiersMgr.initData(),this.battleBigIndex=[[1,40],[41,100],[101,250],[251,550],[551,970],[971,1510],[1511,2500]],this.mapPos=[cc.v2(-39,-54),cc.v2(0,-54),cc.v2(90,18),cc.v2(-22,-30),cc.v2(-52,12),cc.v2(-2,-5),cc.v2(-96,-11)],this.infantry_time=30,this.lisening(),this.initData(),this.getLimitData(),this.getOnLineStatus(),audioData.switchMainZone(),this.updateGameBg(),this.updateGuideMerge(),this.initDataRecommend(),this.runFinger(),this.runTxEffect(),gameData.remain_percent_cnt<=0&&(this.effect_video1.active=!1,this.effect_video2.active=!1),gameData.soldiers&&(1==Number(gameData.soldiers[1].lv)&&1==Number(gameData.soldiers[2].lv)||(gameData.ifGuide=!0)),gGuideMgr.runGuide(),gGuideMgr.runStep(1),gameData.maxSoldiersLv>=gameData.friend_dialog_level&&util.randomRange(1,100)<=gameData.friend_dialog_gl&&UICtrl.openUI("uiInvite/uiInviteDlg")},onResizeHall:function(){this.node.setContentSize(720,GM.G_HEIGHT),this.img_jiasu_ani.setContentSize(720,GM.G_HEIGHT-660)},addEvnets:function(){var t=this;this.btn_buy.quickBt(function(){t.quickBuy()},!1,!0),this.btn_sign.quickBt(function(){t.openSign()}),this.btn_online.quickBt(function(){t.openOnline()}),this.btn_bonus.quickBt(function(){t.openBonus(),t.effect_bonus1.active&&(t.effect_bonus1.active=!1,t.effect_bonus2.active=!1,t.runTxEffect())}),this.btn_auto.quickBt(function(){gMainMgr.socketSendData("dd","zdhc"),gameData.maxSoldiersLv<gameData.auto_merge_level?util.showTip(gameData.auto_merge_level+"\u7ea7\u5f00\u542f"):gameData.remain_auto_merge_cnt<0?util.showTip("\u4eca\u65e5\u201c\u81ea\u52a8\u5408\u6210\u201d\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650"):(t.art_finger1.active=!1,gameData.autoFree>=2?gMainMgr.isCheckOpenAd(function(){nativeData.showRewardAd(function(){t.checkVideo("auto_merge_video",function(){soldiersMgr.autoCombineSchedule()},function(t){util.showTip(t.message)});var e=UICtrl.findUI("uiBonus/uiBonusMsg");(e||cc.isValid(e))&&UICtrl.closeUI("uiBonus/uiBonusMsg")},function(){})}):(gameData.add("autoFree",1),soldiersMgr.autoCombineSchedule()))}),this.node_head.quickBt(function(){UICtrl.openUI("uiSetting/uiSetting")}),this.btn_draw.quickBt(function(){t.openDraw()}),this.btn_task.quickBt(function(){t.openTask()}),this.btn_thousand.quickBt(function(){gMainMgr.socketSendData("dd","jrqytx"),t.openThousandRed()}),this.btn_invitation.quickBt(function(){t.openInvite()}),this.btn_xianshi.quickBt(function(){t.effect_xianshi1.active=!1,t.effect_xianshi2.active=!1,t.openLimit()}),this.btn_general.quickBt(function(){t.openGeneral(),t.effect_general1.active&&(t.effect_general1.active=!1,t.effect_general2.active=!1,t.runTxEffect())}),this.btn_tree.quickBt(function(){t.openTree()}),this.btn_quickm.quickBt(function(){if(gMainMgr.socketSendData("dd","djkshc"),gameData.quickm>=gameData.daily_fast_merge_cnt){var e=UICtrl.findUI("uiHall/uiClickCd");if(e||cc.isValid(e))return;UICtrl.openUI("uiHall/uiClickCd",function(t){t.initData("\u4eca\u65e5\u5feb\u901f\u5408\u6210\u5df2\u8fbe\u4e0a\u9650",3)})}else{t.art_finger.stopAllActions(),t.art_finger.active=!1,t.updateGuideMerge(),gameData.add("quickm",1);var i=soldiersMgr.checkCombine();if(i.lv)soldiersMgr.itemCombine(i.tpos,i.opos,i.lv);else{var n=UICtrl.findUI("uiHall/uiClickCd");if(n||cc.isValid(n))return;UICtrl.openUI("uiHall/uiClickCd",function(t){t.initData("\u6ca1\u6709\u53ef\u5408\u6210\u7684\u58eb\u5175",3)})}1==t.downFingerRan&&(t.art_finger3.active=!1,t.runFinger())}},!1,!0),this.btn_menu.quickBt(function(){t.laout_left.isaction||(gMainMgr.socketSendData("dd","jrclk"),t.laout_left1.active=!0,t.laout_left.isaction=!0,t.laout_left.runAction(cc.sequence(cc.moveTo(.5,90,0),cc.callFunc(function(){t.btn_left.active=!0,t.laout_left.isaction=!1}))))}),this.btn_left.quickBt(function(){t.laout_left.isaction||(t.laout_left.isaction=!0,t.laout_left.runAction(cc.sequence(cc.moveTo(.5,0,0),cc.callFunc(function(){t.btn_left.active=!1,t.laout_left.isaction=!1,t.laout_left1.active=!1}))))},!0),this.btn_box.quickBt(function(){UICtrl.openUI("uiBoxWallet/uiBoxWallet",function(t){t.initData()}),t.effect_box1.active&&(t.effect_box1.active=!1,t.effect_box2.active=!1,t.runTxEffect())}),this.node_red.quickBt(function(){0==gameData.ifGuide&&gGuideMgr.guideEnd(),t.effect_withdrawal.active=!1,console.log("\u70b9\u51fb\u6253\u5f00\u4e86uiLevelRed"),UICtrl.openUI("uiLevelRed/uiLevelRed")}),this.btn_quickr.quickBt(function(){gMainMgr.socketSendData("dd","djhbpq"),t.clickCoin(),2==t.downFingerRan&&(t.art_finger3.active=!1,t.runFinger())},!1,!0,3),this.btn_quickp.quickBt(function(){gMainMgr.socketSendData("dd","djkscb"),t.art_finger2.active=!1,t.clickSolider()},!1,!0,3),this.btn_quickc.quickBt(function(){gMainMgr.socketSendData("dd","djjscg"),t.onSpeedUpWar(),0==t.downFingerRan&&(t.art_finger3.active=!1,t.runFinger())},null,!0,3);var e=gameData.game_list,i=function(i){var n=Number(i)+1;t["icon_kuang"+n].quickBt(function(){nativeData.checkAppInstalled(e[i].packet_name)?nativeData.startApp(e[i].packet_name):(gMainMgr.socketSendData("dd","xzcnxh"),nativeData.InstallAPP(e[i].download_url,function(){},function(){},function(){}))})};for(var n in e)i(n);this.btn_video.quickBt(function(){gameData.set("remain_percent_cnt",10),gameData.remain_percent_cnt<=0?util.showTip("\u4eca\u65e5\u201c\u9886\u8fdb\u5ea6\u201d\u89c6\u9891\u6570\u5df2\u8fbe\u4e0a\u9650"):nativeData.showRewardAd(function(){t.checkVideo("video_percent",function(){gameData.add("remain_percent_cnt",-1),gameData.remain_percent_cnt<=0&&(t.effect_video1.active=!1,t.effect_video2.active=!1),gMainMgr.onShowCommonGetRed(1,Number((2*Math.random()).toFixed(2))+.5,G_REWARD_TYPE.REWARD_TYPE_RED_PROCESS,G_OPEN_RED_TYPE.RED_VIDEO_REWARD,function(){gMainMgr.playCoinsFly3()},function(){gMainMgr.playCoinsFly3()})})},function(){})})},btnSoldiersState:function(t){if(GM.touchScreen=!0,this["btn_soldiers"+t].getComponent(cc.Button).interactable){soldiersMgr.setSwitchSoldiers(t),this.updateSoldiers();for(var e=1;e<4;e++)t==e?(this["btn_soldiers"+e].zIndex=3,this["btn_soldiers"+e].getComponent(cc.Button).normalSprite=this.soldierspressed[e-1],this["img_soldier_ani_"+e].active=!0,this["btn_soldiers"+e].stopAllActions(),this["btn_soldiers"+e].y=202,this.effectAciton(this["btn_soldiers"+e],2.7)):(this["btn_soldiers"+e].zIndex=3-e,this["btn_soldiers"+e].getComponent(cc.Button).normalSprite=this.soldiersnormal[e-1],this["img_soldier_ani_"+e].active=!1,this["btn_soldiers"+e].stopAllActions(),this["btn_soldiers"+e].position=cc.v2(120*(e-1)-285,202))}else util.showTip("\u9700\u8981"+soldiersMgr.soldiersNameCN[t-2]+"\u8fbe\u5230"+gameData.unlock_soldier_level+"\u7ea7\u540e\u89e3\u9501")},update:function(t){this.recoverSoldiers(t),this.updateOnline(t),this.updateAutoCombine(t),gMainMgr.updateBoxCountInfo(t),this.updateAddSpeed(t),this.updatePauseOrResume(t)},updateRedProcess:function(){if(this._lastRedProcess)if(this._lastRedProcess>this._iCurRedProcess){var t=1e-4;this._lastRedProcess-this._iCurRedProcess<t&&(t=this._lastRedProcess-this._iCurRedProcess),this.sp_redjd.getComponent(cc.Sprite).fillRange=this._iCurRedProcess+=t}else this._lastRedProcess<this._iCurRedProcess&&(this.sp_redjd.getComponent(cc.Sprite).fillRange=this._iCurRedProcess+=1e-4,this._iCurRedProcess>=1&&(this._iCurRedProcess=0))},recoverSoldiers:function(t){if(gameData.canBuySoldier<gameData.store_soldier_cnt){if(this.sp_recover.getComponent(cc.Sprite).fillRange=0,this.infantry_time-=t,this.infantry_time<=0){if(this.recover_infantry)return;this.recover_infantry=!0,this.recover_infantry=!1,gameData.add("canBuySoldier",1),this.infantry_time=gameData.soldier_recover_time,this.updateSoldiers()}this.sp_recover.getComponent(cc.Sprite).fillRange=(gameData.soldier_recover_time-this.infantry_time)/gameData.soldier_recover_time}},getrecoverSoldiers:function(t,e,i){webData.recover_soldierCallBack(t,e,i)},initDelPos:function(){var t=util.convetOtherNodeSpaceAR(this.btn_huishou,this.node_soldiers1),e=this.btn_huishou.getContentSize();window.PIGSTY_DEL=cc.rect(t.x-e.width/2,t.y-e.height/2,e.width,e.height)},quickBuy:function(){var t=this,e=this.remainSoldier();if(gameData.canBuySoldier<=0){var i=soldiersCsvData.getSpineNameByID(e);this.openSoldiersDlg(e,"supplement",i,gameData.video_soldier_cnt+"\u4e2a\u58eb\u5175",null,function(){gameData.remain_video_solider_cnt<=0?util.showTip("\u4eca\u65e5\u201c\u8865\u5145\u58eb\u5175\u201d\u89c6\u9891\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650"):gMainMgr.isCheckOpenAd(function(){nativeData.showRewardAd(function(){t.checkVideo("bcsb_video",function(){UICtrl.closeUI("uiHall/uiSoldiersDlg");var i=soldiersCsvData.getImageByID(e),n=soldiersCsvData.getSpineNameByID(e),a=function(){gameData.add("canBuySoldier",gameData.video_soldier_cnt),t.updateSoldiers(),UICtrl.closeUI("uiHall/uiSoldiersDlg"),gameData.add("remain_video_solider_cnt",-1),gMainMgr.playCoinsFly1(8,i,n)};t.openSoldiersDlg(e,"get",n,gameData.video_soldier_cnt+"\u4e2a\u58eb\u5175",null,function(){a()},function(){a()})},function(t){util.showTip(t.message)});var i=UICtrl.findUI("uiBonus/uiBonusMsg");(i||cc.isValid(i))&&UICtrl.closeUI("uiBonus/uiBonusMsg")},function(){})})})}else{var n=soldiersMgr.getEmptyOrder();if(n){gameData.add("lvBuyCnt",1),gameData.add("canBuySoldier",-1),this.updateSoldiers();var a=!1;gameData.maxSoldiersLv>=gameData.open_down_red_level&&util.randomRange(1,1e4)<100*gameData.down_red_gl&&(a=!0,this.openFreeRed()),gameData.maxSoldiersLv>=gameData.upgrade_soldier_level&&!a&&util.randomRange(1,100)<gameData.upgrade_soldier_gl?this.openFreeUp(e,"LV."+e+"\u58eb\u5175","LV."+(e+1)+"\u58eb\u5175",function(){gameData.remain_free_upgrade_cnt<=0?util.showTip("\u4eca\u65e5\u201c\u514d\u8d39\u5347\u7ea7\u201d\u89c6\u9891\u5df2\u8fbe\u4e0a\u9650"):gMainMgr.isCheckOpenAd(function(){nativeData.showRewardAd(function(){t.checkVideo("mfsj_video",function(){gameData.add("remain_free_upgrade_cnt",-1),soldiersMgr.itemCreate(e+1,n),UICtrl.closeUI("uiHall/uiFreeUp")},function(t){util.showTip(t.message)});var i=UICtrl.findUI("uiBonus/uiBonusMsg");(i||cc.isValid(i))&&UICtrl.closeUI("uiBonus/uiBonusMsg")},function(){})})},function(){soldiersMgr.itemCreate(e,n)}):soldiersMgr.itemCreate(e,n),this.optionalFirstGuide>0&&this.optionalFirstGuide<=500&&(this.optionalFirstGuide++,3==this.optionalFirstGuide&&this.showFirstGuide())}else{var o=UICtrl.findUI("uiHall/uiClickCd");if(o||cc.isValid(o))return;UICtrl.openUI("uiHall/uiClickCd",function(t){t.initData("\u4f4d\u7f6e\u5df2\u6ee1")})}}},initData:function(){monsterMgr.init(this),this.updateSoldiers(),this.initDelPos(),gMainMgr.onShowHeardInfo(gameData.headWeb,this.sp_head),this.lab_bonus.setLabel(gameData.average_award+"\u5143"),this.qipaoEffectAction(this.sp_qipaored,20),this.onClearSpeedCount(),this._bCooling=!1,this._coolingTime=0,this.img_speed_process_bg.active=!1,this.img_speed_process.getComponent(cc.Sprite).fillRange=0,this.img_cooling_process.getComponent(cc.Sprite).fillRange=0,this._bStartUpTime=0,this._bSpeedUp=!1},updateSoldiers:function(){this._monsterAni=this.sp_rerole.getComponent("sp.Skeleton");var t=this.remainSoldier(),e=soldiersCsvData.getImageByID(t),i=soldiersCsvData.getSpineNameByID(t);gMainMgr.onChangeSkeletonData(this._monsterAni,i,e),this.lab_lv.setLabel(t),this.lab_num.setLabel(gameData.canBuySoldier+"/"+gameData.store_soldier_cnt)},getOnLineStatus:function(){var t=this;webData.online_statusCallBack(function(e){gameData.set("onlineTime",Number(e.data.remain_time)),gameData.set("onlineCnt",Number(e.data.remain_cnt)),gameData.add("remain_no_video_cnt",-1),2!=gameData.onlineStatus?t.canBtnOnline=!1:(t.effect_online1.active=!1,t.effect_online2.active=!1,t.lab_online.setLabel("\u8bf7\u660e\u65e5\u518d\u6765"))},function(){})},updateOnline:function(t){this.canBtnOnline||(gameData.onlineTime<0?(this.canBtnOnline=!0,this.lab_online.setLabel("k"),this.effect_online1.active=!0,this.effect_online2.active=!0,this.sp_tshi.active=!0,this.tsAction()):(gameData.add("onlineTime",-t),this.lab_online.setLabel(util.formatSeconds(gameData.onlineTime,2)),this.effect_online1.active=!1,this.effect_online2.active=!1,this.sp_tshi.active=!1))},getOnLineAward:function(t,e){webData.online_rewardCallBack(t,function(t){e&&e(t)},function(t){util.showTip(t.message)})},lisening:function(){var t=this;gameData.on("red_balance",function(e){t.lab_red.setLabel(util.formatNum(Math.round(e)))},this.node),this._bFirstPlay=!0,gameData.on("current_check_point",function(e){t.lab_smallbattle.setLabel("\u7b2c"+gameData.current_check_point+"\u5173"),t._bFirstPlay||(e-1)%5!=0||(t.effect_withdrawal.active=!0),t._bFirstPlay=!1,t.lab_lockred.setLabel("\u518d\u53471\u7ea7\u89e3\u9501\u65b0\u7ea2\u5305");var i=0;for(var n in t.battleBigIndex){var a=t.battleBigIndex[n];gameData.current_check_point>=a[0]&&gameData.current_check_point<=a[1]&&(i=Number(n))}t.sp_map.runAction(cc.moveTo(.5,t.mapPos[i]))},this.node),gameData.on("canBuySoldier",function(e){e<=0&&gameData.showQuickPFing<8&&(gameData.add("showQuickPFing",1),t.art_finger2.active=!0)},this.node)},openRandomRed:function(){var t=this,e=gameData.red_setting[G_RED_CONFIG.RED_HERO_REWARD],i=util.randomRange(0,5);gMainMgr.onCommonOpenRed(gameData.remain_rand_cnt,e,G_OPEN_RED_TYPE[["RED_CAOZAO_REWARD","RED_DIAOCHAN_REWARD","RED_GUANYU_REWARD","RED_KONGMING_REWARD","RED_LIUBEI_REWARD","RED_SUNQUAN_REWARD"][i]],function(){t.checkVideo("rand_video",function(){UICtrl.closeUI("uiCommon/uiOpenRed"),gameData.add("remain_rand_cnt",-1),gMainMgr.onShowCommonGetRed(1,e,G_REWARD_TYPE.REWARD_TYPE_RED,G_OPEN_RED_TYPE.RED_AIR_DROP_REWARD,function(){gMainMgr.playCoinsFly(e)},function(){})},function(t){util.showTip(t.message)})},function(){})},openSoldiersDlg:function(t,e,i,n,a,o,s){var r=UICtrl.findUI("uiHall/uiSoldiersDlg");r||cc.isValid(r)||UICtrl.openUI("uiHall/uiSoldiersDlg",function(r){r.initData(t,e,i,n,a,o,s)})},openSign:function(){var t=UICtrl.findUI("uiSign/uiSign");t||cc.isValid(t)||UICtrl.openUI("uiSign/uiSign",function(){})},openOnline:function(){var t=this;if(this.canBtnOnline)if(gameData.remain_no_video_cnt<=0)util.showTip("\u4eca\u65e5\u201c\u5728\u7ebf\u5956\u52b1\u201d\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650");else{var e=function(e,i){UICtrl.closeUI("uiCommon/uiOpenRed"),t.getOnLineAward(e,function(){gMainMgr.onShowCommonGetRed(gameData.onlineCnt,i,G_REWARD_TYPE.REWARD_TYPE_RED,G_OPEN_RED_TYPE.RED_ONLINE_REWARD,function(){gMainMgr.playCoinsFly(i)},function(){gMainMgr.playCoinsFly(i)}),t.getOnLineStatus()},function(){})},i=Number(gameData.red_setting[G_RED_CONFIG.RED_ONLINE]);gMainMgr.onCommonOpenRed(1,i,G_OPEN_RED_TYPE.RED_ONLINE_REWARD,function(){var t=Number(gameData.red_setting[G_RED_CONFIG.RED_WAR_WIN_EXTRA]);e("y",i+=t)},function(){e("n",i)})}else util.showTip("\u65f6\u95f4\u672a\u5230")},openFreeUp:function(t,e,i,n,a){var o=UICtrl.findUI("uiHall/uiFreeUp");o||cc.isValid(o)||UICtrl.openUI("uiHall/uiFreeUp",function(o){o.initData(t,e,i,n,a)})},openBonus:function(){var t=UICtrl.findUI("uibonus/uiNewBonus");t||cc.isValid(t)||UICtrl.openUI("uiBonus/uiNewBonus",function(){})},updateAutoCombine:function(t){if(soldiersMgr.autoStatic){if(soldiersMgr.autoSuspended)return;if(soldiersMgr.autoTime<=0)return this.sp_auto.active=!0,this.lab_auto.active=!1,soldiersMgr.autoCombineTime&&clearInterval(soldiersMgr.autoCombineTime),void(soldiersMgr.autoStatic=!1);this.sp_auto.active=!1,this.lab_auto.active=!0,soldiersMgr.autoTime-=t,this.lab_auto.setLabel(util.formatSeconds(soldiersMgr.autoTime,2))}},openPointMap:function(){var t=UICtrl.findUI("uiBattleList/uiPointMap");t||cc.isValid(t)||UICtrl.openUI("uiBattleList/uiPointMap",function(){})},openDraw:function(){var t=UICtrl.findUI("uiDraw/uiDraw");t||cc.isValid(t)||UICtrl.openUI("uiDraw/uiDraw",function(){})},openTask:function(){var t=UICtrl.findUI("uiTask/uiTask");t||cc.isValid(t)||UICtrl.openUI("uiTask/uiTask",function(){})},getRandomRed:function(t){webData.rand_awardCallBack(t,function(t){util.showTip(t.message)})},getUpgradeRed:function(t){webData.upgrade_redCallBack(t,function(t){util.showTip(t.message)})},openUpGrade:function(){var t=this;UICtrl.openUI("uiCommon/uiOpenRed",function(e){e.initData(G_OPEN_RED_TYPE.RED_UPLEVEL_REWARD,function(){t.getUpgradeRed(function(e){gameData.set("red_process_bar",e.data.process_bar),gMainMgr.onShowGetRedProcess(e.data.red_award,function(){gMainMgr.playCoinsFly(e.data.red_award,0,0,8,e.data.red_balance)},function(){gMainMgr.playCoinsFly(e.data.red_award,0,0,8,e.data.red_balance)}),gameData.set("remain_upgrade_video_cnt",Number(e.data.remain_upgrade_video_cnt)),t.updateUpGread(),UICtrl.closeUI("uiCommon/uiOpenRed")})},function(){})})},updateUpGread:function(){gameData.remain_upgrade_video_cnt<=0&&(this.effect_upgrade1.active=!1,this.effect_upgrade2.active=!1),this.lab_point.setLabel(gameData.maxSoldiersLv+"\u7ea7"),this.sp_jindutiao.getComponent(cc.Sprite).fillRange=gameData.maxSoldiersLv/88,gameData.maxSoldiersLv>=gameData.auto_merge_level&&(this.btn_auto.active=!0,gameData.showAutoFing||(this.art_finger1.active=!0,gameData.set("showAutoFing",!0)))},showFirstGuide:function(){var t,e,i=this;this.art_finger.stopAllActions(),this.optionalFirstGuide?3==this.optionalFirstGuide?setTimeout(function(){i.guideMerge()},1e3):this.optionalFirstGuide<999&&this.hideFingerGuide():(this.art_finger.active=!0,(t=this.node_guide.parent.convertToWorldSpaceAR(this.btn_buy)).x+=60,t.y-=20,e=this.node_guide.convertToNodeSpaceAR(t),this.art_finger.position=e,this.art_finger.getComponent(cc.Animation).play("shouzhi"),this.optionalFirstGuide=1,setTimeout(function(){i.openLimit()},3e3))},guideMerge:function(){var t=this;this.art_finger.stopAllActions();var e=soldiersMgr.checkCombine();if(e.lv>0){this.art_finger.active=!0;var i=cc.callFunc(function(){t.art_finger.x=COUNT_P[e.opos].x+40,t.art_finger.y=COUNT_P[e.opos].y-40,t.art_finger.getComponent(cc.Animation).play("yidong"),t.art_finger.getComponent(cc.Animation).on("stop",function(){t.art_finger.getComponent(cc.Animation).off("stop");var i=cc.v2(0,0);i.x=COUNT_P[e.tpos].x+40,i.y=COUNT_P[e.tpos].y-40,t.art_finger.runAction(cc.moveTo(.5,i))})});this.art_finger.runAction(cc.repeatForever(cc.sequence(i,cc.delayTime(2))))}},hideFingerGuide:function(){this.art_finger.getComponent(cc.Animation).off("stop"),this.art_finger.active=!1},openThousandRed:function(){if(gameData.openThousand="open","open"==gameData.openThousand){var t=UICtrl.findUI("uiThousandRed/uiThousandRed");t||cc.isValid(t)||UICtrl.openUI("uiThousandRed/uiThousandRed",function(){})}else util.showTip("\u660e\u65e5\u5f00\u542f")},playBreatheEffect:function(){var t=this;if(this.img_tip_info&&this.img_tip_info.active&&!this._bStartTipPlay){this._bStartTipPlay=!0,this.img_tip_info.stopAllActions();var e=util.convetOtherNodeSpaceAR(this.img_makewar_bg,this.node_top),i=cc.callFunc(function(){t.img_tip_info.active=!1}),n=cc.sequence(cc.repeat(cc.sequence(cc.delayTime(.1),cc.scaleTo(.7,1.3,1.3),cc.scaleTo(.7,1,1)),3),cc.delayTime(.2),cc.spawn(cc.moveTo(.5,e),cc.scaleTo(.5,.1)),i);this.img_tip_info.runAction(n)}},onTipMonsterCountInfo:function(){this._startGame=!1,this.img_barrier_1.active=!0,this._bStartTipPlay=!1,this.img_tip_info.active=!0,this.img_tip_info.scale=1;var t=-150-2*util.getDisHeight();this.img_tip_info.position=cc.v2(0,t)},effectAciton:function(t,e){e=e||2;var i=cc.moveBy(e,0,10),n=cc.moveBy(e,0,-10),a=cc.sequence(i,n);t.runAction(cc.repeatForever(a))},qipaoEffectAction:function(t,e,i){var n,a=cc.scaleTo(1,1,1),o=cc.scaleTo(1,1.3,1.3),s=cc.delayTime(.2),r=cc.delayTime(e),c=cc.sequence(s,o,a),l=cc.repeat(c,3),u=cc.fadeIn(.3),d=cc.fadeOut(.3);n=i?cc.sequence(u,i,l,d,r):cc.sequence(u,l,d,r),t.runAction(cc.repeatForever(n))},showCXYW:function(){},showIcon:function(t){gameData.set("showIcon",t),gameData.showIcon&&this.icon&&(this.btn_icon.active=gameData.showIcon,util.loadUrlImg(this.btn_icon,this.icon),this.rbction(this.btn_icon))},rbction:function(t){var e=cc.delayTime(3),i=cc.rotateTo(.1,20),n=cc.rotateTo(.1,0),a=cc.rotateTo(.1,-20),o=cc.rotateTo(.1,10),s=cc.rotateTo(.1,-10),r=cc.sequence(i,a,o,s,n,e);t.runAction(cc.repeatForever(r))},initDataRecommend:function(){var t=gameData.game_list;for(var e in t){var i=Number(e)+1;this["icon_kuang"+i].active=!0,util.loadUrlImg(this["sp_icon"+i],t[e].icon),this["lab_icon"+i].setLabel(t[e].name)}},backGame:function(){},openInvite:function(){var t=UICtrl.findUI("uiInvite/uiInvite");t||cc.isValid(t)||UICtrl.openUI("uiInvite/uiInvite",function(){})},openShare:function(){var t=UICtrl.findUI("uiInvite/uiShareImg");t||cc.isValid(t)||UICtrl.openUI("uiInvite/uiShareImg",function(){})},openBounsWhat:function(t,e){var i=UICtrl.findUI("uiBonus/uiBonusWhat");i||cc.isValid(i)||UICtrl.openUI("uiBonus/uiBonusWhat",function(i){i.initData(t,e)})},updateGuideMerge:function(){var t=this;gameData.ifGuide&&!soldiersMgr.autoStatic&&(this.unscheduleAllCallbacks(),this.scheduleOnce(function(){t.guideMerge()},6))},openLimit:function(){var t=UICtrl.findUI("uiLimit/uiLimit");t||cc.isValid(t)||UICtrl.openUI("uiLimit/uiLimit",function(t){t.initData()})},openMyWallet:function(){this.effect_withdrawal.active=!1;var t=UICtrl.findUI("uiLevelRed/uiLevelRed");t||cc.isValid(t)||UICtrl.openUI("uiLevelRed/uiLevelRed",function(t){t.initData()})},openFreeRed:function(){if(!(gameData.daily_down_red_cnt-gameData.freeRedDay<=0)){gameData.add("freeRedDay",1);var t=gameData.red_setting[G_RED_CONFIG.RED_HEAVEN];gMainMgr.onCommonOpenRed(1,t,G_OPEN_RED_TYPE.RED_FREE_REWARD,function(){UICtrl.closeUI("uiCommon/uiOpenRed"),gMainMgr.onShowCommonGetRed(1,t,G_REWARD_TYPE.REWARD_TYPE_RED,G_OPEN_RED_TYPE.RED_FREE_REWARD,function(){gMainMgr.playCoinsFly(t)},function(){gMainMgr.playCoinsFly(t)})},function(){},!0)}},getLimitData:function(){},openGeneral:function(){var t=UICtrl.findUI("uiGeneral/uiGeneral");t||cc.isValid(t)||UICtrl.openUI("uiGeneral/uiGeneral",function(t){t.initData()})},openTree:function(){var t=UICtrl.findUI("uiTree/uiTree");t||cc.isValid(t)||UICtrl.openUI("uiTree/uiTree",function(){})},remainSoldier:function(){return gameData.lvBuyCnt>5&&gameData.lvBuyCnt%2==0?soldiersCsvData.getMinByID(gameData.maxSoldiersLv):soldiersCsvData.getMaxByID(gameData.maxSoldiersLv)},onMoveSceneBg:function(t){var e=this;this.scene_1.runAction(cc.sequence(cc.moveBy(3,cc.v2(-720,0)),cc.delayTime(.2),cc.callFunc(function(){e.scene_1.x<=-1400&&(e.scene_1.x=1440),t&&t()}))),this.scene_2.runAction(cc.sequence(cc.moveBy(3,cc.v2(-720,0)),cc.delayTime(.2),cc.callFunc(function(){e.scene_2.x<=-1400&&(e.scene_2.x=1440)})))},onSpeedUpWar:function(){if(gameData.quickc>=gameData.daily_fast_check_point_cnt){var t=UICtrl.findUI("uiHall/uiClickCd");if(t||cc.isValid(t))return;UICtrl.openUI("uiHall/uiClickCd",function(t){t.initData("\u4eca\u65e5\u70b9\u51fb\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650",3)})}else gameData.add("quickc",1),this._speedCount+=1,console.log("onSpeedUpWar",this._bCooling,this._speedCount,this._iMaxSpeedCount),this._bCooling||this._speedCount>=this._iMaxSpeedCount?(this._bCooling||(this._coolingTime=10),this._bCooling=!0,UICtrl.openUI("uiHall/uiClickCd",function(t){t.initData("\u52a0\u901f\u51b7\u5374\u4e2d\uff0c\u8bf7\u4f11\u606f\u4e00\u4e0b!",3)})):(audioData.playSoundByID(9),this.img_jiasu_ani.active=!0,this.img_speed_process_bg.active=!0,this.img_speed_process.getComponent(cc.Sprite).fillRange=1,this._bSpeedUp=!0,this._speedTime=3,cc.director.getScheduler().setTimeScale(5),monsterMgr.setMonsterTimeScale(5))},onClearSpeedCount:function(){this._speedCount=0,this._iMaxSpeedCount=util.randomRange(gameData.fast_check_point_cnt_min,gameData.fast_check_point_cnt_max)},updateAddSpeed:function(t){this._bCooling&&(this._coolingTime-=t,this._coolingTime<=0&&(this._bCooling=!1,this.onClearSpeedCount()),this.img_cooling_process.getComponent(cc.Sprite).fillRange=this._coolingTime/10),this._bSpeedUp&&(this._speedTime-=t,this._speedTime<=0?(this._bSpeedUp=!1,this.img_jiasu_ani.active=!1,cc.director.getScheduler().setTimeScale(1),monsterMgr.setMonsterTimeScale(1),this.img_speed_process_bg.active=!1,this.img_speed_process.getComponent(cc.Sprite).fillRange=0):this.img_speed_process.getComponent(cc.Sprite).fillRange=this._speedTime/3)},clickSolider:function(){var t=this,e=gameData.daily_fast_product_soldier_cnt;if(gameData.clickSoliderCount>e)util.showTip("\u4eca\u65e5\u201c\u5feb\u901f\u4ea7\u5175\u201d\u5df2\u8fbe\u4e0a\u9650\uff0c\u8bf7\u660e\u65e5\u518d\u6765\u3002");else if(this.soldcd){var i=UICtrl.findUI("uiHall/uiClickCd");if(i||cc.isValid(i))return;UICtrl.openUI("uiHall/uiClickCd")}else if(this.node_pjd.active=!0,UICtrl.createUI("ui/effect/fatou",function(e){e.parent=t.node_peffect,e.position=cc.v2(0,0)}),this.lingquSold||(this.lingquSold=0),audioData.playSoundByID([1,3,10,31,34,36,37,38][this.lingquSold%8]),this.lingquSold++,gMainMgr.checkOpenW(this.lingquSold)>util.randomRange(0,100)){console.log("lingquSold",this.lingquSold);var n=this.remainSoldier(),a=soldiersCsvData.getImageByID(n),o=soldiersCsvData.getSpineNameByID(n);this.openSoldiersDlg(n,"cnt",o,this.soldnum+"\u4e2a\u58eb\u5175",null,function(){gameData.remain_fast_soldier_video_cnt<=0?util.showTip("\u4eca\u65e5\u201c\u5feb\u901f\u4ea7\u5175\u201d\u89c6\u9891\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650"):nativeData.showRewardAd(function(){t.checkVideo("video_kscbsb",function(){UICtrl.closeUI("uiHall/uiSoldiersDlg"),gameData.add("remain_fast_soldier_video_cnt",-1);var e=function(){gMainMgr.playCoinsFly1(8,a,o),gameData.add("canBuySoldier",2*t.soldnum),t.updateSoldiers(),UICtrl.closeUI("uiHall/uiSoldiersDlg"),t.soldnum=0};t.openSoldiersDlg(n,"get",o,3*t.soldnum+"\u4e2a\u58eb\u5175",null,function(){e()},function(){e()})},function(t){util.showTip(t.message)})},function(){})},function(){gameData.add("clickSoliderCount",1),t.soldnum=0}),this.node_pjd.active=!1,this.soldcd=!0,this.lingquSold=0,this.sp_cdsold.getComponent(cc.Sprite).fillRange=1;var s=gameData.fast_produce_soldier_cool_time;this.sp_cdsold.active=!0,this.sp_soldjidu.getComponent(cc.Sprite).fillRange=1,this.sp_cdsold.getComponent(cc.Sprite).schedule(function(){t.sp_cdsold.getComponent(cc.Sprite).fillRange-=.1/s,t.sp_cdsold.getComponent(cc.Sprite).fillRange<=0&&(t.sp_cdsold.getComponent(cc.Sprite).unscheduleAllCallbacks(),t.soldcd=!1)},.1)}else{if(this.lingquSold%8==0){console.log("this.lingquSold % 8 == 0"),gameData.add("clickSoliderCount",1),this.node_pjd.active=!1;var r=gameData.fast_soldier_fly_cnt;this.lab_lingsold.setLabel("+"+r),this.lab_lingsold.y=110,this.lab_lingsold.active=!0;var c=cc.moveBy(.5,cc.v2(0,20)),l=cc.sequence(cc.show(),c,cc.hide());this.lab_lingsold.runAction(l),this.soldnum||(this.soldnum=0),this.soldnum+=r,this.soliderAction(r,1)}this.sp_soldjidu.getComponent(cc.Sprite).fillRange=this.lingquSold%8/8}},clickCoin:function(){var t=this,e=gameData.daily_red_spring_cnt;if(gameData.clickCoinCount>e)util.showTip("\u4eca\u65e5\u201c\u7ea2\u5305\u55b7\u6cc9\u201d\u5df2\u8fbe\u4e0a\u9650\uff0c\u8bf7\u660e\u65e5\u518d\u6765\u3002");else if(this.coincd){var i=UICtrl.findUI("uiHall/uiClickCd");if(i||cc.isValid(i))return;UICtrl.openUI("uiHall/uiClickCd")}else if(this.node_rjd.active=!0,UICtrl.createUI("ui/effect/fahongbao",function(e){e.parent=t.node_reffect,e.position=cc.v2(0,0)}),this.lingquCoin||(this.lingquCoin=0),audioData.playSoundByID([1,3,10,31,34,36,37,38][this.lingquCoin%8]),this.lingquCoin++,gMainMgr.checkOpenW(this.lingquCoin)>util.randomRange(0,100)){gMainMgr.onShowCommonGetRed(gameData.remain_spring_video_cnt,this.rednum,G_REWARD_TYPE.REWARD_TYPE_RED,G_OPEN_RED_TYPE.RED_SPRING_COOL_REWARD,function(){t.checkVideo("video_hbpqsb",function(){var e=function(){gMainMgr.playCoinsFly(2*t.rednum),t.rednum=0,gameData.add("remain_spring_video_cnt",-1)};gMainMgr.onShowCommonGetRed(1,3*t.rednum,G_REWARD_TYPE.REWARD_TYPE_RED,G_OPEN_RED_TYPE.RED_SPRING_COOL_REWARD_ACCEPT,function(){e()},function(){e()})},function(t){util.showTip(t.message)})},function(){t.rednum=0,gameData.add("clickCoinCount",1)},!0),this.node_rjd.active=!1,this.coincd=!0,this.lingquCoin=0,this.sp_cdcoin.getComponent(cc.Sprite).fillRange=1;var n=gameData.red_spring_cool_time;this.sp_cdcoin.active=!0,this.sp_coinjidu.getComponent(cc.Sprite).fillRange=1,this.sp_cdcoin.getComponent(cc.Sprite).schedule(function(){t.sp_cdcoin.getComponent(cc.Sprite).fillRange-=.1/n,t.sp_cdcoin.getComponent(cc.Sprite).fillRange<=0&&(t.sp_cdcoin.getComponent(cc.Sprite).unscheduleAllCallbacks(),t.coincd=!1)},.1)}else{if(this.lingquCoin%8==0){gameData.add("clickCoinCount",1),this.node_rjd.active=!1;var a=Number(gameData.red_setting[G_RED_CONFIG.RED_FOUNTAAIN])+gameData.maxSoldiersLv;this.lab_lingcoin.setLabel("+"+a),this.lab_lingcoin.y=110,this.lab_lingcoin.active=!0;var o=cc.moveBy(.5,cc.v2(0,20)),s=cc.sequence(cc.show(),o,cc.hide());this.lab_lingcoin.runAction(s),this.rednum||(this.rednum=0),this.rednum+=a;var r=this.node_down.convertToWorldSpaceAR(this.btn_quickr.position),c=cc.find("LayerEffect",cc.Canvas.instance.node).convertToNodeSpaceAR(r),l=a;gMainMgr.playCoinsFly(l,c.x,c.y)}this.sp_coinjidu.getComponent(cc.Sprite).fillRange=this.lingquCoin%8/8}},tsAction:function(){this.sp_tshi.stopAllActions(),this.sp_tshi.position=cc.v2(20,30);var t=cc.moveTo(.08,25,30).easing(cc.easeQuadraticActionInOut()),e=cc.moveTo(.08,15,30).easing(cc.easeQuadraticActionInOut()),i=cc.moveTo(.08,20,30).easing(cc.easeQuadraticActionInOut()),n=cc.sequence(t,e),a=cc.repeat(n,6),o=cc.sequence(a,i,cc.delayTime(1)),s=cc.repeatForever(o);this.sp_tshi.runAction(s)},checkVideo:function(t,e,i){webData.check_videoCallBack(t,e,i)},updatePauseOrResume:function(){0==cc.find("LayerDlg",cc.Canvas.instance.node).children.length?(nativeData.isShowFeed&&nativeData.hideFeed(),nativeData.isShowBanner&&nativeData.hideBanner(),nativeData.isShowLongBanner&&nativeData.hideLongBanner(),monsterMgr.onResumeMonsterAllActions()):monsterMgr.onPauseMonsterAllActions()},updateGameBg:function(){var t=gameData.current_check_point%20;0==t&&(t=20);var e=Math.ceil(t/2);(e<=1||e>10)&&(t=1),util.display(this.scene_1,"image/gamebg/gamebg_"+e),util.display(this.scene_2,"image/gamebg/gamebg_"+e)},openRule:function(t){var e=UICtrl.findUI("uiBoxWallet/uiBoxRule");e||cc.isValid(e)||UICtrl.openUI("uiBoxWallet/uiBoxRule",function(e){e.initData(t)})},soliderAction:function(t,e,i){for(var n=this,a=this.btn_quickp.position,o=this.btn_buy.position,s=cc.v2(150,300),r=cc.bezierTo(.5,[a,s,o]),c=e||5,l=function(e){var o=cc.instantiate(n.sp_rerole);o.parent=n.node_down,o.position=a;var s=o.getComponent("sp.Skeleton"),l=n.remainSoldier(),u=soldiersCsvData.getImageByID(l),d=soldiersCsvData.getSpineNameByID(l),h=cc.delayTime(.13*e);gMainMgr.onChangeSkeletonData(s,d,u);var _=cc.callFunc(function(){n.sp_rerole.stopAllActions(),n.sp_rerole.scale=.35,e==c-1?(n.sp_rerole.runAction(cc.scaleTo(.02,.4)),gameData.add("canBuySoldier",t),n.updateSoldiers(),i&&i()):n.sp_rerole.runAction(cc.sequence(cc.scaleTo(.02,.35),cc.scaleTo(.5,.45)))}),f=cc.sequence(h,r,_,cc.removeSelf());o.runAction(f)},u=0;u<c;u++)l(u)},runFinger:function(){var t=this;this.downFinger&&clearTimeout(this.downFinger),console.log(" gameData ,",gameData);var e=gameData.effect_interval_time_range2.split("-");e=util.randomRange(Number(e[0]),Number(e[1])),this.downFinger=setTimeout(function(){var e=t.btn_quickc.position,i=t.btn_quickm.position,n=t.btn_quickr.position,a=[cc.v2(e.x+32,e.y-15),cc.v2(i.x+32,i.y-15),cc.v2(n.x+32,n.y-15)];t.downFingerRan=util.randomRange(0,a.length-1),t.art_finger3.position=a[t.downFingerRan],t.art_finger3.active=!0},1e3*e)},runTxEffect:function(){var t=this;this.txEffect&&clearTimeout(this.txEffect);var e=gameData.effect_interval_time_range.split("-");e=util.randomRange(Number(e[0]),Number(e[1])),this.txEffect=setTimeout(function(){var e=["effect_box","effect_general","effect_bonus"];t.txEffectRan=util.randomRange(0,e.length-1),t[e[t.txEffectRan]+"1"].active=!0,t[e[t.txEffectRan]+"2"].active=!0},1e3*e)}}),cc._RF.pop()},{}],uiHeroInfo:[function(t,e){"use strict";cc._RF.push(e,"24a0bA2zCBPkZV9rGapkyAx","uiHeroInfo"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){"info"!=t.type?gMainMgr.closeDlgAction(t.sp_bg,GM.HallUi.btn_general,function(){UICtrl.closeUI(t)}):UICtrl.closeUI(t)},null,null,1),this.btn_sz.quickBt(function(){t.sp_ysz.active||(webData.task_ddCallBack("get_fj"),gameData.set("battleHeroId",2e4+t.heroid),util.showTip("\u4e0a\u9635\u6210\u529f"),t.sp_ysz.active=!0)}),this.btn_share.quickBt(function(){GM.HallUi.openGeneral(),UICtrl.closeUI(t)})},initData:function(t,e){this.heroid=t.General,this["sp_"+lockheroCsvData.getCampByID(this.heroid)].active=!0;var i=lockheroCsvData.getNameByID(this.heroid);i=i.split("");var n="";for(var a in i)n+=i[a]+"\n";this.lab_name.setLabel(n),this.lab_sm.setLabel(lockheroCsvData.getHpByID(this.heroid)),this.lab_gj.setLabel(lockheroCsvData.getAttackByID(this.heroid)),this.lab_ml.setLabel(lockheroCsvData.getCharmByID(this.heroid));var o=this.sp_role.getComponent("sp.Skeleton");gMainMgr.onChangeSkeletonData(o,lockheroCsvData.getActionByID(this.heroid),1,null,!0),this.type=e,"info"==e?(gameData.current_check_point-1>=Number(t.Unlock)?(this.sp_unlock.active=!0,this.btn_sz.active=!0):(this.lab_conditions.setLabel("\u9700\u901a\u8fc7\u7b2c"+generalCsvData.getUnlockByID(this.heroid)+"\u5173\u89e3\u9501"),this.lab_curpoint.setLabel("(\u5f53\u524d\u7b2c"+(gameData.current_check_point-1)+"\u5173)"),this.btn_sz.active=!1),gameData.battleHeroId==2e4+this.heroid&&(this.sp_ysz.active=!0),this.hero_info.active=!0):(this.sp_gx.active=!0,this.btn_share.active=!0,this.hero_share.active=!0,this.lab_money.setLabel(t.money))}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiHeroList:[function(t,e){"use strict";cc._RF.push(e,"3d241x91oFNr6ZQupm02I6C","uiHeroList"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents(),this.initData()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)})},initData:function(){this.initHeroList()},initHeroList:function(){this._generalInfo=[];var t=generalCsvData.getAllDatas();for(var e in t)t[e]&&this._generalInfo.push(t[e]);this._heroListInfo=ioslockheroCsvData.getAllDatas(),this.hero_scrollview.getComponent("uiScrollView").resetData(this._generalInfo,this.createItem.bind(this),0)},createItem:function(t,e,i){var n=this,a=i;if(a){var o=this._heroListInfo[a.General];e.lbl_name.setLabel(o.name),iosGameData.gPassPointCount-1>=a.Unlock?(e.lbl_lock_desc.setLabel("\u5df2\u89e3\u9501"),e.img_unLock_icon.active=!1,e.img_unLokc_zhezhao.active=!1):(e.lbl_lock_desc.setLabel("\u901a\u8fc7\u7b2c"+a.Unlock+"\u5173\u89e3\u9501"),e.img_unLock_icon.active=!0,e.img_unLokc_zhezhao.active=!0);var s=e.skeleton_name.getComponent("sp.Skeleton");gMainMgr.onChangeSkeletonData(s,o.action,1,null,!0),e.quickBt(function(){n.openHerInfo(a)})}},openHerInfo:function(t){var e=UICtrl.findUI("uiIOS/uiHeroInfo");e||cc.isValid(e)||UICtrl.openUI("uiIOS/uiHeroInfo",function(e){e.initData(t,"info")})}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiHotUpdate:[function(t,e){"use strict";cc._RF.push(e,"0e7ecBsdY9IJLDK5k9MSgQc","uiHotUpdate"),t("init"),cc.Class({extends:ui.baseNode,properties:{manifestUrl:{type:cc.Asset,default:null},_updating:!1,_canRetry:!1,_storagePath:"",_finishCallback:void 0,_hasFinish:!1,_maxRestyTime:3},onUpdateFinish:function(t){cc.sys.isNative&&!this._hasFinish?this._finishCallback=t:t&&t()},onUpdate:function(){},toHotUpdate:function(){if(cc.sys.isNative){var t=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"blackjack-remote-asset";this._storagePath=t,cc.log("Storage path for remote asset : "+t),this.versionCompareHandle=function(t,e){cc.log("JS Custom Version Compare: version A is "+t+", version B is "+e);for(var i=t.split("."),n=e.split("."),a=0;a<i.length;++a){var o=parseInt(i[a]),s=parseInt(n[a]||0);if(o!==s)return o-s}return n.length>i.length?-1:0},this._am=new jsb.AssetsManager("",this._storagePath,this.versionCompareHandle);var e=this;this._am.setVerifyCallback(function(t,i){var n=i.compressed,a=i.md5,o=i.path;return i.size,n?(e._setTip("Verification passed : "+o),!0):(e._setTip("Verification passed : "+o+" ("+a+")"),!0)}),this._setTip("Hot update is ready, please check or directly update."),cc.sys.os===cc.sys.OS_ANDROID&&(this._am.setMaxConcurrentTask(2),this._setTip("Max concurrent tasks count have been limited to 2")),this._setByteProgress(0),this.checkUpdate()}},_setTip:function(t){console.log("hotUpdate:"+t)},_setByteProgress:function(t){this.onUpdate(t)},checkCb:function(t){console.log("checkCb Code: "+t.getEventCode());var e=!1,i=!1;switch(t.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this._setTip("No local manifest file found, hot update skipped."),e=!0;break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:this._setTip("ERROR_DOWNLOAD_MANIFEST."),e=!0;break;case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this._setTip("Fail to download manifest file, hot update skipped."),e=!0;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:this._setTip("Already up to date with the latest remote version."),e=!0;break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:this._setTip("New version found, please try to update."),this._setByteProgress(0),i=!0;break;default:return void this._setTip("---------------------------",e,i)}if(this._am.setEventCallback(null),this._checkListener=null,this._updating=!1,e)this._hasFinish=!0,this._finishCallback&&this._finishCallback();else if(i)return void this.showBtnUpdata()},updateCb:function(t){var e=!1,i=!1;switch(t.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this._setTip("No local manifest file found, hot update skipped."),i=!0;break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:var n=t.getDownloadedBytes();if(this.totalBytes>0){var a=n/this.totalBytes;a=parseInt(100*a),console.log("[HotUpdate]percent",a,n,this.totalBytes),this._setByteProgress(a)}else if(this.totalBytes=t.getTotalBytes(),0==this.totalBytes)this._setByteProgress(0);else{var o=n/this.totalBytes;o=parseInt(100*o),console.log("[HotUpdate]percent",o,n,this.totalBytes),this._setByteProgress(o)}var s=t.getMessage();s&&console.log("[HotUpdate]file",s);break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this._setTip("Fail to download manifest file, hot update skipped."),i=!0;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:this._setTip("Already up to date with the latest remote version."),i=!0;break;case jsb.EventAssetsManager.UPDATE_FINISHED:this._setTip("Update finished. "+t.getMessage()),e=!0;break;case jsb.EventAssetsManager.UPDATE_FAILED:this._setTip("Update failed2. "+t.getMessage()),this._updating=!1,this._canRetry=!0;break;case jsb.EventAssetsManager.ERROR_UPDATING:this._setTip("Asset update error: "+t.getAssetId()+", "+t.getMessage());break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:this._setTip(t.getMessage())}if(this._canRetry&&this.retry(),i&&(this._am.setEventCallback(null),this._updateListener=null,this._updating=!1,this._hasFinish=!0,this._finishCallback&&this._finishCallback()),e){this._am.setEventCallback(null),this._updateListener=null;var r=jsb.fileUtils.getSearchPaths(),c=this._am.getLocalManifest().getSearchPaths();console.log(JSON.stringify(c)),Array.prototype.unshift.apply(r,c),cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(r)),jsb.fileUtils.setSearchPaths(r),cc.audioEngine.stopAll(),cc.game.restart()}},retry:function(){if(!this._updating&&this._canRetry){if(this._maxRestyTime--,this._canRetry=!1,this._maxRestyTime<=0)return void this.deleteCatchAndRestart(!0);this._setTip("Retry failed Assets..."),this._am.downloadFailedAssets()}},deleteCatchAndRestart:function(t){if(cc.sys.localStorage.getItem("HotUpdateSearchPaths")||t){cc.sys.localStorage.removeItem("HotUpdateSearchPaths");var e=this._am.getStoragePath();return jsb.fileUtils.removeDirectory(e),jsb.fileUtils.removeDirectory(this._tempStorePath),console.log("HotUpdate:\u6e05\u9664\u70ed\u66f4\u65b0\u7f13\u5b58"+e),console.log("HotUpdate:\u6e05\u9664\u70ed\u66f4\u65b0TEMP\u7f13\u5b58"+this._tempStorePath),cc.audioEngine.stopAll(),cc.game.restart(),!0}return!1},deleteCatch:function(){return!!nativeData.firstCoverInstall&&(console.log("HotUpdate:\u8986\u76d6\u540e\u7b2c\u4e00\u6b21\u5b89\u88c5\u6e05\u695a\u7f13\u5b58"),this.deleteCatchAndRestart())},checkUpdate:function(){if(this._updating)this._setTip("Checking or updating ...");else{if(this._am.getState()===jsb.AssetsManager.State.UNINITED){var t=this.manifestUrl.nativeUrl;cc.loader.md5Pipe&&(t=cc.loader.md5Pipe.transformURL(t)),this._am.loadLocalManifest(t)}if(this._am.getLocalManifest()&&this._am.getLocalManifest().isLoaded()){var e=this._am.getLocalManifest().getVersion();gMainMgr.VERSION=e,this.deleteCatch()||(this._setTip("version:"+e),this._am.setEventCallback(this.checkCb.bind(this)),this._am.checkUpdate(),this._updating=!0)}else this._setTip("Failed to load local manifest ...")}},hotUpdate:function(){if(this._am&&!this._updating){if(this._am.setEventCallback(this.updateCb.bind(this)),this._am.getState()===jsb.AssetsManager.State.UNINITED){var t=this.manifestUrl.nativeUrl;cc.loader.md5Pipe&&(t=cc.loader.md5Pipe.transformURL(t)),this._am.loadLocalManifest(t)}this._failCount=0,this._am.update(),this._updating=!0}},show:function(){},onDestroy:function(){this._updateListener&&(this._am.setEventCallback(null),this._updateListener=null)},setInnerUpdate:function(){}}),cc._RF.pop()},{init:"init"}],uiIOSHall:[function(t,e){"use strict";cc._RF.push(e,"458daLyn4JNlIQLDg9ptfUz","uiIOSHall"),cc.Class({extends:ui.baseNode,properties:{monsterDogFacePrefab:cc.Prefab,monsterBoss:cc.Prefab},start:function(){this.onResizeHall(),GM.HallUi=this,gMainMgr.init(),this.addEvnets(),soldiersIOSMgr.initData(),this.battleBigIndex=[[1,40],[41,100],[101,250],[251,550],[551,970],[971,1510],[1511,2500]],this.mapPos=[cc.v2(-39,-54),cc.v2(0,-54),cc.v2(90,18),cc.v2(-22,-30),cc.v2(-52,12),cc.v2(-2,-5),cc.v2(-96,-11)],this.infantry_time=30,this.lisening(),this.initData(),audioData.switchMainZone(),this.updateGameBg()},onResizeHall:function(){this.node.setContentSize(720,GM.G_HEIGHT),this.img_jiasu_ani.setContentSize(720,GM.G_HEIGHT-660)},addEvnets:function(){var t=this;this.btn_buy.quickBt(function(){t.quickBuy()},!1,!0),this.btn_sign.quickBt(function(){t.openSign()}),this.node_head.quickBt(function(){UICtrl.openUI("uiIOS/uiSetting")}),this.btn_task.quickBt(function(){t.openTask()}),this.btn_rank.quickBt(function(){UICtrl.openUI("uiIOS/uiIOSRank")}),this.btn_shibing.quickBt(function(){UICtrl.openUI("uiIOS/uiShop")}),this.btn_wujiang.quickBt(function(){UICtrl.openUI("uiIOS/uiHeroList")}),this.btn_enage.quickBt(function(){t.showEenoughDlg()}),this.btn_add.quickBt(function(){iosGameData.plus("gGold",1e8)})},update:function(t){this.updatePauseOrResume(t)},recoverSoldiers:function(t){if(iosGameData.canBuySoldier<iosGameData.store_soldier_cnt){if(this.sp_recover.getComponent(cc.Sprite).fillRange=0,this.infantry_time-=t,this.infantry_time<=0){if(this.recover_infantry)return;this.recover_infantry=!0,this.recover_infantry=!1,iosGameData.add("canBuySoldier",1),this.infantry_time=iosGameData.soldier_recover_time,this.updateSoldiers()}this.sp_recover.getComponent(cc.Sprite).fillRange=(iosGameData.soldier_recover_time-this.infantry_time)/iosGameData.soldier_recover_time}},initDelPos:function(){var t=util.convetOtherNodeSpaceAR(this.btn_huishou,this.node_soldiers1),e=this.btn_huishou.getContentSize();window.PIGSTY_DEL=cc.rect(t.x-e.width/2,t.y-e.height/2,e.width,e.height)},quickBuy:function(t){var e=t||this.remainSoldier(),i=shopCsvData.getSolideGold(e),n=soldiersIOSMgr.getEmptyOrder();if(n){iosGameData.add("lvBuyCnt",1),iosGameData.add("canBuySoldier",-1);var a=iosGameData.get("gBuyCountList");a[e-1]=a[e-1]?a[e-1]:1,a[e-1]++,a[e-1]>shopCsvData.getNumByID(e)&&(a[e-1]=shopCsvData.getNumByID(e)),iosGameData.set("gBuyCountList",a),iosGameData.add("gGold",-Math.round(i)),iosGameData.maxSoldiersLv,iosGameData.upgrade_soldier_level,soldiersIOSMgr.itemCreate(e,n),iosGameData.set("soldiers",iosGameData.soldiers)}else{var o=UICtrl.findUI("uiHall/uiClickCd");if(o||cc.isValid(o))return;UICtrl.openUI("uiHall/uiClickCd",function(t){t.initData("\u4f4d\u7f6e\u5df2\u6ee1",4)})}},initData:function(){monsterMgr.init(this),this.updateSoldiers(),this.initDelPos()},updateSoldiers:function(){this._monsterAni=this.sp_rerole.getComponent("sp.Skeleton");var t=this.remainSoldier(),e=soldiersCsvData.getImageByID(t),i=soldiersCsvData.getSpineNameByID(t);gMainMgr.onChangeSkeletonData(this._monsterAni,i,e),this.lab_lv.setLabel("Lv."+t);var n=shopCsvData.getSolideGold(t);this.lab_gold.setLabel(n.toBitString()),this.sp_recover.getComponent(cc.Sprite).fillRange=iosGameData.gGold/n,this.lab_num.setLabel("\u8ddd\u79bb\u4e0b\u6b21\u8d2d\u4e70"+Math.round(iosGameData.gGold/n*100)+"%  Lv."+t)},lisening:function(){var t=this;iosGameData.on("gPassPointCount",function(){t.lab_bonus.setLabel("\u7b2c"+iosGameData.gPassPointCount+"\u5173")},this.node),iosGameData.on("gGold",function(e){t.lab_red.setLabel(e),t.updateSoldiers(),t.updateBtnState()},this.node),iosGameData.on("maxSoldiersLv",function(e){t.lab_point.setLabel(e+"\u7ea7"),t.sp_jindutiao.getComponent(cc.Sprite).fillRange=e/88},this.node)},openSoldiersDlg:function(t,e,i,n,a,o,s){var r=UICtrl.findUI("uiHall/uiSoldiersDlg");r||cc.isValid(r)||UICtrl.openUI("uiHall/uiSoldiersDlg",function(r){r.initData(t,e,i,n,a,o,s)})},openSign:function(){var t=UICtrl.findUI("uiIOS/uiSign");t||cc.isValid(t)||UICtrl.openUI("uiIOS/uiSign",function(){})},openFreeUp:function(t,e,i,n,a){var o=UICtrl.findUI("uiHall/uiFreeUp");o||cc.isValid(o)||UICtrl.openUI("uiHall/uiFreeUp",function(o){o.initData(t,e,i,n,a)})},openTask:function(){var t=UICtrl.findUI("uiIOS/uiTask");t||cc.isValid(t)||UICtrl.openUI("uiIOS/uiTask",function(){})},updateGuideMerge:function(){},hideFingerGuide:function(){this.art_finger.getComponent(cc.Animation).off("stop"),this.art_finger.active=!1},playBreatheEffect:function(){var t=this;if(this.img_tip_info&&this.img_tip_info.active&&!this._bStartTipPlay){this._bStartTipPlay=!0,this.img_tip_info.stopAllActions();var e=util.convetOtherNodeSpaceAR(this.img_makewar_bg,this.node_top),i=cc.callFunc(function(){t.img_tip_info.active=!1}),n=cc.sequence(cc.repeat(cc.sequence(cc.delayTime(.1),cc.scaleTo(.7,1.3,1.3),cc.scaleTo(.7,1,1)),3),cc.delayTime(.2),cc.spawn(cc.moveTo(.5,e),cc.scaleTo(.5,.1)),i);this.img_tip_info.runAction(n)}},onTipMonsterCountInfo:function(){this._startGame=!1,this.img_barrier_1.active=!0,this._bStartTipPlay=!1,this.img_tip_info.active=!0,this.img_tip_info.scale=1;var t=-150-2*util.getDisHeight();this.img_tip_info.position=cc.v2(0,t)},effectAciton:function(t,e){e=e||2;var i=cc.moveBy(e,0,10),n=cc.moveBy(e,0,-10),a=cc.sequence(i,n);t.runAction(cc.repeatForever(a))},rbction:function(t){var e=cc.delayTime(3),i=cc.rotateTo(.1,20),n=cc.rotateTo(.1,0),a=cc.rotateTo(.1,-20),o=cc.rotateTo(.1,10),s=cc.rotateTo(.1,-10),r=cc.sequence(i,a,o,s,n,e);t.runAction(cc.repeatForever(r))},openShare:function(){nativeData.openShare("https://qhdld.yx0599.com/qhdld/share/html/download_share.html","\u79e6\u6c49\u5927\u4e71\u6597","\u79e6\u6c49\u5927\u4e71\u6597")},remainSoldier:function(){return iosGameData.lvBuyCnt>5&&iosGameData.lvBuyCnt%2==0?soldiersCsvData.getMinByID(iosGameData.maxSoldiersLv):soldiersCsvData.getMaxByID(iosGameData.maxSoldiersLv)},onMoveSceneBg:function(t){var e=this;this.scene_1.runAction(cc.sequence(cc.moveBy(3,cc.v2(-720,0)),cc.delayTime(.2),cc.callFunc(function(){e.scene_1.x<=-1400&&(e.scene_1.x=1440),t&&t()}))),this.scene_2.runAction(cc.sequence(cc.moveBy(3,cc.v2(-720,0)),cc.delayTime(.2),cc.callFunc(function(){e.scene_2.x<=-1400&&(e.scene_2.x=1440)})))},tsAction:function(){this.sp_tshi.stopAllActions(),this.sp_tshi.position=cc.v2(20,30);var t=cc.moveTo(.08,25,30).easing(cc.easeQuadraticActionInOut()),e=cc.moveTo(.08,15,30).easing(cc.easeQuadraticActionInOut()),i=cc.moveTo(.08,20,30).easing(cc.easeQuadraticActionInOut()),n=cc.sequence(t,e),a=cc.repeat(n,6),o=cc.sequence(a,i,cc.delayTime(1)),s=cc.repeatForever(o);this.sp_tshi.runAction(s)},updatePauseOrResume:function(){0==cc.find("LayerDlg",cc.Canvas.instance.node).children.length?monsterMgr.onResumeMonsterAllActions():monsterMgr.onPauseMonsterAllActions()},updateGameBg:function(){var t=iosGameData.gPassPointCount%20;0==t&&(t=20);var e=Math.ceil(t/2);(e<=1||e>10)&&(t=1),util.display(this.scene_1,"image/gamebg/gamebg_"+e),util.display(this.scene_2,"image/gamebg/gamebg_"+e)},updateUpGread:function(){},backGame:function(){},updateBtnState:function(){if(!iosGameData.touchStart){var t=this.remainSoldier();shopCsvData.getSolideGold(t)>iosGameData.gGold?(this.btn_buy.active=!1,this.btn_enage.active=!0,this.btn_huishou.active=!1):(this.btn_buy.active=!0,this.btn_enage.active=!1,this.btn_huishou.active=!1)}},enoughGold:function(){var t,e=((t={})[1]={minLevel:1,maxLevel:20,videoList:[0,40,60,80],gold:[1,.5,.2,.1]},t[2]={minLevel:21,maxLevel:30,videoList:[0,35,50,65],gold:[1,.5,.2,.1]},t[3]={minLevel:31,maxLevel:40,videoList:[0,20,30,40],gold:[1,.5,.2,.1]},t[4]={minLevel:41,maxLevel:60,videoList:[0,10,20,30],gold:[1,.5,.2,.1]},t[5]={minLevel:61,maxLevel:88,videoList:[0,10,15,20],gold:[1,.5,.2,.1]},t),i=0;for(var n in e){if(iosGameData.maxSoldiersLv>=e[n].minLevel&&iosGameData.maxSoldiersLv<=e[n].maxLevel)for(var a=e[n].videoList,o=a.length-1;o>=0;o--)if(iosGameData.noEnoughVideo>=a[o]){i=e[n].gold[o];break}if(i)break}return i},showEenoughDlg:function(){var t=this.remainSoldier(),e=shopCsvData.getSolideGold(t),i=Math.round(e*this.enoughGold());UICtrl.openUI("uiIOS/uiGetRewardDlg",function(t){t.initData(i,4,!0,function(){iosGameData.add("noEnoughVideo",1),gMainMgr.playCoinsFly4(i)})})}}),cc._RF.pop()},{}],uiIOSHeroInfo:[function(t,e){"use strict";cc._RF.push(e,"9b929JEQ7tGUY2L1pMQ6o4W","uiIOSHeroInfo"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_sz.quickBt(function(){t.sp_ysz.active||(iosGameData.set("battleHeroId",2e4+t.heroid),util.showTip("\u4e0a\u9635\u6210\u529f"),t.sp_ysz.active=!0)}),this.btn_share.quickBt(function(){GM.HallUi.openShare(),UICtrl.closeUI(t)})},initData:function(t,e){this.heroid=t.General,this["sp_"+ioslockheroCsvData.getCampByID(this.heroid)].active=!0;var i=ioslockheroCsvData.getNameByID(this.heroid);i=i.split("");var n="";for(var a in i)n+=i[a]+"\n";this.lab_name.setLabel(n),this.lab_sm.setLabel(ioslockheroCsvData.getHpByID(this.heroid)),this.lab_gj.setLabel(ioslockheroCsvData.getAttackByID(this.heroid)),this.lab_ml.setLabel(ioslockheroCsvData.getCharmByID(this.heroid));var o=this.sp_role.getComponent("sp.Skeleton");gMainMgr.onChangeSkeletonData(o,ioslockheroCsvData.getActionByID(this.heroid),1,null,!0),this.type=e,"info"==e?(iosGameData.gPassPointCount>=Number(t.Unlock)?(this.sp_unlock.active=!0,this.btn_sz.active=!0):(this.lab_conditions.setLabel("\u9700\u901a\u8fc7\u7b2c"+generalCsvData.getUnlockByID(this.heroid)+"\u5173\u89e3\u9501"),this.lab_curpoint.setLabel("(\u5f53\u524d\u7b2c"+(iosGameData.gPassPointCount-1)+"\u5173)"),this.btn_sz.active=!1),iosGameData.battleHeroId==2e4+this.heroid&&(this.sp_ysz.active=!0)):(this.btn_sz.active=!1,this.sp_gx.active=!0)}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiIOSRank:[function(t,e){"use strict";cc._RF.push(e,"ca896bdy1FLWLBjagyeoFUy","uiIOSRank"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.node.setContentSize(720,GM.G_HEIGHT),this.addEvents(),this.initData()},initData:function(){this._rankList=rankCsvData.getAllDatas(),this.page_total=Math.ceil(Object.keys(this._rankList).length/8),this.page=1,this.updateRankInfo()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_last.quickBt(function(){t.page--,t.page<=0?t.page=1:t.updateRankInfo()}),this.btn_next.quickBt(function(){t.page++,t.page>t.page_total?t.page=t.page_total:t.updateRankInfo()})},updateRankInfo:function(){for(var t=this,e=function(e){var i=Number(e),n=t._rankList[8*(t.page-1)+i];n?(t["sp_kuang"+i].active=!0,n.ID<=3?(t["img_rank_"+i].active=!0,t["kuang_"+i].active=!1,t["lab_id"+i].setLabel(" ")):(t["img_rank_"+i]&&(t["img_rank_"+i].active=!1),t["kuang_"+i].active=!0,t["lab_id"+i].setLabel(n.ID)),t["lab_name"+i].setLabel(util.cutstr(n.name,15)),t["lab_fh"+i].setLabel(n.Clearance),cc.loader.load({url:"https://qhdld.yx0599.com/qhdld/head/"+n.ID+".jpg",type:"jpg"},function(e,n){e&&console.error(e),cc.isValid(t.node)&&(t["sp_head"+i].getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n))})):t["sp_kuang"+i].active=!1},i=1;i<=8;i++)e(i);this.lab_page.setLabel(this.page+"/"+this.page_total)}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiIOSSetting:[function(t,e){"use strict";cc._RF.push(e,"96b06yHL9ZLTJ8MfJClvIv7","uiIOSSetting"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.initSettingInfo(),this.initMusic(),this.addEvents()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.node_kefu.quickBt(function(){gMainMgr.onOpenService()}),this.node_exit.quickBt(function(){UICtrl.openUI("uiExit/uiExit")}),this.node_zx.quickBt(function(){UICtrl.openUI("uiExit/uiExit")}),this.btn_yhxy.quickBt(function(){UICtrl.openUI("uiSetting/uiUserAgreement")}),this.btn_yszc.quickBt(function(){UICtrl.openUI("uiSetting/uiPrivacyPolicy")})},initSettingInfo:function(){this.lbl_name.setLabel("\u6e38\u5ba2"),this.lbl_ID.setLabel("ID:"+iosGameData.userid),this.lbl_level.setLabel("\u7b2c"+iosGameData.gPassPointCount+"\u5173"),this.img_player_exp.getComponent(cc.Sprite).fillRange=iosGameData.gPassPointCount/2500},initMusic:function(){var t=this;this.btn_music_on.quickBt(function(){t.setMusicOff()},!0),this.btn_music_off.quickBt(function(){t.setMusicOn()},!0),this.btn_effect_on.quickBt(function(){t.setEffectOff()},!0),this.btn_effect_off.quickBt(function(){t.setEffectOn()},!0),1==iosGameData.settingMusic?(this.btn_music_on.active=!0,this.btn_music_off.active=!1):(this.btn_music_on.active=!1,this.btn_music_off.active=!0),1==iosGameData.settingEffect?(this.btn_effect_on.active=!0,this.btn_effect_off.active=!1):(this.btn_effect_on.active=!1,this.btn_effect_off.active=!0)},setMusicOff:function(){this.btn_music_on.active=!1,this.btn_music_off.active=!0,audioData.switchMusic(0)},setMusicOn:function(){this.btn_music_on.active=!0,this.btn_music_off.active=!1,audioData.switchMusic(1)},setEffectOff:function(){this.btn_effect_on.active=!1,this.btn_effect_off.active=!0,audioData.switchEffect(0)},setEffectOn:function(){this.btn_effect_on.active=!0,this.btn_effect_off.active=!1,audioData.switchEffect(1)},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiIOSSign:[function(t,e){"use strict";cc._RF.push(e,"14ae2gOcThHQpQbl1efXubC","uiIOSSign");var i,n=((i={})[1]={reward:1e4},i[2]={reward:3e4},i[3]={reward:5e4},i[4]={reward:1e5},i[5]={reward:15e4},i[6]={reward:3e5},i[7]={reward:5e5},i);cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){var t=this;this.addEvents(),this.initData(),this.btn_back.active=!1,this.scheduleOnce(function(){t.btn_back.active=!0},G_CLOSE_DELAY_TIME)},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_sure.quickBt(function(){iosGameData.gBTodaySign?util.showTip("\u4eca\u65e5\u5df2\u7b7e\u5230"):t.openAward()})},initData:function(){for(var t in this.mayday=0,n){var e=Number(t);this["lab_award"+e].setLabel("x"+n[e].reward),e<iosGameData.gSignDay||e==iosGameData.gSignDay&&iosGameData.gBTodaySign?(this["img_already_bg_"+e].active=!0,this["img_get_"+e].active=!0):e!=iosGameData.gSignDay||iosGameData.gBTodaySign||(this["img_light_bg_"+e].active=!0,this["img_already_bg_"+e].active=!1,util.showArtEffect("ui/effect/kelingqu",this["img_light_bg_"+e],this["img_red_icon_"+e].position,"kelingqu",null,!0,-1))}iosGameData.gBTodaySign&&(this.node_sure.active=!0,this.btn_sure.active=!1)},openAward:function(){var t=this;nativeData.showRewardAd(function(){t.getAward()})},getAward:function(){iosGameData.set("gBTodaySign",!0),this.initData(),UICtrl.openUI("uiIOS/uiGetRewardDlg",function(t){t.initData(n[iosGameData.gSignDay].reward,1)})},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiIOSTask:[function(t,e){"use strict";cc._RF.push(e,"beb7deSpSpAoqDcA3m3vvB+","uiIOSTask");var i,n,a=((i={})[10001]={order:1,title:"\u5408\u62105\u6b21",awardType:1,award:500,taskType:1,taskCount:5},i[10002]={order:2,title:"\u5408\u621010\u6b21",awardType:1,award:2500,taskType:1,taskCount:10},i[10003]={order:3,title:"\u5408\u621015\u6b21",awardType:1,award:4500,taskType:1,taskCount:15},i[10004]={order:4,title:"\u5408\u621020\u6b21",awardType:1,award:6500,taskType:1,taskCount:20},i[10005]={order:5,title:"\u5408\u621025\u6b21",awardType:1,award:8500,taskType:1,taskCount:25},i[10006]={order:6,title:"\u5408\u621030\u6b21",awardType:1,award:10500,taskType:1,taskCount:30},i[10007]={order:7,title:"\u5408\u621035\u6b21",awardType:1,award:12500,taskType:1,taskCount:35},i),o=((n={})[10001]={order:1,title:"\u7d2f\u8ba1\u901a\u8fc75\u5173",awardType:1,award:5e4,taskType:2,taskCount:5},n[10002]={order:2,title:"\u7d2f\u8ba1\u901a\u8fc720\u5173",awardType:1,award:25e4,taskType:2,taskCount:20},n[10003]={order:3,title:"\u7d2f\u8ba1\u901a\u8fc750\u5173",awardType:1,award:45e4,taskType:2,taskCount:50},n[10004]={order:4,title:"\u7d2f\u8ba1\u901a\u8fc7100\u5173",awardType:1,award:85e4,taskType:2,taskCount:100},n[10005]={order:5,title:"\u7d2f\u8ba1\u901a\u8fc7300\u5173",awardType:1,award:125e4,taskType:2,taskCount:300},n);cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents(),this.type=1,this.initData(this.type)},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_daytask.quickBt(function(){t.sp_daytask2.active=!1,t.sp_daytask1.active=!0,t.sp_alltask2.active=!0,t.sp_alltask1.active=!1,t.type=1,t.initData(t.type)},null,null,2),this.btn_alltask.quickBt(function(){t.sp_daytask1.active=!1,t.sp_daytask2.active=!0,t.sp_alltask2.active=!1,t.sp_alltask1.active=!0,t.type=2,t.initData(t.type)},null,null,2)},initData:function(t){this.node_list.removeAllChildren(),this.type=t,1==t?this.initDataEvenyDay():this.initDataAchievement()},initDataEvenyDay:function(){var t=this,e=a,i=function(i){var n=cc.instantiate(t.node_item);n.parent=t.node_list,n.lab_title.setLabel(e[i].title),n.lab_hongbao.setLabel(e[i].award+"\u91d1\u5e01"),1==e[i].taskType&&iosGameData.gCompoundCount>=e[i].taskCount?iosGameData.gDailyTask[i]?(n.btn_sure.active=!1,n.sp_lingqu.active=!0):n.btn_sure.active=!0:n.btn_unfinished.active=!0,1==e[i].taskType&&(n.lab_jindu.setLabel(iosGameData.gCompoundCount+"/"+e[i].taskCount),n.sp_jindu.getComponent(cc.Sprite).fillRange=iosGameData.gCompoundCount/e[i].taskCount),n.btn_sure.quickBt(function(){UICtrl.openUI("uiIOS/uiGetRewardDlg",function(t){t.initData(e[i].award,2,!0,function(){iosGameData.gDailyTask[i]=!0,iosGameData.set("gDailyTask",iosGameData.gDailyTask),n.btn_sure.active=!1,n.sp_lingqu.active=!0,gMainMgr.playCoinsFly4(e[i].award)})})})};for(var n in e)i(n)},initDataAchievement:function(){var t=this,e=o,i=function(i){var n=cc.instantiate(t.node_item);n.parent=t.node_list,n.lab_title.setLabel(e[i].title),n.lab_hongbao.setLabel(e[i].award+"\u91d1\u5e01"),2==e[i].taskType&&iosGameData.gPassPointCount-1>=e[i].taskCount?iosGameData.gAchieveTask[i]?(n.btn_sure.active=!1,n.sp_lingqu.active=!0):n.btn_sure.active=!0:n.btn_unfinished.active=!0,2==e[i].taskType&&(n.lab_jindu.setLabel(iosGameData.gPassPointCount-1+"/"+e[i].taskCount),n.sp_jindu.getComponent(cc.Sprite).fillRange=(iosGameData.gPassPointCount-1)/e[i].taskCount),n.btn_sure.quickBt(function(){UICtrl.openUI("uiIOS/uiGetRewardDlg",function(t){t.initData(e[i].award,2,!0,function(){iosGameData.gAchieveTask[i]=!0,iosGameData.set("gAchieveTask",iosGameData.gAchieveTask),n.btn_sure.active=!1,n.sp_lingqu.active=!0,gMainMgr.playCoinsFly4(e[i].award)})})})};for(var n in e)i(n)},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiInviteActivity:[function(t,e){"use strict";cc._RF.push(e,"2dbbbtAAm5NnbmWpMs4M0B2","uiInviteActivity"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents(),this.initData()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_recieve.quickBt(function(){webData.onRecover_friendValidActiveAwardCallBack(function(e){t.btn_alway_recieve.active=!0,t.btn_recieve.active=!1,t.btn_no_recieve.active=!1,GM.inViteUI&&GM.inViteUI.updateBCanWithDrawTip(Number(e.contribution_red_balance)),util.showTip("\u9886\u53d6\u6210\u529f")},function(e){e&&"Fail:Geted"==e.code&&(t.btn_alway_recieve.active=!0,t.btn_recieve.active=!1,t.btn_no_recieve.active=!1)})}),this.btn_no_recieve.quickBt(function(){util.showTip("\u6709\u6548\u597d\u53cb\u4eba\u6570\u4e0d\u8db3")}),this.btn_alway_recieve.quickBt(function(){util.showTip("\u5956\u52b1\u5df2\u9886\u53d6")})},initData:function(){var t=this;webData.onRecover_friendValidActivePageCallBack(function(e){var i=Number(e.invite_valid_award_cnt),n=Number(e.valid_friend_cnt);t.lbl_rich_1.getComponent(cc.RichText).string="<color=#4a3936>1.\u9080\u8bf7"+i+"\u4f4d\u597d\u53cb\uff08</c><color=#c9394d>\u597d\u53cb\u9700\u89c2\u770b"+e.verify_friend_video+"\u6b21\u89c6\u9891</c><color=#4a3936>\uff09\uff0c\u5373\u53ef\n\u83b7\u5f97</c><color=#c9394d>"+e.invite_valid_award+"\u5143\u7ea2\u5305</c><color=#4a3936>\u5956\u52b1\u3002</color>",t.lbl_rich_2.getComponent(cc.RichText).string="<color=#4a3936>2."+e.invite_valid_award+"\u5143\u7ea2\u5305\u76f4\u63a5\u7d2f\u8ba1\u5230 \u201c\u9080\u8bf7\u5956\u52b1\u201d \u754c\u9762\u7684\u805a\u5b9d\n\u76c6\u4e2d\uff0c\u53ef</c><color=#c9394d>\u76f4\u63a5\u63d0\u73b0</c><color=#4a3936>\u5230\u5fae\u4fe1\u3002</color>",t.lbl_recieve_num.setLabel(e.invite_valid_award+"\u5143"),t.lbl_rich_3.getComponent(cc.RichText).string="<color=#4a3936>\u6210\u529f\u9080\u8bf7</c><color=#c9394d>"+i+"\u4f4d</c><color=#4a3936>\u597d\u53cb</color>",t.sp_jindutiao.getComponent(cc.Sprite).fillRange=n/i,"y"==e.is_valid_award?(t.btn_alway_recieve.active=!0,t.btn_recieve.active=!1,t.btn_no_recieve.active=!1):(t.btn_alway_recieve.active=!1,n>=i?(t.btn_recieve.active=!0,t.btn_no_recieve.active=!1):(t.btn_recieve.active=!1,t.btn_no_recieve.active=!0)),t.img_qipao.x=n/i*380-190,t.lbl_qipao_desc.setLabel(n+"\u4f4d\u597d\u53cb")})},onRecieveInviteActivity:function(){},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiInviteDlg:[function(t,e){"use strict";cc._RF.push(e,"bb994B6ARhN16DywYTAG+QJ","uiInviteDlg"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){var t=this;this.btn_back.active=!1,this.scheduleOnce(function(){t.btn_back.active=!0},G_CLOSE_DELAY_TIME),this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_sure.quickBt(function(){GM.HallUi.openInvite(),UICtrl.closeUI(t)},null,null,1)}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiInviteFriendInfo:[function(t,e){"use strict";cc._RF.push(e,"99c3bvOiNBNs41UahHGnrSD","uiInviteFriendInfo"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1)},initData:function(t,e){var i=this,n=1==t?"1st":"2nd";webData.onRecover_friendChildInfoCallBack(n,e.user_id,function(t){i.intiFriendInfoShow(t)})},intiFriendInfoShow:function(t){gMainMgr.onShowHeardInfo(t.avatar_url,this.img_head),t.wx_nickname&&""!=t.wx_nickname?this.lbl_name.setLabel(t.wx_nickname):this.lbl_name.setLabel(" "),this.lbl_lv.setLabel("\u7b49\u7ea7:  "+t.game_level),this.lbl_shenfen.setLabel("\u8eab\u4efd:  "+t.child_type_text),t.parent_wx_nickname&&""!=t.parent_wx_nickname?this.lbl_master.setLabel("\u4e0a\u7ea7:  "+t.parent_wx_nickname):this.lbl_master.setLabel("\u4e0a\u7ea7:  ");var e=(Number(t.yester_day_red)/100).toFixed(2);this.lbl_count_contribution.setLabel(Number(e)),this.lbl_unit.setLabel("\u5143");var i=(Number(t.history_red)/100).toFixed(2);this.lbl_count_contribution_all.setLabel(Number(i)),this.lbl_unit_all.setLabel("\u5143")},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiInviteMasterInfo:[function(t,e){"use strict";cc._RF.push(e,"31efahcgQRFP4hC62Rg2DmD","uiInviteMasterInfo"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents(),this.onGetMasterInfo()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1)},onGetMasterInfo:function(){var t=this;webData.onRecover_friendParentInfoCallBack(function(e){t.initData(e)})},initData:function(t){gMainMgr.onShowHeardInfo(t.avatar_url,this.img_head),t.wx_nickname&&""!=t.wx_nickname?this.lbl_name.setLabel(t.wx_nickname):this.lbl_name.setLabel(" "),this.lbl_lv.setLabel("\u7b49\u7ea7:  "+t.game_level);var e=(Number(t.income)/100).toFixed(2);this.lbl_red_num.setLabel(Number(e)),this.lbl_unit.setLabel("\u5143")},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiInviteRedWallet:[function(t,e){"use strict";cc._RF.push(e,"e5abd1Kq6FBw6vIE77+Q10Z","uiInviteRedWallet"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents(),nativeData.showFeed()},addEvents:function(){var t=this;this.btn_close.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_withDrawal.quickBt(function(){t.onFriendWithDrawal()})},initData:function(t,e){this.lbl_desc.setLabel("\u9080\u8bf7\u7ea2\u5305"),this.lab_money.setLabel((Math.floor(Number(100*t))/100).toFixed(2)),this._callbcak=e},onFriendWithDrawal:function(){var t=this;webData.onRecover_inviteFriendWithDrawCallBack(function(e){t._callbcak&&t._callbcak(e),UICtrl.closeUI(t),util.showTip("\u63d0\u73b0\u6210\u529f")})},onDestroy:function(){nativeData.hideFeed()}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiInviteRule:[function(t,e){"use strict";cc._RF.push(e,"fec321d4LFFN4Y3+j6tpjvy","uiInviteRule"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1)},initData:function(t,e,i,n){this.lbl_check_point.setLabel(t),this.lbl_vaild_friend_cnt.setLabel(i),this.lbl_red_reward_1.setLabel(e),this.lbl_red_reward_2.setLabel(n)},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiInviteShare:[function(t,e){"use strict";cc._RF.push(e,"c731eBb7UJAmpVgGdZGhbUd","uiInviteShare"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_share.quickBt(function(){UICtrl.openUI("uiInvite/uiShareImg"),UICtrl.closeUI(t)})},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiInvite:[function(t,e){"use strict";cc._RF.push(e,"5ad45yiFudPU5FR0FZ9n5RN","uiInvite"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){GM.inViteUI=this,this.node.setContentSize(720,GM.G_HEIGHT),this.addEvents(),this.initData(),this.sp_show.y+=util.getDisHeight()/2},addEvents:function(){var t=this;this.btn_back.quickBt(function(){gMainMgr.closeDlgAction(t.sp_bg,GM.HallUi.btn_invitation,function(){UICtrl.closeUI(t)})},null,null,1),this.btn_parent.quickBt(function(){UICtrl.openUI("uiInvite/uiInviteMasterInfo")}),this.btn_record.quickBt(function(){UICtrl.openUI("uiInvite/uiContributionRecord")}),this.btn_rule.quickBt(function(){UICtrl.openUI("uiInvite/uiInviteRule",function(e){e.initData(t._inviteData.valid_friend_video,t._inviteData.task_award,t._inviteData.invite_valid_award_cnt,t._inviteData.invite_valid_award)})}),this.btn_addfriend.quickBt(function(){UICtrl.openUI("uiInvite/uiFriendsRecruit")}),this.btn_receive.quickBt(function(){t.isCheckWaitingRed?t.getContribute():util.showTip("\u65e0\u5956\u52b1\u53ef\u9886\u53d6")}),this.btn_withdraw.quickBt(function(){UICtrl.openUI("uiInvite/uiMyWallet")}),this.btn_more_friends1.quickBt(function(){t.sp_more_friends1.active=!1,t.openOneFriends(1)}),this.btn_more_friends2.quickBt(function(){t.sp_more_friends2.active=!1,t.openOneFriends(2)}),this.sp_tip.quickBt(function(){t.sp_tip.active=!1},!0);for(var e=1;e<10;e++)this["btn_add"+e].quickBt(function(){GM.HallUi.openShare()}),this["sp_gift"+e].initpos=this["sp_gift"+e].position;this.btn_share.quickBt(function(){GM.HallUi.openShare()}),this.btn_diaocan.quickBt(function(){UICtrl.openUI("uiInvite/uiInviteActivity")}),this.btn_jbp.quickBt(function(){UICtrl.openUI("uiInvite/uiMyWallet")})},initData:function(){var t=this;webData.onRecover_inviteFriendPageDataCallBack(function(e){t._inviteData=e,t.updateBCanWithDrawTip(Number(e.contribution_red_balance)),t.initFriendPageData(e),t.scheduleOnce(function(){t.startNotice(e.notice_list)},3)})},initFriendPageData:function(t){this.updateBCanWithDrawTip(Number(t.contribution_red_balance)),this.lab_first.setLabel("("+t.p1st_friend_cnt+"\u4eba)"),this.lab_scend.setLabel("("+t.p2nd_friend_cnt+"\u4eba)"),this.lab_dlq.setLabel((Number(t.waiting_red)/100).toFixed(2)),this.lbl_unit.setLabel("\u5143"),this.lab_point.setLabel("\u597d\u53cb\u9700\u89c2\u770b"+t.valid_friend_video+"\u6b21\u89c6\u9891"),this.lab_yuan.setLabel("\u597d\u53cb\u9a8c\u8bc1\u6210\u529f\u65f6\uff0c\u60a8\u53ef\u4ee5\u83b7\u5f97\u66f4\u591a\u7ea2\u5305\u5956\u52b1"),this.updateAddRPoint("y"==t.has_task_award),this.setp1list(t.p1st_list),this.setp2list(t.p2nd_list),"y"==t.has_parent&&(this.btn_parent.active=!0),Number(t.p1st_friend_cnt)>3&&(this.btn_more_friends1.active=!0),Number(t.p2nd_friend_cnt)>6&&(this.btn_more_friends2.active=!0),Number(t.waiting_red)>0?(this.isCheckWaitingRed=!0,this.sp_bgbubble.active=!0):this.sp_bgbubble.active=!1,this.lab_add.setLabel(t.task_award+"y"),this.lab_diaocan.setLabel(t.invite_valid_award+"y"),this.btn_diaocan.active="y"==t.is_open_friend_active,this.btn_addfriend.active="y"==t.is_open_invite_friend_award},updateBCanWithDrawTip:function(t){this._iCanWithDrawRedNum=Number(t)/100,this.lab_red.setLabel((Math.floor(100*this._iCanWithDrawRedNum)/100).toFixed(2)+"y")},setp1list:function(t){for(var e=this,i=t,n=function(t){var n=Number(t)+1;i[t]&&(e["btn_add"+n].active=!1,e["sp_head"+n].active=!0,e["sp_bgtxt"+n].active=!0,e["sp_txt"+n].active=!0,gMainMgr.onShowHeardInfo(i[t].avatar_url,e["sp_head"+n]),e["lab_nickname"+n].setLabel(i[t].wx_nickname),Number(i[t].waiting_contribution)>0&&(e["sp_gift"+n].active=!0,e["lab_gift"+n].setLabel((Number(i[t].waiting_contribution)/100).toFixed(2)+"\ny"),e["sp_gift"+n].quickBt(function(){e.getContribute()})),e["lab_gx"+n].setLabel((Number(i[t].today_contribution)/100).toFixed(2)+"y"),"n"==i[t].is_verify?(e["sp_unverified"+n].active=!0,e["sp_unverified"+n].quickBt(function(){e.sptipshow(n)}),e["sp_head"+n].quickBt(function(){e.sptipshow(n)})):e["sp_head"+n].quickBt(function(){e.openFirendInfo(1,i[t])}),"y"==i[t].is_new_people&&(e["sp_new"+n].active=!0))},a=0;a<3;a++)n(a)},setp2list:function(t){for(var e=this,i=t,n=function(t){var n=Number(t)+4;i[t]&&(e["btn_add"+n].active=!1,e["sp_head"+n].active=!0,e["sp_bgtxt"+n].active=!0,e["sp_txt"+n].active=!0,gMainMgr.onShowHeardInfo(i[t].avatar_url,e["sp_head"+n]),e["lab_nickname"+n].setLabel(i[t].wx_nickname),Number(i[t].waiting_contribution)>0&&(e["sp_gift"+n].active=!0,e["lab_gift"+n].setLabel((Number(i[t].waiting_contribution)/100).toFixed(2)+"\ny"),e["sp_gift"+n].quickBt(function(){e.getContribute()})),e["lab_gx"+n].setLabel((Number(i[t].today_contribution)/100).toFixed(2)+"y"),"n"==i[t].is_verify?(e["sp_unverified"+n].active=!0,e["sp_unverified"+n].quickBt(function(){e.sptipshow(n)}),e["sp_head"+n].quickBt(function(){e.sptipshow(n)})):e["sp_head"+n].quickBt(function(){e.openFirendInfo(2,i[t])}),"y"==i[t].is_new_people&&(e["sp_new"+n].active=!0))},a=0;a<6;a++)n(a)},openOneFriends:function(t){var e=UICtrl.findUI("uiInvite/uiOneFriends");e||cc.isValid(e)||UICtrl.openUI("uiInvite/uiOneFriends",function(e){e.initData(t)})},openFirendInfo:function(t,e){var i=UICtrl.findUI("uiInvite/uiInviteFriendInfo");i||cc.isValid(i)||UICtrl.openUI("uiInvite/uiInviteFriendInfo",function(i){i.initData(t,e)})},onDestroy:function(){this.unscheduleAllCallbacks(),GM.inViteUI=void 0},getContribute:function(t){var e=this;if(!t)for(var i=function(t){var i=Number(t)+1;e["sp_gift"+i].active&&e["sp_gift"+i].runAction(cc.sequence(cc.moveTo(.5,0,262),cc.callFunc(function(){e["sp_gift"+i].active=!1})))},n=0;n<8;n++)i(n);setTimeout(function(){webData.onRecover_friendGetContributeCallBack(function(){t&&t();for(var i=0;i<8;i++){var n=Number(i)+1;e["btn_add"+n].active=!0,e["sp_head"+n].active=!1,e["lab_nickname"+n].setLabel(""),e["sp_gift"+n].active=!1,e["sp_gift"+n].position=e["sp_gift"+n].initpos,e["lab_gx"+n].setLabel(""),e["sp_unverified"+n].active=!1,e["sp_new"+n].active=!1}e.initData()},function(t){util.showTip(t.message)})},1e3)},updateAddRPoint:function(){},sptipshow:function(t){this.sp_tip1.x=[-30,220,30,-120,0,120,-120,0,120][t-1],this.sp_tip1.y=this["btn_add"+t].y,this.sp_tip.active=!0},startNotice:function(t){var e=this;this.sp_show.active=!0,this.layout_notice.stopAllActions(),this.layout_notice.removeAllChildren();var i=[],n=t.length;if(n<=0)this.sp_show.active=!1;else{this.sp_show.active=!0;for(var a=0;a<1;a++)for(var o=0;o<n;o++){var s=cc.instantiate(this.item_notice);s.active=!0,s.parent=this.layout_notice,s.position=cc.v2(250,0),s.lab_notice.setLabel("<color=#a6ffaa>"+t[o].wx_nickname+"</c><color=#ffffff>\u9080\u8bf7\u597d\u53cb\u6210\u529f\u63d0\u73b0</c><color=#ff4343>"+(Number(t[o].amount)/100).toFixed(2)+"\u5143</c>");var r=cc.moveBy(5,cc.v2(-450-s.lab_notice.width,0)),c=cc.delayTime(.1),l=cc.sequence(c,r,cc.removeSelf());i.push(cc.targetedAction(s,l))}var u=cc.callFunc(function(){e.sp_show.active=!1});i.push(cc.targetedAction(this.sp_show,u)),this.layout_notice.runAction(cc.sequence(i))}}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiLevelRedDesc:[function(t,e){"use strict";cc._RF.push(e,"1af34Ko7/FEqLfeeQk7AAPy","uiLevelRedDesc"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_sure.quickBt(function(){UICtrl.closeUI(t)}),this.btn_clxq.quickBt(function(){UICtrl.openUI("uiLevelRed/uiMyWalletMsg",function(t){t.initDataMsg("qb")})})},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiLevelRedWithDraw:[function(t,e){"use strict";cc._RF.push(e,"d9a5f8KfbNL85oVBBBxzWqH","uiLevelRedWithDraw"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents(),this.lbl_desc.setLabel("\u63d0\u73b0\u81f3\u5fae\u4fe1\u7ea2\u5305"),this.lbl_unit.setLabel("\u5143"),gameData.ifGuide&&gMainMgr.setShowAd()},addEvents:function(){var t=this;this.btn_withDraw.quickBt(function(){t._acceptCallBack&&t._acceptCallBack()}),this.btn_close.quickBt(function(){UICtrl.closeUI(t)},null,null,1)},initData:function(t,e){var i=this;this._acceptCallBack=e,this.lab_money.setLabel(t),gMainMgr.playBtnBreatheEffect1(this.btn_withDraw),this.scheduleOnce(function(){i.btn_close.active=!0},G_CLOSE_DELAY_TIME)}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiLevelRed:[function(t,e){"use strict";cc._RF.push(e,"04ef7TNgLVBDIk5MJgLMVdF","uiLevelRed"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.onResizeLevelRed(),this.addEvents(),this.initData()},onResizeLevelRed:function(){this.node.setContentSize(720,GM.G_HEIGHT)},addEvents:function(){var t=this;this.img_back.quickBt(function(){console.log("\u70b9\u51fb\u4e86\u8fd4\u56de\u6309\u94ae"),gameData.ifGuide||nativeData.showIOSComent(),gGuideMgr.runStep(9),gMainMgr.closeDlgAction(t.sp_bg,GM.HallUi.node_red,function(){UICtrl.closeUI(t)})}),this.img_wenhao.quickBt(function(){UICtrl.openUI("uiLevelRed/uiLevelRedDesc")}),this.btn_withDrawal.quickBt(function(){t.onGotoWallet()}),this.btn_toclockIn.quickBt(function(){t.onWalletToclockIn()}),this.btn_toclockIn_always.quickBt(function(){util.showTip("\u4eca\u65e5\u5df2\u6253\u5361")})},initData:function(){var t=this;gameData.on("red_balance",function(e){t.lbl_witthdraw.setLabel(e),t.lbl_all_money.setLabel("\u2248"+(Math.floor(e/1e4*100)/100).toFixed(2)+"\u5143"),t.onShowWalletRequire(t.selectId)}),this._myWalletItemList=[],this._alwayWalletMoneyList=gameData.uiLevelRedData.alwayWalletMoneyList||[],this.selectId=-1,this.getWalletData()},onDestroy:function(){gameData.off("red_balance")},getWalletData:function(t){var e=this;webData.onRecover_barPageDataCallBack(function(t){e.initLevelRedWithDrawList(t)},function(i){util.showTip(i.message),t&&UICtrl.closeUI(e)})},initLevelRedWithDrawList:function(t){var e=this;if(t){this._process_bar=t.process_bar,this.process_bar_list=t.process_bar_list;for(var i=0;i<t.process_bar_list.length;i++)t.process_bar_list[i].level>gameData.maxSoldiersLv&&(t.process_bar_list[i].status="doing_lock");i=-1;for(var n=this.process_bar_list.length,a=0;a<n;a++)if("done"!=this.process_bar_list[a].status&&i<0){i=a;break}i-=1,this.levelred_scrollview.getComponent("uiScrollView").resetData(this.process_bar_list,this.createItem.bind(this),i),this._user_sign_cnt=t.user_sign_cnt,this._sign_total_days=t.sign_total_days,this._today_video_cnt=t.today_video_cnt,this._video_config_cnt=t.video_config_cnt,Number(t.video_config_cnt)>1?(this.lbl_toclockIn_tip.active=!0,this.lbl_toclockIn.y=15):(this.lbl_toclockIn_tip.active=!1,this.lbl_toclockIn.y=0);var o=t.amount_list;this._amountListInfo=t.amount_list,this.node_amont.removeAllChildren();var s=function(t){var i=cc.instantiate(e.node_item);i.parent=e.node_amont,i.active=!0,e._myWalletItemList[t]=i,e.updateItem(t,o[t]),i.quickBt(function(){e.updateItemSelect(t)})};for(var r in o)s(r);this.updateItemSelect(0),"waiting"==t.user_sign_status?(this.btn_toclockIn.active=!0,this.btn_toclockIn_always.active=!1):"today_done"==t.user_sign_status?(this.btn_toclockIn.active=!1,this.btn_toclockIn_always.active=!0):"done"==t.user_sign_status&&(this.btn_toclockIn.active=!1,this.btn_toclockIn_always.active=!1)}},updateItem:function(t,e){var i=this._myWalletItemList[t];i.lbl_amount.setLabel(e.amount),i.lbl_amount_unit.setLabel("\u5143")},updateItemSelect:function(t){if(this.selectId!=t){for(var e in this.selectId=t,this._myWalletItemList){var i=this._myWalletItemList[e];e==t?(i.img_select.active=!0,i.lbl_amount_unit.color=new cc.Color(255,255,255),i.lbl_amount.color=new cc.Color(255,255,255)):(i.img_select.active=!1,i.lbl_amount_unit.color=new cc.Color(151,95,18),i.lbl_amount.color=new cc.Color(151,95,18))}this.onShowWalletRequire(this.selectId)}},createItem:function(t,e,i){var n=this,a=i;a&&(e.lbl_red_num.setLabel(a.amount+"\u5143"),a.level?"done"==a.status?(e.img_process.active=!0,e.img_process.y=-13,e.img_no_jiesuo_bg.active=!1,e.lbl_redDesc.active=!1,e.img_process.getComponent(cc.Sprite).fillRange=1,e.lbl_process_num.setLabel("100%"),e.btn_have_withdraw.active=!0,e.btn_cannot_withdraw.active=!1,e.btn_withdraw.active=!1,e.img_lock.active=!1,e.lbl_item_title.setLabel(a.level+"\u7ea7\u7ea2\u5305\u5df2\u89e3\u9501")):"waiting"==a.status?(e.img_process.active=!0,e.img_process.y=-13,e.img_no_jiesuo_bg.active=!1,e.lbl_redDesc.active=!1,e.img_process.getComponent(cc.Sprite).fillRange=1,e.lbl_process_num.setLabel("100%"),e.btn_withdraw.active=!0,e.btn_have_withdraw.active=!1,e.btn_cannot_withdraw.active=!1,e.img_lock.active=!1,e.lbl_item_title.setLabel(a.level+"\u7ea7\u7ea2\u5305\u5df2\u89e3\u9501")):"doing"==a.status?(e.img_process.active=!0,e.img_process.y=-13,e.img_no_jiesuo_bg.active=!1,e.lbl_redDesc.active=!0,e.lbl_redDesc.stopAllActions(),this._bPlayAction||(e.lbl_redDesc.runAction(cc.repeat(cc.sequence(cc.delayTime(.1),cc.scaleTo(.7,1.3,1.3),cc.scaleTo(.7,1,1)),3)),this._bPlayAction=!0),e.img_process.getComponent(cc.Sprite).fillRange=Number(a.progress)/100,e.lbl_process_num.setLabel((Math.floor(100*Number(a.progress))/100).toFixed(2)+"%"),e.btn_have_withdraw.active=!1,e.btn_cannot_withdraw.active=!0,e.img_cannot_jiesuo.active=!1,e.btn_withdraw.active=!1,e.img_lock.active=!1,e.lbl_item_title.setLabel(a.level+"\u7ea7\u7ea2\u5305\u5df2\u89e3\u9501")):"waiting_begin"==a.status?(e.img_process.active=!0,e.img_process.y=-13,e.img_process.getComponent(cc.Sprite).fillRange=0,e.lbl_redDesc.active=!0,e.lbl_redDesc.stopAllActions(),e.lbl_process_num.setLabel("0%"),e.img_no_jiesuo_bg.active=!1,e.btn_have_withdraw.active=!1,e.btn_cannot_withdraw.active=!0,e.img_cannot_jiesuo.active=!1,e.btn_withdraw.active=!1,e.img_lock.active=!1,e.lbl_item_title.setLabel(a.level+"\u7ea7\u7ea2\u5305\u5df2\u89e3\u9501")):"finish_lock"==a.status?(e.img_process.active=!0,e.img_process.y=-15,e.lbl_redDesc.active=!1,e.img_process.getComponent(cc.Sprite).fillRange=1,e.lbl_process_num.setLabel("100%"),e.img_no_jiesuo_bg.active=!0,e.img_lock.active=!0,e.lbl_item_title.setLabel("\u8fbe\u5230"+a.level+"\u7ea7\u89e3\u9501"),e.btn_have_withdraw.active=!1,e.btn_cannot_withdraw.active=!0,e.img_cannot_jiesuo.active=!0,e.btn_withdraw.active=!1):"doing_lock"==a.status?(e.img_no_jiesuo_bg.active=!0,e.lbl_item_title.setLabel("\u8fbe\u5230"+a.level+"\u7ea7\u89e3\u9501"),e.img_process.active=!0,e.img_process.y=-15,e.lbl_redDesc.active=!0,e.lbl_redDesc.stopAllActions(),e.img_lock.active=!0,e.img_process.getComponent(cc.Sprite).fillRange=Number(a.progress)/100,e.lbl_process_num.setLabel((Math.floor(100*Number(a.progress))/100).toFixed(2)+"%"),e.btn_have_withdraw.active=!1,e.btn_cannot_withdraw.active=!0,e.img_cannot_jiesuo.active=!0,e.btn_withdraw.active=!1):"waiting_begin_lock"==a.status&&(e.img_process.active=!0,e.img_process.y=-15,e.img_no_jiesuo_bg.active=!0,e.lbl_redDesc.active=!0,e.lbl_redDesc.stopAllActions(),e.img_lock.active=!0,e.lbl_item_title.setLabel("\u8fbe\u5230"+a.level+"\u7ea7\u89e3\u9501"),e.img_process.getComponent(cc.Sprite).fillRange=0,e.lbl_process_num.setLabel("0%"),e.btn_have_withdraw.active=!1,e.btn_cannot_withdraw.active=!0,e.img_cannot_jiesuo.active=!0,e.btn_withdraw.active=!1):(e.img_process.active=!0,e.img_process.y=-13,e.img_no_jiesuo_bg.active=!1,e.lbl_redDesc.active=!1,e.lbl_process_num.setLabel("100%"),e.img_process.getComponent(cc.Sprite).fillRange=1,e.lbl_item_title.setLabel("\u65b0\u4eba\u7ea2\u5305"),gameData.ifGuide?(e.btn_cannot_withdraw.active=!1,"done"==a.status?(e.btn_have_withdraw.active=!0,e.btn_withdraw.active=!1):(e.btn_have_withdraw.active=!1,e.btn_withdraw.active=!0),e.img_lock.active=!1):this.showNewAction(e)),e.btn_cannot_withdraw.quickBt(function(){util.showTip("\u5f53\u524d\u7ea2\u5305\u8fdb\u5ea6\u8fd8\u672a\u8fbe\u5230100%")}),e.btn_withdraw.quickBt(function(){UICtrl.openUI("uiLevelRed/uiLevelRedWithDraw",function(t){gGuideMgr.runStep(6),t.initData(a.amount,function(){a.level?webData.onRecover_barWithdrawCallBack(a.level,function(){i.status="done",e.btn_withdraw.active=!1,e.btn_have_withdraw.active=!0,UICtrl.closeUI("uiLevelRed/uiLevelRedWithDraw"),util.showTip("\u63d0\u73b0\u6210\u529f")},function(t){util.showTip(t.message)}):webData.onRecover_firstWithdrawCallBack(function(){i.status="done",gGuideMgr.runStep(7),e.btn_withdraw.active=!1,e.btn_have_withdraw.active=!0,UICtrl.closeUI("uiLevelRed/uiLevelRedWithDraw"),util.showTip("\u5df2\u6210\u529f\u63d0\u73b0\u5230\u5fae\u4fe1\u94b1\u5305\uff01"),n.newPeopleWithdraw=!0,setTimeout(function(){gGuideMgr.runStep(8)},1800)},function(t){util.showTip(t.message)})})})}))},showNewAction:function(t){this.newPeopleWithdraw||gameData.ifGuide||(this.newPeopleNode=t,this.newPeopleNode.img_process.active=!0,this.newPeopleNode.btn_have_withdraw.active=!1,this.newPeopleNode.fillRange=0,this.newPeopleNode.img_process.getComponent(cc.Sprite).fillRange=this.newPeopleNode.fillRange,this.newPeopleNode.btn_cannot_withdraw.active=!0,this.newPeopleNode.btn_withdraw.active=!1,this.newPeopleNode.img_lock.active=!1,this.newPeopleNode.only=!1)},update:function(){if(this.newPeopleWithdraw){if(!this.newPeopleNode)return;this.newPeopleNode.btn_withdraw.active=!1,this.newPeopleNode.btn_have_withdraw.active=!0,this.newPeopleNode.btn_cannot_withdraw.active=!1}else if(this.newPeopleNode){if(this.newPeopleNode.fillRange>1)return void(this.newPeopleNode.only||(this.newPeopleNode.btn_cannot_withdraw.active=!1,this.newPeopleNode.btn_withdraw.active=!0,gGuideMgr.runStep(5),this.newPeopleNode.only=!0));this.newPeopleNode.img_process.getComponent(cc.Sprite).fillRange=this.newPeopleNode.fillRange+=.01}},getCanWalletIsAlwary:function(t){return t<=0||!(!this._alwayWalletMoneyList||!this._alwayWalletMoneyList[t-1])},onShowWalletRequire:function(t){this._amountListInfo?gameData.red_balance<1e4*Number(this._amountListInfo[this.selectId].amount)?(this.node_toclockIn.active=!1,this.btn_withDrawal.y=130):this.getCanWalletIsAlwary(t)?this._user_sign_cnt>=this._sign_total_days?(this.node_toclockIn.active=!1,this.btn_withDrawal.y=130):(this.btn_withDrawal.y=66,this.node_toclockIn.active=!0,this.lbl_toclockIn.setLabel("\u6253\u5361"+this._sign_total_days+"\u6b21\u53ef\u63d0\u73b0\uff0c\u5df2\u6253\u5361"+this._user_sign_cnt+"/"+this._sign_total_days+"\u6b21"),this.lbl_toclockIn_tip.setLabel("\uff08\u672c\u6b21\u6253\u5361\u9700\u89c2\u770b"+this._video_config_cnt+"\u4e2a\u89c6\u9891\uff0c\u5f53\u524d"+this._today_video_cnt+"/"+this._video_config_cnt+"\uff09")):(this.node_toclockIn.active=!1,this.btn_withDrawal.y=130):(this.node_toclockIn.active=!1,this.btn_withDrawal.y=130)},onGotoWallet:function(){var t=this;this.selectId<0?util.showTip("\u8bf7\u9009\u4e2d\u63d0\u73b0\u91d1\u989d"):null!=this._amountListInfo&&null!=this._amountListInfo[this.selectId]?1==this.getCanWalletIsAlwary(this.selectId)?gameData.red_balance<1e4*Number(this._amountListInfo[this.selectId].amount)?util.showTip("\u91d1\u989d\u4e0d\u8db3\uff0c\u65e0\u6cd5\u63d0\u73b0"):this._user_sign_cnt<this._sign_total_days?util.showTip("\u9700\u518d\u6253\u5361"+(this._sign_total_days-this._user_sign_cnt)+"\u6b21"):webData.sign_withdrawCallBack(this._amountListInfo[this.selectId].amount,function(){t._alwayWalletMoneyList[t.selectId]=!0,gameData.uiLevelRedData.alwayWalletMoneyList=t._alwayWalletMoneyList,gameData.set("uiLevelRedData",gameData.uiLevelRedData)},function(t){util.showTip(t.message)}):util.showTip("\u9700\u63d0\u73b0\u4e0a\u4e00\u6863\u91d1\u989d"):util.showTip("\u914d\u7f6e\u8bfb\u53d6\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")},onWalletToclockIn:function(){var t=this;nativeData.showRewardAd(function(){webData.sign_videoCallBack(function(e){"video"==e.data.opearate_type?(t._today_video_cnt=Number(t._today_video_cnt)+1,t.onShowWalletRequire(t.selectId),util.showTip("\u518d\u89c2\u770b"+(t._video_config_cnt-t._today_video_cnt)+"\u6b21\u5e7f\u544a\u53ef\u6253\u5361\u6210\u529f")):"sign"==e.data.opearate_type&&(t._today_video_cnt=t._video_config_cnt,t._user_sign_cnt=Number(t._user_sign_cnt)+1,t.btn_toclockIn.active=!1,t.btn_toclockIn_always.active=!0,t.onShowWalletRequire(t.selectId),util.showTip("\u6253\u5361\u6210\u529f"))},function(t){util.showTip(t.message)})},function(){})}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiLimit:[function(t,e){"use strict";cc._RF.push(e,"39442CGLPNH5rmqu/WYkvBN","uiLimit"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.getLimitData(),this.addEvents(),this.lab_yuan.setLabel("\u5143"),this.lab_red1.setLabel("\u5143")},addEvents:function(){var t=this;this.btn_back.quickBt(function(){gMainMgr.closeDlgAction(t.sp_bg,GM.HallUi.btn_xianshi,function(){UICtrl.closeUI(t)})},null,null,1),this.btn_sure.quickBt(function(){"waiting_sign_up"==t.status?t.getSignUpData():"waiting_get_two"==t.status?nativeData.showRewardAd(function(){t.getWaitingData()},function(){}):"waiting_get_three"==t.status&&nativeData.showRewardAd(function(){t.getWaitingData()},function(){})})},onDestroy:function(){},initData:function(){},getLimitData:function(){var t=this;webData.limit_time_pageCallBack(function(e){t.updateData(e.data)},function(t){util.showTip(t.message)})},updateData:function(t){this.lab_red.setLabel("\uffe5"+Math.round(Number(t.award))/100),this.lab_money.setLabel(Math.round(Number(t.award))/100),this.status=t.status,this.award=t.award,this.btn_sure.active=!1,this.sp_bm.active=!1,this.btn_bmf.active=!1,this.sp_lq.active=!1,"waiting_sign_up"==t.status?(this.btn_sure.active=!0,this.sp_bm.active=!0,this.node_award.active=!0):"sign_up_done"==t.status?(this.btn_bmf.active=!0,this.node_award.active=!0):"waiting_get_two"==t.status?(this.btn_sure.active=!0,this.sp_lq.active=!0,this.btn_sure.y=51):"get_two_done"==t.status?(this.btn_bmf.active=!0,this.node_award.active=!0):"waiting_get_three"==t.status?(this.btn_sure.active=!0,this.sp_lq.active=!0,this.btn_sure.y=51):"done"==t.status&&(UICtrl.closeUI(this),GM.HallUi.btn_xianshi.active=!1)},getSignUpData:function(){var t=this;webData.limit_time_sign_upCallBack(function(){t.btn_sure.active=!1,t.sp_bm.active=!1,t.btn_bmf.active=!0,t.node_award.active=!0,util.showTip("\u62a5\u540d\u6210\u529f")},function(t){util.showTip(t.message)})},getWaitingData:function(){var t=this;webData.limit_time_get_awardCallBack(this.award,function(e){var i=100*Number(e.data.red_award);gMainMgr.onShowCommonGetRed(1,i,G_REWARD_TYPE.REWARD_TYPE_RED,G_OPEN_RED_TYPE.RED_LIMIT_REWARD,function(){gMainMgr.playCoinsFly(i)},function(){gMainMgr.playCoinsFly(i)}),t.getLimitData()},function(t){util.showTip(t.message)})}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiMyWalletDetail:[function(t,e){"use strict";cc._RF.push(e,"e12a460LhxHab+AQlPVmxva","uiMyWalletDetail"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents(),this.initData()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1)},initData:function(){var t=this;webData.onRecover_inviteFriendRedLogCallBack(function(e){t.initWalletDetailList(e)})},initWalletDetailList:function(t){!t||t.length<=0?this.img_emtry.active=!0:(this.img_emtry.active=!1,this.detail_scrollview.getComponent("uiScrollView").resetData(t,this.createItem.bind(this),0))},createItem:function(t,e,i){var n=i;if(n){e.lbl_title.setLabel(n.description);var a=Number(n.amount)/100;a>=0?(e.lbl_red_num.color=new cc.Color(244,81,66),e.lbl_RedUnit.color=new cc.Color(244,81,66)):(e.lbl_red_num.color=new cc.Color(22,86,15),e.lbl_RedUnit.color=new cc.Color(22,86,15)),e.lbl_red_num.setLabel(a.toFixed(2)),e.lbl_time.setLabel(n.create_time),e.lbl_RedUnit.setLabel("\u5143")}},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiMyWalletMsg:[function(t,e){"use strict";cc._RF.push(e,"a6f6bExr6RAkrv8SYy32Lza","uiMyWalletMsg"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents(),this.lab_qb.setLabel("1.\u6e38\u620f\u4e2d\u662f\u6ca1\u6709\u4efb\u4f55\u5145\u503c\u5165\u53e3\u7684\uff0c\u4e0d\u9700\u8981\u7528\u6237\u82b1\u4e00\u5206\u94b1\uff0c\u82e5\u51fa\u73b0\u5145\u503c\u5165\u53e3\uff0c\u4e00\u5b9a\u662f\u5047\u300a\u79e6\u6c49\u5927\u4e71\u6597\u300b\uff0c\u656c\u8bf7\u73a9\u5bb6\u6ce8\u610f\n2.\u672capp\u7528\u6237\u53ef\u4ee5\u5728\u6e38\u620f\u4e2d\u6536\u96c6\u5e76\u7d2f\u8ba1\u7ea2\u5305\u8fdb\u5ea6\u4e0e\u7ea2\u5305\uff0c\u7ea2\u5305\u630910000\uff1a1\u6bd4\u4f8b\n3.\u7ea2\u5305\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u9014\u5f84\u83b7\u5f97\uff1a\na\uff09\u95ef\u5173\u6740\u6b7b\u654c\u65b9boss\u6389\u843d\nb\uff09\u5408\u6210\u58eb\u5175\u8d60\u9001\nc\uff09\u6210\u6e38\u620f\u5185\u5b8c\u6210\u4efb\u52a1\u3001\u9886\u5728\u7ebf\u5956\u52b1\u3001\u7a7a\u6295\u5956\u52b1\u7b49\u5404\u5904\u529f\u80fd\u4ea7\u51fa\n4.\u63d0\u73b0\u9700\u8981\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\uff08\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\uff09\na\uff09\u5fae\u4fe1\u5b9e\u540d\u7528\u6237\uff0c\u4e14\u7ed1\u5b9aapp\nb\uff09\u5fae\u4fe1\u8d26\u53f7\u4e0d\u5b58\u5728\u4e0d\u826f\u72b6\u6001\uff0c\u4f8b\u5982\uff1a\u9501\u5b9a\u3001\u5c01\u505c\u7b49\u7b49\uff0c\u6b64\u60c5\u51b5\u8bf7\u54a8\u8be2\u5fae\u4fe1\u5e73\u53f0\uff0c\u4e0eapp\u65e0\u5173\nc\uff09\u4e0d\u5b58\u5728\u6076\u610f\u5237\u53f7\uff0c\u7834\u89e3\u5305\u4f53\u7b49\u7b49\uff0c\u7834\u574f\u6e38\u620f\u5e73\u8861\u884c\u4e3a\uff0c\u4f8b\u5982\uff1a\u50f5\u5c38\u53f7\u3001\u5927\u91cf\u540cIP\u767b\u5f55\u7b49\u7b49\n5.\u672c\u516c\u53f8\u4fdd\u8bc1\u4e0d\u5bf9\u5916\u516c\u5f00\u6216\u5411\u4efb\u4f55\u7b2c\u4e09\u65b9\u63d0\u4f9b\u60a8\u7684\u63d0\u73b0\u8d26\u53f7\u53ca\u4fe1\u606f\uff0c\u4f46\u662f\u5b58\u5728\u4e0b\u5217\u60c5\u5f62\u4e4b\u4e00\u7684\u9664\u5916\uff1a\na\uff09\u516c\u5f00\u6216\u63d0\u4f9b\u76f8\u5173\u4fe1\u606f\u4e4b\u524d\u83b7\u5f97\u60a8\u8bb8\u53ef\u7684\uff1b\nb\uff09\u6839\u636e\u6cd5\u5f8b\u6216\u653f\u7b56\u7684\u89c4\u5b9a\u800c\u516c\u5f00\u6216\u63d0\u4f9b\u7684\uff1b\nc\uff09\u53ea\u6709\u516c\u5f00\u6216\u63d0\u4f9b\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\uff0c\u624d\u80fd\u63d0\u4f9b\u60a8\u9700\u8981\u7684\u672c\u516c\u53f8\u6e38\u620f\u670d\u52a1\u7684\uff1b\nd\uff09\u6839\u636e\u56fd\u5bb6\u6743\u529b\u673a\u5173\u8981\u6c42\u516c\u5f00\u6216\u63d0\u4f9b\u7684\uff1b\ne\uff09\u6839\u636e\u672c\u534f\u8bae\u5176\u4ed6\u6761\u6b3e\u7ea6\u5b9a\u800c\u516c\u5f00\u6216\u63d0\u4f9b\u7684\uff1b\n6.\u60a8\u5728\u4f7f\u7528\u672c\u516c\u53f8\u6e38\u620f\u670d\u52a1\u8fc7\u7a0b\u4e2d\u6709\u5982\u4e0b\u884c\u4e3a\u7684\uff0c\u672c\u516c\u53f8\u5c06\u89c6\u60c5\u8282\u4e25\u91cd\u7a0b\u5ea6\uff0c\u4f9d\u636e\u6e38\u620f\u63d0\u73b0\u89c4\u5219\u7684\u89c4\u5b9a\uff0c\u5bf9\u60a8\u505a\u51fa\u6682\u65f6\u6216\u6c38\u4e45\u6027\u5730\u7981\u6b62\u767b\u5f55\u3001\u5220\u9664\u6e38\u620f\u8d26\u53f7\u53ca\u6e38\u620f\u6570\u636e\u3001\u5220\u9664\u76f8\u5173\u4fe1\u606f\u7b49\u5904\u7406\u63aa\u65bd\uff0c\u60c5\u8282\u4e25\u91cd\u7684\u5c06\u79fb\u4ea4\u6709\u5173\u884c\u653f\u7ba1\u7406\u673a\u5173\u7ed9\u4e88\u884c\u653f\u5904\u7f5a\uff0c\u6216\u8005\u8ffd\u7a76\u60a8\u7684\u5211\u4e8b\u8d23\u4efb\uff1a\na\uff09\u4ee5\u67d0\u79cd\u65b9\u5f0f\u6697\u793a\u6216\u4f2a\u79f0\u672c\u516c\u53f8\u5185\u90e8\u5458\u5de5\u6216\u67d0\u79cd\u7279\u6b8a\u8eab\u4efd\uff0c\u4f01\u56fe\u5f97\u5230\u4e0d\u6b63\u5f53\u5229\u76ca\u6216\u5f71\u54cd\u5176\u4ed6\u7528\u6237\u6743\u76ca\u7684\u884c\u4e3a\uff1b\nb\uff09\u4ee5\u4efb\u4f55\u65b9\u5f0f\u7834\u574f\u672c\u516c\u53f8\u6e38\u620f\u6216\u5f71\u54cd\u672c\u516c\u53f8\u6e38\u620f\u670d\u52a1\u7684\u6b63\u5e38\u8fdb\u884c\uff1b\nc\uff09\u5404\u79cd\u975e\u6cd5\u5916\u6302\u884c\u4e3a\uff1b\nd\uff09\u4f20\u64ad\u975e\u6cd5\u8a00\u8bba\u6216\u4e0d\u5f53\u4fe1\u606f\uff1b\ne\uff09\u76d7\u53d6\u4ed6\u4eba\u6e38\u620f\u8d26\u53f7\u3001\u6e38\u620f\u7269\u54c1\uff1b\nf\uff09\u79c1\u81ea\u8fdb\u884c\u6e38\u620f\u8d26\u53f7\u4ea4\u6613\uff1b\ng\uff09\u5176\u4ed6\u5728\u884c\u4e1a\u5185\u88ab\u5e7f\u6cdb\u8ba4\u53ef\u7684\u4e0d\u5f53\u884c\u4e3a\uff0c\n7.\u63d0\u73b0\u53ea\u80fd\u63d0\u73b0\u5230\u5fae\u4fe1\u8d26\u53f7\u4e2d\uff0c\u4e14\u5fae\u4fe1\u5fc5\u987b\u5b9e\u540d\uff0c\u82e5\u5fae\u4fe1\u672a\u5b9e\u540d\uff0c\u5219\u4f1a\u63d0\u73b0\u5931\u8d25\uff08\u5fae\u4fe1\u5e73\u53f0\u7684\u5f3a\u5236\u8981\u6c42\uff09\uff0c\u4e14\u6bcf\u4e2a\u73a9\u5bb6\u6bcf\u5929\u53ea\u80fd\u63d0\u73b010\u6b21\n8.\u63d0\u73b0\u65f6\uff0c\u9700\u6309\u7167\u987a\u5e8f\u63d0\u73b0\uff0c\u4e14\u6ee1\u8db3\u8db3\u591f\u91d1\u989d\u7684\u7ea2\u5305\u6570\u91cf\n9.\u63d0\u73b0\u65f6\u9700\u8981\u6309\u7167\u987a\u5e8f\u63d0\u73b0\uff0c20\u5143\u63d0\u5b8c\uff0c\u624d\u80fd\u63d050\u5143\uff0c\u624d\u80fd\u63d0100\u5143\u3002\u4e3a\u9632\u6b62\u4f5c\u5f0a\uff0c\u63d0\u73b020\u5143\u91d1\u989d\u53ca\u4ee5\u4e0a\u91d1\u989d\u90fd\u9700\u8981\u901a\u8fc72500\u5173\u3002\n10.\u63d0\u73b0\u9700\u8981\u5ba1\u6838\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\u5de5\u4f5c\u4eba\u5458\u5ba1\u6838\uff0c\u9632\u6b62\u51fa\u73b0\u4f7f\u7528\u5916\u6302\u4e0d\u516c\u5e73\u7684\u60c5\u51b5\n11.\u6211\u7684\u94b1\u5305\u662f\u6240\u6709\u7528\u6237\u90fd\u53ef\u53c2\u4e0e\uff0c\u76ee\u7684\u662f\u8ba9\u7528\u6237\u5728\u73a9\u6e38\u620f\u7684\u540c\u65f6\u6536\u76ca\u6700\u5927\u5316\uff0c\u5a31\u4e50\u8d5a\u94b1\u4e24\u4e0d\u8bef\u3002\n12.\u8bf7\u73a9\u5bb6\u575a\u6301\u591a\u53c2\u4e0e\u6e38\u620f\uff0c\u53c2\u4e0e\u6e38\u620f\u8d8a\u591a\uff0c\u63d0\u73b0\u8d8a\u591a\u3002\n13.\u58eb\u5175\u5347\u7ea7\u5408\u6210\u8d8a\u591a\uff0c\u83b7\u5f97\u7684\u7ea2\u5305\u5c31\u4f1a\u8d8a\u591a\uff0c\u8bf7\u73a9\u5bb6\u52aa\u529b\u54e6\u3002\n14.\u82e5\u60a8\u548c\u672c\u516c\u53f8\u4e4b\u95f4\u56e0\u63d0\u73b0\u89c4\u5219\u53d1\u751f\u4efb\u4f55\u7ea0\u7eb7\u6216\u4e89\u8bae\uff0c\u9996\u5148\u5e94\u53cb\u597d\u534f\u5546\u89e3\u51b3\u3002\n15.\u6839\u636e\u56fd\u5bb6\u65b0\u95fb\u51fa\u7248\u603b\u7f72\u5173\u4e8e\u300a\u5065\u5eb7\u6e38\u620f\u7684\u5fe0\u544a\u300b\uff0c\u672c\u516c\u53f8\u63d0\u9192\u60a8\uff1a\u62b5\u5236\u4e0d\u826f\u6e38\u620f\uff0c\u62d2\u7edd\u76d7\u7248\u6e38\u620f\uff1b\u6ce8\u610f\u81ea\u6211\u4fdd\u62a4\uff0c\u8c28\u9632\u53d7\u9a97\u4e0a\u5f53\uff1b\u9002\u5ea6\u6e38\u620f\u76ca\u8111\uff0c\u6c89\u8ff7\u6e38\u620f\u4f24\u8eab\u3002\n16.\u60a8\u5728\u4f7f\u7528\u672c\u516c\u53f8\u6e38\u620f\u670d\u52a1\u8fc7\u7a0b\u4e2d\u5e94\u5f53\u9075\u5b88\u5f53\u5730\u76f8\u5173\u7684\u6cd5\u5f8b\u6cd5\u89c4\uff0c\u5e76\u5c0a\u91cd\u5f53\u5730\u7684\u9053\u5fb7\u548c\u98ce\u4fd7\u4e60\u60ef\u3002\u5982\u679c\u60a8\u7684\u884c\u4e3a\u8fdd\u53cd\u4e86\u5f53\u5730\u6cd5\u5f8b\u6cd5\u89c4\u6216\u9053\u5fb7\u98ce\u4fd7\uff0c\u60a8\u5e94\u5f53\u4e3a\u6b64\u72ec\u7acb\u627f\u62c5\u8d23\u4efb\u3002\n17.\u60a8\u5e94\u907f\u514d\u56e0\u4f7f\u7528\u672c\u516c\u53f8\u6e38\u620f\u7ea2\u5305\u63d0\u73b0\u670d\u52a1\u800c\u4f7f\u672c\u516c\u53f8\u5377\u5165\u516c\u5171\u4e8b\u4ef6\uff0c\u5426\u5219\u672c\u516c\u53f8\u6709\u6743\u6682\u505c\u6216\u7ec8\u6b62\u5bf9\u60a8\u7684\u670d\u52a1\u3002"),this.lab_tx.setLabel("1.\u6e38\u620f\u4e2d\u662f\u6ca1\u6709\u4efb\u4f55\u5145\u503c\u5165\u53e3\u7684\uff0c\u4e0d\u9700\u8981\u7528\u6237\u82b1\u4e00\u5206\u94b1\uff0c\u82e5\u51fa\u73b0\u5145\u503c\u5165\u53e3\uff0c\u4e00\u5b9a\u662f\u5047\u300a\u79e6\u6c49\u5927\u4e71\u6597\u300b\uff0c\u656c\u8bf7\u73a9\u5bb6\u6ce8\u610f\n2.\u672capp\u7528\u6237\u53ef\u4ee5\u5728\u6e38\u620f\u4e2d\u6536\u96c6\u5e76\u7d2f\u8ba1\u7ea2\u5305\u8fdb\u5ea6\u4e0e\u7ea2\u5305\uff0c\u7ea2\u5305\u630910000\uff1a1\u6bd4\u4f8b\n3.\u7ea2\u5305\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u9014\u5f84\u83b7\u5f97\uff1a\na\uff09\u95ef\u5173\u6740\u6b7b\u654c\u65b9boss\u6389\u843d\nb\uff09\u5408\u6210\u58eb\u5175\u8d60\u9001\nc\uff09\u6210\u6e38\u620f\u5185\u5b8c\u6210\u4efb\u52a1\u3001\u9886\u5728\u7ebf\u5956\u52b1\u3001\u7a7a\u6295\u5956\u52b1\u7b49\u5404\u5904\u529f\u80fd\u4ea7\u51fa\n4.\u63d0\u73b0\u9700\u8981\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\uff08\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\uff09\na\uff09\u5fae\u4fe1\u5b9e\u540d\u7528\u6237\uff0c\u4e14\u7ed1\u5b9aapp\nb\uff09\u5fae\u4fe1\u8d26\u53f7\u4e0d\u5b58\u5728\u4e0d\u826f\u72b6\u6001\uff0c\u4f8b\u5982\uff1a\u9501\u5b9a\u3001\u5c01\u505c\u7b49\u7b49\uff0c\u6b64\u60c5\u51b5\u8bf7\u54a8\u8be2\u5fae\u4fe1\u5e73\u53f0\uff0c\u4e0eapp\u65e0\u5173\nc\uff09\u4e0d\u5b58\u5728\u6076\u610f\u5237\u53f7\uff0c\u7834\u89e3\u5305\u4f53\u7b49\u7b49\uff0c\u7834\u574f\u6e38\u620f\u5e73\u8861\u884c\u4e3a\uff0c\u4f8b\u5982\uff1a\u50f5\u5c38\u53f7\u3001\u5927\u91cf\u540cIP\u767b\u5f55\u7b49\u7b49\n5.\u672c\u516c\u53f8\u4fdd\u8bc1\u4e0d\u5bf9\u5916\u516c\u5f00\u6216\u5411\u4efb\u4f55\u7b2c\u4e09\u65b9\u63d0\u4f9b\u60a8\u7684\u63d0\u73b0\u8d26\u53f7\u53ca\u4fe1\u606f\uff0c\u4f46\u662f\u5b58\u5728\u4e0b\u5217\u60c5\u5f62\u4e4b\u4e00\u7684\u9664\u5916\uff1a\na\uff09\u516c\u5f00\u6216\u63d0\u4f9b\u76f8\u5173\u4fe1\u606f\u4e4b\u524d\u83b7\u5f97\u60a8\u8bb8\u53ef\u7684\uff1b\nb\uff09\u6839\u636e\u6cd5\u5f8b\u6216\u653f\u7b56\u7684\u89c4\u5b9a\u800c\u516c\u5f00\u6216\u63d0\u4f9b\u7684\uff1b\nc\uff09\u53ea\u6709\u516c\u5f00\u6216\u63d0\u4f9b\u60a8\u7684\u4e2a\u4eba\u4fe1\u606f\uff0c\u624d\u80fd\u63d0\u4f9b\u60a8\u9700\u8981\u7684\u672c\u516c\u53f8\u6e38\u620f\u670d\u52a1\u7684\uff1b\nd\uff09\u6839\u636e\u56fd\u5bb6\u6743\u529b\u673a\u5173\u8981\u6c42\u516c\u5f00\u6216\u63d0\u4f9b\u7684\uff1b\ne\uff09\u6839\u636e\u672c\u534f\u8bae\u5176\u4ed6\u6761\u6b3e\u7ea6\u5b9a\u800c\u516c\u5f00\u6216\u63d0\u4f9b\u7684\uff1b\n6.\u60a8\u5728\u4f7f\u7528\u672c\u516c\u53f8\u6e38\u620f\u670d\u52a1\u8fc7\u7a0b\u4e2d\u6709\u5982\u4e0b\u884c\u4e3a\u7684\uff0c\u672c\u516c\u53f8\u5c06\u89c6\u60c5\u8282\u4e25\u91cd\u7a0b\u5ea6\uff0c\u4f9d\u636e\u6e38\u620f\u63d0\u73b0\u89c4\u5219\u7684\u89c4\u5b9a\uff0c\u5bf9\u60a8\u505a\u51fa\u6682\u65f6\u6216\u6c38\u4e45\u6027\u5730\u7981\u6b62\u767b\u5f55\u3001\u5220\u9664\u6e38\u620f\u8d26\u53f7\u53ca\u6e38\u620f\u6570\u636e\u3001\u5220\u9664\u76f8\u5173\u4fe1\u606f\u7b49\u5904\u7406\u63aa\u65bd\uff0c\u60c5\u8282\u4e25\u91cd\u7684\u5c06\u79fb\u4ea4\u6709\u5173\u884c\u653f\u7ba1\u7406\u673a\u5173\u7ed9\u4e88\u884c\u653f\u5904\u7f5a\uff0c\u6216\u8005\u8ffd\u7a76\u60a8\u7684\u5211\u4e8b\u8d23\u4efb\uff1a\na\uff09\u4ee5\u67d0\u79cd\u65b9\u5f0f\u6697\u793a\u6216\u4f2a\u79f0\u672c\u516c\u53f8\u5185\u90e8\u5458\u5de5\u6216\u67d0\u79cd\u7279\u6b8a\u8eab\u4efd\uff0c\u4f01\u56fe\u5f97\u5230\u4e0d\u6b63\u5f53\u5229\u76ca\u6216\u5f71\u54cd\u5176\u4ed6\u7528\u6237\u6743\u76ca\u7684\u884c\u4e3a\uff1b\nb\uff09\u4ee5\u4efb\u4f55\u65b9\u5f0f\u7834\u574f\u672c\u516c\u53f8\u6e38\u620f\u6216\u5f71\u54cd\u672c\u516c\u53f8\u6e38\u620f\u670d\u52a1\u7684\u6b63\u5e38\u8fdb\u884c\uff1b\nc\uff09\u5404\u79cd\u975e\u6cd5\u5916\u6302\u884c\u4e3a\uff1b\nd\uff09\u4f20\u64ad\u975e\u6cd5\u8a00\u8bba\u6216\u4e0d\u5f53\u4fe1\u606f\uff1b\ne\uff09\u76d7\u53d6\u4ed6\u4eba\u6e38\u620f\u8d26\u53f7\u3001\u6e38\u620f\u7269\u54c1\uff1b\nf\uff09\u79c1\u81ea\u8fdb\u884c\u6e38\u620f\u8d26\u53f7\u4ea4\u6613\uff1b\ng\uff09\u5176\u4ed6\u5728\u884c\u4e1a\u5185\u88ab\u5e7f\u6cdb\u8ba4\u53ef\u7684\u4e0d\u5f53\u884c\u4e3a\uff0c\n7.\u63d0\u73b0\u53ea\u80fd\u63d0\u73b0\u5230\u5fae\u4fe1\u8d26\u53f7\u4e2d\uff0c\u4e14\u5fae\u4fe1\u5fc5\u987b\u5b9e\u540d\uff0c\u82e5\u5fae\u4fe1\u672a\u5b9e\u540d\uff0c\u5219\u4f1a\u63d0\u73b0\u5931\u8d25\uff08\u5fae\u4fe1\u5e73\u53f0\u7684\u5f3a\u5236\u8981\u6c42\uff09\uff0c\u4e14\u6bcf\u4e2a\u73a9\u5bb6\u6bcf\u5929\u53ea\u80fd\u63d0\u73b010\u6b21\n8.\u63d0\u73b0\u65f6\uff0c\u9700\u6309\u7167\u987a\u5e8f\u63d0\u73b0\uff0c\u4e14\u6ee1\u8db3\u8db3\u591f\u91d1\u989d\u7684\u7ea2\u5305\u6570\u91cf\n9.\u63d0\u73b0\u91d1\u989d\u9700\u8981\u901a\u8fc72500\u5173\uff0c\u63d0\u73b0\u9700\u8981\u5ba1\u6838\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\u5de5\u4f5c\u4eba\u5458\u5ba1\u6838\uff0c\u9632\u6b62\u51fa\u73b0\u4f7f\u7528\u5916\u6302\u4e0d\u516c\u5e73\u7684\u60c5\u51b5\n10.\u6211\u7684\u94b1\u5305\u662f\u6240\u6709\u7528\u6237\u90fd\u53ef\u53c2\u4e0e\uff0c\u76ee\u7684\u662f\u8ba9\u7528\u6237\u5728\u73a9\u6e38\u620f\u7684\u540c\u65f6\u6536\u76ca\u6700\u5927\u5316\uff0c\u5a31\u4e50\u8d5a\u94b1\u4e24\u4e0d\u8bef\n11.\u8bf7\u73a9\u5bb6\u575a\u6301\u591a\u53c2\u4e0e\u6e38\u620f\uff0c\u53c2\u4e0e\u6e38\u620f\u8d8a\u591a\uff0c\u63d0\u73b0\u8d8a\u591a\u3002\n12.\u58eb\u5175\u5347\u7ea7\u5408\u6210\u8d8a\u591a\uff0c\u83b7\u5f97\u7684\u7ea2\u5305\u5c31\u4f1a\u8d8a\u591a\uff0c\u8bf7\u73a9\u5bb6\u52aa\u529b\u54e6\u3002\n13.\u82e5\u60a8\u548c\u672c\u516c\u53f8\u4e4b\u95f4\u56e0\u63d0\u73b0\u89c4\u5219\u53d1\u751f\u4efb\u4f55\u7ea0\u7eb7\u6216\u4e89\u8bae\uff0c\u9996\u5148\u5e94\u53cb\u597d\u534f\u5546\u89e3\u51b3\u3002\n14.\u6839\u636e\u56fd\u5bb6\u65b0\u95fb\u51fa\u7248\u603b\u7f72\u5173\u4e8e\u300a\u5065\u5eb7\u6e38\u620f\u7684\u5fe0\u544a\u300b\uff0c\u672c\u516c\u53f8\u63d0\u9192\u60a8\uff1a\u62b5\u5236\u4e0d\u826f\u6e38\u620f\uff0c\u62d2\u7edd\u76d7\u7248\u6e38\u620f\uff1b\u6ce8\u610f\u81ea\u6211\u4fdd\u62a4\uff0c\u8c28\u9632\u53d7\u9a97\u4e0a\u5f53\uff1b\u9002\u5ea6\u6e38\u620f\u76ca\u8111\uff0c\u6c89\u8ff7\u6e38\u620f\u4f24\u8eab\u3002\n15.\u60a8\u5728\u4f7f\u7528\u672c\u516c\u53f8\u6e38\u620f\u670d\u52a1\u8fc7\u7a0b\u4e2d\u5e94\u5f53\u9075\u5b88\u5f53\u5730\u76f8\u5173\u7684\u6cd5\u5f8b\u6cd5\u89c4\uff0c\u5e76\u5c0a\u91cd\u5f53\u5730\u7684\u9053\u5fb7\u548c\u98ce\u4fd7\u4e60\u60ef\u3002\u5982\u679c\u60a8\u7684\u884c\u4e3a\u8fdd\u53cd\u4e86\u5f53\u5730\u6cd5\u5f8b\u6cd5\u89c4\u6216\u9053\u5fb7\u98ce\u4fd7\uff0c\u60a8\u5e94\u5f53\u4e3a\u6b64\u72ec\u7acb\u627f\u62c5\u8d23\u4efb\u3002\n16.\u60a8\u5e94\u907f\u514d\u56e0\u4f7f\u7528\u672c\u516c\u53f8\u6e38\u620f\u7ea2\u5305\u63d0\u73b0\u670d\u52a1\u800c\u4f7f\u672c\u516c\u53f8\u5377\u5165\u516c\u5171\u4e8b\u4ef6\uff0c\u5426\u5219\u672c\u516c\u53f8\u6709\u6743\u6682\u505c\u6216\u7ec8\u6b62\u5bf9\u60a8\u7684\u670d\u52a1\u3002")},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1)},onDestroy:function(){},initData:function(t){this["node_"+t].active=!0},initDataMsg:function(t){this["lab_"+t].active=!0}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiMyWallet:[function(t,e){"use strict";cc._RF.push(e,"bb7c8BumRJMDoyih9CJoprU","uiMyWallet"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents(),this.initData()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_withDrawal.quickBt(function(){t.onFriendWithDrawal()}),this.btn_kefu.quickBt(function(){gMainMgr.onOpenService()}),this.btn_red_detail.quickBt(function(){UICtrl.openUI("uiInvite/uiMyWalletDetail")})},initData:function(){var t=this;this.Lbl_GetCashContent.setLabel("\u60a8\u9080\u8bf7\u7684\u597d\u53cb\u89c2\u770b\u6e38\u620f\u5185\u7684\u89c6\u9891\u5e7f\u544a\u65f6\uff0c\u60a8\u4f1a\u83b7\u5f97\u7ea2\u5305\u6536\u76ca\uff0c\u7ea2\u5305\u53ef\u4ee5\u5151\u6362\u73b0\u91d1\u76f4\u63a5\u63d0\u73b0\u5230\u5fae\u4fe1\u3002"),this.Lbl_WithDrawalRule.setLabel("1.\u63d0\u73b0\u9700\u8981\u5b9e\u540d\u5236\uff0c\u975e\u5b9e\u540d\u5236\u73a9\u5bb6\u65e0\u6cd5\u63d0\u73b0\u3002\n2.\u63d0\u73b0\u7533\u8bf7\u53d1\u8d77\u540e\uff0c\u96f6\u94b1\u5c06\u57281-7\u4e2a\u5de5\u4f5c\u65e5\u5ba1\u6838\u5230\u8d26\uff0c   \u8bf7\u8010\u5fc3\u7b49\u5f85\u3002\n3.\u5176\u4ed6\u63d0\u73b0\u76f8\u5173\u95ee\u9898\uff0c\u8bf7                    \u3002"),webData.onRecover_inviteFriendWalletCallBack(function(e){t._red_num=Number(e.contribution_red_balance)/100,t.lbl_red_num.setLabel((Math.floor(100*Number(t._red_num))/100).toFixed(2)),t.lbl_Unit.setLabel("\u5143"),GM.inViteUI.updateBCanWithDrawTip(Number(e.contribution_red_balance))})},onFriendWithDrawal:function(){var t=this;this._red_num&&this._red_num<.3?util.showTip("\u4e0d\u8db30.3\u5143\uff0c\u65e0\u6cd5\u63d0\u73b0"):this._red_num?UICtrl.openUI("uiInvite/uiInviteRedWallet",function(e){e.initData(t._red_num,function(e){t._red_num=Number(e.contribution_red_balance)/100,t.lbl_red_num.setLabel((Math.floor(100*Number(t._red_num))/100).toFixed(2)),util.showTip("\u63d0\u73b0\u6210\u529f"),GM.inViteUI.updateBCanWithDrawTip(Number(e.contribution_red_balance))})}):util.showTip("\u4e0d\u8db30.3\u5143\uff0c\u65e0\u6cd5\u63d0\u73b0")},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiNewBonus:[function(t,e){"use strict";cc._RF.push(e,"81748N5RKRIubcvpOomcNQg","uiNewBonus"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.node.setContentSize(720,GM.G_HEIGHT),this.addEvents(),this.getBonusData(),this.lab_msg.setLabel("\u901a\u8fc72500\u5173\uff0c\u6bcf\u5929\u53ef\u63d0\u73b0\u4e00\u6b21\uff0c\n\u4ec5\u9650\u524d5000\u540d\u3002"),this.lab_msg1.setLabel("\uff08\u65e0\u9700\u770b\u5e7f\u544a\uff0c\u76f4\u63a5\u9886\u53d6\uff09")},getBonusData:function(){var t=this;webData.profit_indexCallBack(function(e){setTimeout(function(){cc.isValid(t.node)&&t.initData(e.data)},200)},function(e){util.showTip(e.message),UICtrl.closeUI(t)})},addEvents:function(){var t=this;this.btn_back.quickBt(function(){gMainMgr.closeDlgAction(t.sp_bg,GM.HallUi.btn_bonus,function(){UICtrl.closeUI(t)})},null,null,1),this.btn_ad.quickBt(function(){t.openAdMsg()}),this.btn_rank.quickBt(function(){t.openBonusIntroduce()}),this.btn_video.quickBt(function(){t.remain_cnt&&Number(t.remain_cnt)>0?(t.art_finger1.active=!1,gMainMgr.isCheckOpenAd(function(){nativeData.showRewardAd(function(){webData.video_awardCallBack(function(){for(var e=0;e<gameData.uiNewBonusData.profit_process_info.length;e++){var i=Math.min(100,gameData.uiNewBonusData.profit_process_info[e]+1*(5-e));gameData.uiNewBonusData.profit_process_info[e]=i,gameData.uiNewBonusData.list[e].percent=i}console.log("gameData.uiNewBonusData",gameData.uiNewBonusData),t.updataPercent(gameData.uiNewBonusData.profit_process_info),gameData.uiNewBonusData.remain_cnt-=1,t.remain_cnt=gameData.uiNewBonusData.remain_cnt,t.lab_videocnt.setLabel("\u4eca\u65e5\u5269\u4f59:("+t.remain_cnt+"/"+t.daily_cnt+")")},function(t){util.showTip(t.message)});var e=UICtrl.findUI("uiBonus/uiBonusMsg");(e||cc.isValid(e))&&UICtrl.closeUI("uiBonus/uiBonusMsg")},function(){})})):util.showTip("\u4eca\u65e5\u201c\u6bcf\u65e5\u5956\u52b1\u201d\u89c6\u9891\u5df2\u8fbe\u4e0a\u9650")})},initData:function(t){var e=this;this.remain_cnt=Number(t.remain_cnt),this.daily_cnt=t.daily_cnt,this.lab_videocnt.setLabel("\u4eca\u65e5\u5269\u4f59:("+this.remain_cnt+"/"+this.daily_cnt+")");var i=t.list,n=function(t){var n=cc.instantiate(e.item_node);n.active=!0,n.parent=e.node_content,n.lab_money.setLabel(i[t].amount+"\u5143"),n.lab_title.setLabel(i[t].amount+"\u5143\u5956\u52b1\u8fdb\u5ea6"),n.sp_jindutiao.getComponent(cc.Sprite).fillRange=Number(i[t].percent)/100,n.lab_percent.setLabel(i[t].percent+"%"),n.btn_tixian.active=Number(i[t].percent)>=100,n.btn_nottixian.active=Number(i[t].percent)<100,Number(i[t].amount),n.btn_tixian.quickBt(function(){UICtrl.openUI("uiLevelRed/uiLevelRedWithDraw",function(n){n.initData(i[t].amount,function(){webData.profit_withdrawCallBack(i[t].amount_id,i[t].amount,function(t){e.updataPercent(t.data.profit_process_info),UICtrl.closeUI("uiLevelRed/uiLevelRedWithDraw")},function(t){util.showTip(t.message)})})})})};for(var a in i)n(a);this.lab_allmoney.setLabel(t.average_award+"\u5143"),this.sp_point.getComponent(cc.Sprite).fillRange=gameData.current_check_point/2500,this.sp_qipao.x=gameData.current_check_point/2500*378-337,this.lab_curpoint.setLabel("\u5df2\u901a\u8fc7"+(gameData.current_check_point-1)+"\u5173"),gameData.showBonusFing<8&&this.remain_cnt>0&&(gameData.add("showBonusFing",1),this.art_finger1.active=!0)},updataPercent:function(t){var e=this.node_content.children,i=t;for(var n in e){var a=e[n],o=Number(n);a.sp_jindutiao.getComponent(cc.Sprite).fillRange=Number(i[o])/100,a.lab_percent.setLabel(i[o]+"%"),a.btn_tixian.active=Number(i[o])>=100,a.btn_nottixian.active=Number(i[o])<100}},openBonusIntroduce:function(){var t=UICtrl.findUI("uiBonus/uiBonusRank");t||cc.isValid(t)||UICtrl.openUI("uiBonus/uiBonusRank",function(){})},openAdMsg:function(){var t=UICtrl.findUI("uiBonus/uiAdMsg");t||cc.isValid(t)||UICtrl.openUI("uiBonus/uiAdMsg",function(){})}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiOhter:[function(t,e){"use strict";cc._RF.push(e,"eaec7W4Ib5I45g2DSnZ9JIE","uiOhter"),cc.Class({extends:ui.baseLayer,properties:{},start:function(){this.addEvents()},addEvents:function(){var t=this;this.node.quickBt(function(){2==t.index.type?t.index.value>59&&(60==t.index.value?(soldiersMgr.itemDelete(t._pOrder,t.node),GM.HallUi.openInvite()):61==t.index.value?(soldiersMgr.itemDelete(t._pOrder,t.node),GM.HallUi.openThousandRed()):62==t.index.value?(soldiersMgr.itemDelete(t._pOrder,t.node),GM.HallUi.openBonus()):63==t.index.value?t.openBounsWhat():64==t.index.value?(soldiersMgr.itemDelete(t._pOrder,t.node),GM.HallUi.openGeneral()):65==t.index.value?(soldiersMgr.itemDelete(t._pOrder,t.node),UICtrl.openUI("uiBoxWallet/uiBoxWallet",function(t){t.initData()})):66==t.index.value&&(soldiersMgr.itemDelete(t._pOrder,t.node),GM.HallUi.openTree())):1==t.index.type&&t.openRed()})},initData:function(t,e,i){var n,a=this;this.index=t,2==t.type&&t.value>59?(this["sp_prop"+t.value].active=!0,n=this["sp_prop"+t.value]):(this["sp_prop"+t.type].active=!0,n=this["sp_prop"+t.type]),this._pOrder=parseInt(e),this.initPos(),this._monsterAni=n.getComponent("sp.Skeleton"),i?(this._monsterAni.setAnimation(0,"appear",!1),this._monsterAni.setCompleteListener(function(){a._monsterAni.setAnimation(0,"idle",!0)})):this._monsterAni.setAnimation(0,"idle",!0),this.isVideo=!1,util.randomRange(1,100)<gameData.airdrop_video_gl&&(this.isVideo=!0),1==this.index.type&&2==this.index.value&&(this.isVideo=!0)},initPos:function(){var t=COUNT_P[this._pOrder];this.node.position=t},openRed:function(){var t=this;if(this.isVideo){var e=gameData.red_setting[G_RED_CONFIG.RED_VIDER_AIR];gMainMgr.onCommonOpenRed(gameData.remain_airdrop_video_cnt,e,G_OPEN_RED_TYPE.RED_AIR_DROP_REWARD,function(){GM.HallUi.checkVideo("ktjl_video",function(i){UICtrl.closeUI("uiCommon/uiOpenRed"),gMainMgr.onShowCommonGetRed(gameData.remain_airdrop_video_cnt,e,G_REWARD_TYPE.REWARD_TYPE_RED,G_OPEN_RED_TYPE.RED_AIR_DROP_REWARD,function(){gameData.set("remain_airdrop_video_cnt",Number(i.data.remain_cnt)),gMainMgr.playCoinsFly(e),soldiersMgr.itemDelete(t._pOrder,t.node)},function(){})},function(t){util.showTip(t.message)})},function(){})}else{var i=gameData.red_setting[G_RED_CONFIG.RED_NO_VIDER_AIR];gMainMgr.onCommonOpenRed(1,i,G_OPEN_RED_TYPE.RED_AIR_DROP_REWARD,function(){UICtrl.closeUI("uiCommon/uiOpenRed"),gMainMgr.onShowCommonGetRed(1,i,G_REWARD_TYPE.REWARD_TYPE_RED,G_OPEN_RED_TYPE.RED_AIR_DROP_REWARD,function(){gMainMgr.playCoinsFly(i),soldiersMgr.itemDelete(t._pOrder,t.node)},function(){})},function(){},!0)}},effectAciton:function(){var t=cc.moveBy(2,0,10),e=cc.moveBy(2,0,-10),i=cc.sequence(t,e);this.sp_action.runAction(cc.repeatForever(i))},getAwardData:function(t,e){webData.airdrop_awardCallBack(this.isVideo?"y":"n",soldiersMgr.soldiersName[soldiersMgr._curIndex-1],t,function(t){e&&e(t.data)},function(t){util.showTip(t.message)})},openSoldiers:function(){var t=this;GM.HallUi.openSoldiersDlg(this.index.value,"air",soldiersMgr.soldiersNameSP[soldiersMgr._curIndex-1],"LV."+this.index.value+soldiersMgr.soldiersNameCN[soldiersMgr._curIndex-1],"",function(){gMainMgr.isCheckOpenAd(function(){nativeData.showRewardAd(function(){t.isVideo=!0,t.getAwardData(t._pOrder,function(e){util.showTip("\u606d\u559c\u83b7\u5f97"),soldiersMgr.itemDelete(t._pOrder,t.node),soldiersMgr.itemCreate(e.position_info.lv,t._pOrder),UICtrl.closeUI("uiHall/uiSoldiersDlg"),Number(e.change_amount)>0&&(gameData.set("red_process_bar",e.process_bar),gMainMgr.playCoinsFly(e.red_award,0,0,8,e.red_balance))});var e=UICtrl.findUI("uiBonus/uiBonusMsg");(e||cc.isValid(e))&&UICtrl.closeUI("uiBonus/uiBonusMsg")},function(){})})})},onDestroy:function(){},openBounsWhat:function(){var t=this;GM.HallUi.openBounsWhat(function(){nativeData.showRewardAd(function(){GM.HallUi.checkVideo("quick_red_percent_video",function(e){gMainMgr.onShowCommonGetRed(gameData.remain_quick_red_percent_video_cnt,e.data.change_amount,G_REWARD_TYPE.REWARD_TYPE_RED_PROCESS,G_OPEN_RED_TYPE.RED_AIR_DROP_REWARD,function(){gameData.set("remain_quick_red_percent_video_cnt",Number(e.data.remain_cnt)),gMainMgr.playCoinsFly3()},function(){}),soldiersMgr.itemDelete(t._pOrder,t.node)},function(t){util.showTip(t.message)})},function(){})},function(){soldiersMgr.itemDelete(t._pOrder,t.node)})},getIconClear:function(t){var e=this;webData.clear_position_iconCallBack(soldiersMgr.soldiersName[soldiersMgr._curIndex-1],this._pOrder,t,function(t){if("Fail:AwardTypeError"==t.code||"Fail:Level"==t.code||"PositionDataError"==t.code){if(t.data){soldiersMgr.itemDelete(e._pOrder,e.node);var i=Number(t.data.lv);if(i>0)soldiersMgr.itemCreate(i,e._pOrder,!1);else{var n=soldiersMgr.porpType(t.data,e._pOrder);n.type>0&&soldiersMgr.createOther(n,oOrder,!0)}}}else util.showTip(t.message)})}}),cc._RF.pop()},{}],uiOneFriends:[function(t,e){"use strict";cc._RF.push(e,"25ebf+hxNpDL47keYZSMY9y","uiOneFriends"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_last.quickBt(function(){t._bFriendOneChild||(t._pageIndex--,console.log(t._pageIndex,t.page_total,"-----1111----"),t._pageIndex<=0?t._pageIndex=1:t.getFriendsData())}),this.btn_next.quickBt(function(){t._bFriendOneChild||(t._pageIndex++,console.log(t._pageIndex,t.page_total,"---------"),t._pageIndex>t.page_total?t._pageIndex=t.page_total:t.getFriendsData())})},initData:function(t){this.img_title_1.active=1==t,this.img_title_2.active=2==t,this._pageIndex=1,this._curPageIndex=1,this.friend_type=t,this._friend_type_info=1==t?"1st":"2nd",this.getFriendsData()},getFriendsData:function(){var t=this;this._bFriendOneChild=!0,webData.onRecover_friendOneChildListCallBack(this._friend_type_info,this._pageIndex,9,function(e){t._bFriendOneChild=!1,t.lbl_count_friend.setLabel("\u603b\u4eba\u6570: "+e.friend_cnt),t.page_total||(t.page_total=Math.ceil(Number(e.friend_cnt)/9)),t._curPageIndex=t._pageIndex,t.lab_page.setLabel(t._curPageIndex+"/"+t.page_total),t.insertData(e.friend_list)},function(){t._pageIndex=t._curPageIndex,t._bFriendOneChild=!1})},insertData:function(t){for(var e=this,i=t,n=1;n<=9;n++)i[n-1]?function(){e["friend_item_"+n].active=!0;var t=i[n-1];gMainMgr.onShowHeardInfo(t.avatar_url,e["img_head_"+n]),t.wx_nickname&&""!=t.wx_nickname?e["lbl_name_"+n].setLabel(t.wx_nickname):e["lbl_name_"+n].setLabel(" "),"y"==t.is_new_people?(e["img_new_friend_"+n].active=!0,e["img_no_verify_"+n].active=!1):(e["img_new_friend_"+n].active=!1,e["img_no_verify_"+n].active="n"==t.is_verify);var a=(Number(t.today_contribution)/100).toFixed(2);e["lbl_contribution_num_"+n].setLabel(Number(a)),e["lbl_unit_"+n].setLabel("\u5143");var o=Number(t.waiting_contribution);if(o){e["img_waiting_contribution_"+n].active=!0;var s=(o/100).toFixed(2);e["lbl_contribution_waiting_"+n].setLabel(Number(s)),e["lbl_unit_wait_"+n].setLabel("\u5143")}else e["img_waiting_contribution_"+n].active=!1;e["img_waiting_contribution_"+n].quickBt(function(){GM.inViteUI&&GM.inViteUI.getContribute(function(){for(var t=1;t<=9;t++)e["img_waiting_contribution_"+t].active=!1})}),e["friend_item_"+n].quickBt(function(){GM.inViteUI&&GM.inViteUI.openFirendInfo(e.friend_type,t)})}():this["friend_item_"+n].active=!1},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiOpenRed:[function(t,e){"use strict";cc._RF.push(e,"a1792zDx9hJfJ2TKgyG5PKl","uiOpenRed"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents()},addEvents:function(){var t=this;this.btn_close.quickBt(function(){t._closeCallback&&t._closeCallback(),UICtrl.closeUI(t)},null,null,1),this.btn_back.quickBt(function(){t._closeCallback&&t._closeCallback(),UICtrl.closeUI(t)}),this.btn_sure.quickBt(function(){t._bNoVideo?t._videoCallBack&&t._videoCallBack():t._leaveVideo?nativeData.showRewardAd(function(){t._videoCallBack&&t._videoCallBack()},function(){}):util.showTip("\u4eca\u65e5"+G_OPEN_RED_TYPE_CN[t.icon]+"\u89c6\u9891\u5df2\u8fbe\u4e0a\u9650")}),this.btn_award.quickBt(function(){t._bNoVideo?t._videoCallBack&&t._videoCallBack():t._leaveVideo?nativeData.showRewardAd(function(){t._videoCallBack&&t._videoCallBack()},function(){}):util.showTip("\u4eca\u65e5"+G_OPEN_RED_TYPE_CN[t.icon]+"\u89c6\u9891\u5df2\u8fbe\u4e0a\u9650")})},initData:function(t,e,i,n,a,o){var s=this;this.icon=i,this._leaveVideo=t,this._bNoVideo=o,this._videoCallBack=n,this._closeCallback=a,this.lbl_end_red_number.setLabel(e),gMainMgr.playBtnBreatheEffect1(this.btn_sure),this["img_title_"+i]&&(this["img_title_"+i].active=!0),o&&(this.sp_shipin.active=!1),i==G_OPEN_RED_TYPE.RED_ONLINE_REWARD?(this.btn_sure.active=!1,this.btn_award.active=!0,this._extraRed=Number(gameData.red_setting[G_RED_CONFIG.RED_WAR_WIN_EXTRA]),this.lbl_extra_number.setLabel(this._extraRed),gMainMgr.playBtnBreatheEffect1(this.btn_award),this.btn_back.active=!0,this.btn_close.active=!1):i==G_OPEN_RED_TYPE.RED_TASK_REWARD?(this.sp_hbq.active=!1,this.lbl_end_red_number.active=!1,this.btn_close.active=!1,this.scheduleOnce(function(){s.btn_close.active=!0},G_CLOSE_DELAY_TIME)):(this.btn_close.active=!1,this.scheduleOnce(function(){s.btn_close.active=!0},G_CLOSE_DELAY_TIME))},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiPrivacyPolicy:[function(t,e){"use strict";cc._RF.push(e,"dcdfb+g1oBORapg59Y/KsHo","uiPrivacyPolicy"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1)}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiRecycling:[function(t,e){"use strict";cc._RF.push(e,"e5194wLy/9B2J+0z7SR8cRe","uiRecycling"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents(),B_REVIEW_VER_IOS||gMainMgr.setShowAd()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){t.closefunc&&t.closefunc(),UICtrl.closeUI(t)},null,null,1),this.btn_sure.quickBt(function(){t.func&&t.func(),UICtrl.closeUI(t)}),this.btn_close.quickBt(function(){t.closefunc&&t.closefunc(),UICtrl.closeUI(t)},null,null,1)},initData:function(t,e){this.func=t,this.closefunc=e,B_REVIEW_VER_IOS||this.onGetRedAdShortBanner()},onDestroy:function(){},onEnable:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiSavephoto:[function(t,e){"use strict";cc._RF.push(e,"90e2bEU1+ZIM65lsHqDEbgR","uiSavephoto"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents()},addEvents:function(){var t=this;this.btn_quxiao.quickBt(function(){UICtrl.closeUI(t)}),this.btn_stare.quickBt(function(){nativeData.checkAppInstalled(t.packageName)?nativeData.startApp(t.packageName):util.showTip("\u8bf7\u5148\u4e0b\u8f7d"+("WX"==t.type||"PYX"==t.type?"\u5fae\u4fe1":"QQ"))})},initData:function(t){this["sp_"+("WX"==t||"PYX"==t?"wx":"qq")].active=!0,this.packageName="WX"==t||"PYX"==t?"com.tencent.mm":"com.tencent.mobileqq",this.type=t}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiScrollViewExt:[function(t,e){"use strict";cc._RF.push(e,"ca804+4mDNIgLfMspl6ng/A","uiScrollViewExt");var i=cc.Enum({Vertical:0,Horizontai:1});cc.Class({extends:cc.Component,properties:{itemTemplate:cc.Prefab,rowCount:{default:6,type:cc.Integer,tooltip:"\u663e\u793a\u591a\u5c11\u884c"},colCount:{default:1,type:cc.Integer,tooltip:"\u663e\u793a\u591a\u5c11\u5217"},cacheNum:{default:5,type:cc.Integer,tooltip:"\u591a\u7f13\u5b58\u7684item\u6570"},direction:{type:i,default:i.Vertical,tooltip:"//\u662f\u5426\u662f\u6a2a\u5411\u7684,\u9ed8\u8ba4\u4e3a\u6570\u65b9\u5411\u7684"}},onLoad:function(){this.updateTimer=0,this.updateInterval=.05,this.direction==i.Horizontai?this.cacheItems=this.rowCount+this.cacheNum:this.cacheItems=this.colCount+this.cacheNum,this.items=[];var t=cc.instantiate(this.itemTemplate);this.itemHeight=t.height,this.itemWidth=t.width,this.direction==i.Horizontai?this.spawnCount=this.cacheItems*this.rowCount:this.spawnCount=this.cacheItems*this.colCount,this.direction==i.Horizontai?this.bufferZone=this.cacheItems*this.itemWidth/2:this.bufferZone=this.cacheItems*this.itemHeight/2,this.scrollView=this.getComponent(cc.ScrollView),this.content=this.scrollView.content,this.direction==i.Horizontai?this.contentLength=this.scrollView.content.x:this.contentLength=this.scrollView.content.y},resetData:function(t,e){this.isInit=this.initialize(t,e)},initialize:function(t,e){if(!(e&&t&&0!==t.length&&this.itemTemplate&&this.scrollView))return console.log("\u521d\u59cb\u5316\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u6240\u6709\u5fc5\u8981\u53c2\u6570"),!1;if(this.data=t,this.itemUpdateFunc=e,this.direction==i.Horizontai?this.totalRow=Math.ceil(t.length/this.rowCount):this.totalRow=Math.ceil(t.length/this.colCount),this.lastContentPosY=0,this.direction==i.Horizontai?(this.content.height=this.rowCount*this.itemWidth,this.content.width=this.totalRow*this.itemHeight):(this.content.height=this.totalRow*this.itemHeight,this.content.width=this.colCount*this.itemWidth),this.direction==i.Horizontai?this.scrollView.content.x=this.contentLength:this.scrollView.content.y=this.contentLength,this.direction==i.Horizontai)for(var n=0,a=0;a<this.spawnCount;a+=this.rowCount){for(var o=this.itemWidth*(.5+n),s=0;s<this.rowCount;s++){var r=a+s,c=null;r>=this.items.length?(c=cc.instantiate(this.itemTemplate),this.items.push(c),this.content.addChild(c)):c=this.items[a+s];var l=this.content.height/2-(s+.5)*this.itemHeight;c.setPosition(o,l),c.itemId=r,r>=this.data.length?c.active=!1:(c.active=!0,this.itemUpdateFunc(r,c,this.data[r]))}n++}else for(var u=0,d=0;d<this.spawnCount;d+=this.colCount){for(var h=-this.itemHeight*(.5+u),_=0;_<this.colCount;_++){var f=d+_,p=null;f>=this.items.length?(p=cc.instantiate(this.itemTemplate),this.items.push(p),this.content.addChild(p)):p=this.items[d+_];var g=(_+.5)*this.itemWidth-this.content.width/2;p.setPosition(g,h),p.itemId=f,f>=this.data.length?p.active=!1:(p.active=!0,this.itemUpdateFunc(f,p,this.data[f]))}u++}return!0},getPositionInView:function(t){var e=t.parent.convertToWorldSpaceAR(t.position);return this.scrollView.node.convertToNodeSpaceAR(e)},update:function(t){this.updateTimer+=t,!this.isInit||this.updateTimer<this.updateInterval||(this.updateTimer=0,this.direction==i.Horizontai?this.updateHorizontai():this.updateVertical())},updateHorizontai:function(){if(this.scrollView.content.x!=this.lastContentPosY){var t=this.items,e=this.scrollView.content.x>this.lastContentPosY;this.lastContentPosY=this.scrollView.content.x;for(var i=this.itemWidth*this.cacheItems,n=0,a=0;a<t.length;a+=this.rowCount){var o=this.getPositionInView(t[a]);if(e){if(n=t[a].x-i,o.x>this.bufferZone&&n>0)for(var s=0;s<this.rowCount;s++){var r=s+a;t[r].x=n;var c=t[r].itemId-this.spawnCount;t[r].itemId=c,c>=0&&c<this.data.length?(t[r].active=!0,this.itemUpdateFunc(c,t[r],this.data[c])):t[r].active=!1}}else if(n=t[a].x+i,o.x<-this.bufferZone&&n<this.content.width)for(var l=0;l<this.rowCount;l++){var u=l+a;t[u].x=n;var d=t[u].itemId+this.spawnCount;t[u].itemId=d,d>=0&&d<this.data.length?(t[u].active=!0,this.itemUpdateFunc(d,t[u],this.data[d])):t[u].active=!1}}}},updateVertical:function(){if(this.scrollView.content.y!=this.lastContentPosY){var t=this.items,e=this.scrollView.content.y<this.lastContentPosY;this.lastContentPosY=this.scrollView.content.y;for(var i=this.itemHeight*this.cacheItems,n=0,a=0;a<t.length;a+=this.colCount){var o=this.getPositionInView(t[a]);if(e){if(n=t[a].y+i,o.y<-this.bufferZone&&n<0)for(var s=0;s<this.colCount;s++){var r=s+a;t[r].y=n;var c=t[r].itemId-this.spawnCount;t[r].itemId=c,c>=0&&c<this.data.length?(t[r].active=!0,this.itemUpdateFunc(c,t[r],this.data[c])):t[r].active=!1}}else if(n=t[a].y-i,o.y>this.bufferZone&&n>-this.content.height)for(var l=0;l<this.colCount;l++){var u=l+a;t[u].y=n;var d=t[u].itemId+this.spawnCount;t[u].itemId=d,d>=0&&d<this.data.length?(t[u].active=!0,this.itemUpdateFunc(d,t[u],this.data[d])):t[u].active=!1}}}},updateItems:function(){var t=this;this.items.forEach(function(e){var i=e.itemId;t.data[i]&&t.itemUpdateFunc(i,e,t.data[i])})},updateItem:function(t){var e=this;this.items.forEach(function(i){var n=i.itemId;e.data[n]==t&&e.itemUpdateFunc(n,i,e.data[n])})}}),cc._RF.pop()},{}],uiScrollView:[function(t,e){"use strict";cc._RF.push(e,"3772850/R9I2oh56AbqBhtV","uiScrollView"),cc.Class({extends:cc.Component,properties:{itemTemplate:cc.Prefab,spacing:0,rowCount:6,colCount:1,scrollView:cc.ScrollView},onLoad:function(){this.updateTimer=0,this.updateInterval=.05,this.cacheRow=this.rowCount+5,this.rowCount=Math.ceil(this.rowCount),this.items=[];var t=cc.instantiate(this.itemTemplate);this.itemHeight=t.height,this.itemWidth=t.width,this.spawnCount=this.cacheRow*this.colCount,this.bufferZone=this.cacheRow*(this.itemHeight+this.spacing)/2,this.content=this.scrollView.content,this.contenty=this.scrollView.content.y},resetData:function(t,e,i){this.isInit=this.initialize(t,e,i)},initialize:function(t,e,i){if(!(e&&t&&0!==t.length&&this.itemTemplate&&this.scrollView))return console.log("\u521d\u59cb\u5316\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u6240\u6709\u5fc5\u8981\u53c2\u6570"),!1;this.data=t,this.itemUpdateFunc=e,this.totalRow=Math.ceil(t.length/this.colCount),this.lastContentPosY=0,this.content.height=this.totalRow*(this.itemHeight+this.spacing)+this.spacing,this.content.width=this.colCount*(this.itemWidth+this.spacing)+this.spacing,(i=i||0)<0&&(i=0),this.scrollView.content.y=this.contenty+(this.itemHeight+this.spacing)*i,i>=this.data.length&&(i=this.data.length-1,this.scrollView.content.y=this.content.height-this.contenty);for(var n=Math.floor(i/this.cacheRow),a=(this.itemHeight+this.spacing)*this.cacheRow,o=0,s=0;s<this.spawnCount;s+=this.colCount){for(var r=-this.itemHeight*(.5+o)-this.spacing*(o+1)-a*n,c=0;c<this.colCount;c++){var l=s+c+n*this.cacheRow,u=null;l>=this.items.length?(u=cc.instantiate(this.itemTemplate),this.items.push(u),this.content.addChild(u)):u=this.items[s+c];var d=(c+.5)*this.itemWidth+this.spacing*(c+1)-this.content.width/2;u.setPosition(d,r),u.itemId=l,l>=this.data.length?u.active=!1:(u.active=!0,this.itemUpdateFunc(l,u,this.data[l]))}o++}return!0},getPositionInView:function(t){var e=t.parent.convertToWorldSpaceAR(t.position);return this.scrollView.node.convertToNodeSpaceAR(e)},update:function(t){if(this.updateTimer+=t,this.isInit&&!(this.updateTimer<this.updateInterval)&&(this.updateTimer=0,this.scrollView.content.y!=this.lastContentPosY)){for(var e=this.items,i=this.scrollView.content.y<this.lastContentPosY,n=(this.itemHeight+this.spacing)*this.cacheRow,a=0,o=0;o<e.length;o+=this.colCount){var s=this.getPositionInView(e[o]);if(i){if(a=e[o].y+n,s.y<-this.bufferZone&&a<0)for(var r=0;r<this.colCount;r++){var c=r+o;e[c].y=a;var l=e[c].itemId-this.spawnCount;e[c].itemId=l,l>=0&&l<this.data.length?(e[c].active=!0,this.itemUpdateFunc(l,e[c],this.data[l])):e[c].active=!1}}else if(a=e[o].y-n,s.y>this.bufferZone&&a>-this.content.height)for(var u=0;u<this.colCount;u++){var d=u+o;e[d].y=a;var h=e[d].itemId+this.spawnCount;e[d].itemId=h,h>=0&&h<this.data.length?(e[d].active=!0,this.itemUpdateFunc(h,e[d],this.data[h])):e[d].active=!1}}this.lastContentPosY=this.scrollView.content.y}},updateItems:function(){var t=this;this.items.forEach(function(e){var i=e.itemId;t.data[i]&&t.itemUpdateFunc(i,e,t.data[i])})}}),cc._RF.pop()},{}],uiSetting:[function(t,e){"use strict";cc._RF.push(e,"72bb62dvq5KCbxTc9c0YhJv","uiSetting"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.initSettingInfo(),this.initMusic(),this.addEvents(),this.showHideInfo(),gMainMgr.socketSendData("dd","jrgrzx")},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.node_invite.quickBt(function(){GM.HallUi.openInvite(),UICtrl.closeUI(t)}),this.node_kefu.quickBt(function(){gMainMgr.onOpenService()}),this.btn_withdraw.quickBt(function(){t.onGotoWithDraw()}),this.node_exit.quickBt(function(){UICtrl.openUI("uiExit/uiExit")}),this.btn_yhxy.quickBt(function(){UICtrl.openUI("uiSetting/uiUserAgreement")}),this.btn_yszc.quickBt(function(){UICtrl.openUI("uiSetting/uiPrivacyPolicy")}),this.node_zx.quickBt(function(){UICtrl.openUI("uiExit/uiExit",function(t){t.lab_title.setLabel("\u786e\u5b9a\u6ce8\u9500\u5417")})})},initSettingInfo:function(){var t=this;gMainMgr.onShowHeardInfo(gameData.headWeb,this.img_head),gameData.nickname&&""!=gameData.nickname?this.lbl_name.setLabel(gameData.nickname):this.lbl_name.setLabel(" "),this.lbl_ID.setLabel("ID:"+gameData.userid),this.lbl_level.setLabel("\u7b2c"+gameData.maxSoldiersLv+"\u7ea7"),this.img_player_exp.getComponent(cc.Sprite).fillRange=gameData.maxSoldiersLv/88,webData.onRecover_barPageDataCallBack(function(e){t._mLevelRedList=e.process_bar_list,t._process_bar=e.process_bar,gameData.set("red_process_bar",e.process_bar),t.initRedLevelDataInfo(e.process_bar_list)}),this.lab_yue.setLabel(util.formatNum(gameData.red_balance))},initRedLevelDataInfo:function(t){if(t&&!(t.length<=0)){this._curShowRedLevelIndex=-1;for(var e=0,i=!1,n=0;n<t.length;n++){var a=t[n];if(a){if("waiting"==a.status){this._curShowRedLevelIndex=n,e=100;break}if("doing"==a.status){this._curShowRedLevelIndex=n,e=Number(this._process_bar);break}if("waiting_begin"==a.status){this._curShowRedLevelIndex=n,e=0;break}if("finish_lock"==a.status){this._curShowRedLevelIndex=n,e=100,i=!0;break}if("doing_lock"==a.status){this._curShowRedLevelIndex=n,e=Number(this._process_bar),i=!0;break}if("waiting_begin_lock"==a.status){this._curShowRedLevelIndex=n,e=0,i=!0;break}}}if(this._curShowRedLevelIndex>=0){var o=t[this._curShowRedLevelIndex];this.lbl_red_num.setLabel(o.amount+"\u5143"),this.img_process.getComponent(cc.Sprite).fillRange=e/100,i?(this.lbl_process_num.setLabel(" "),this.lbl_jiesuo_tiaojian.setLabel("\u8fbe\u5230"+o.level+"\u7ea7\u89e3\u9501"),this.btn_withdraw.active=!1,this.btn_cannot_withdraw.active=!0,this.img_no_jiesuo_bg.active=!0):(this.lbl_process_num.setLabel((Math.floor(Number(100*e))/100).toFixed(2)+"%"),e>=100?(this.btn_withdraw.active=!0,this.btn_cannot_withdraw.active=!1):(this.btn_withdraw.active=!1,this.btn_cannot_withdraw.active=!0))}}},onGotoWithDraw:function(){var t=this,e=this._mLevelRedList[this._curShowRedLevelIndex];UICtrl.openUI("uiLevelRed/uiLevelRedWithDraw",function(i){i.initData(e.amount,function(){e.level?webData.onRecover_barWithdrawCallBack(e.level,function(){t._mLevelRedList[t._curShowRedLevelIndex].status="done",t.initRedLevelDataInfo(t._mLevelRedList),UICtrl.closeUI("uiLevelRed/uiLevelRedWithDraw"),util.showTip("\u63d0\u73b0\u6210\u529f")},function(t){util.showTip(t.message)}):webData.onRecover_firstWithdrawCallBack(function(){t._mLevelRedList[t._curShowRedLevelIndex].status="done",t.initRedLevelDataInfo(t._mLevelRedList),UICtrl.closeUI("uiLevelRed/uiLevelRedWithDraw"),util.showTip("\u5df2\u6210\u529f\u63d0\u73b0\u5230\u5fae\u4fe1\u94b1\u5305\uff01")},function(t){util.showTip(t.message)})})})},initMusic:function(){var t=this;this.btn_music_on.quickBt(function(){t.setMusicOff()},!0),this.btn_music_off.quickBt(function(){t.setMusicOn()},!0),this.btn_effect_on.quickBt(function(){t.setEffectOff()},!0),this.btn_effect_off.quickBt(function(){t.setEffectOn()},!0),1==gameData.settingMusic?(this.btn_music_on.active=!0,this.btn_music_off.active=!1):(this.btn_music_on.active=!1,this.btn_music_off.active=!0),1==gameData.settingEffect?(this.btn_effect_on.active=!0,this.btn_effect_off.active=!1):(this.btn_effect_on.active=!1,this.btn_effect_off.active=!0)},setMusicOff:function(){this.btn_music_on.active=!1,this.btn_music_off.active=!0,audioData.switchMusic(0)},setMusicOn:function(){this.btn_music_on.active=!0,this.btn_music_off.active=!1,audioData.switchMusic(1)},setEffectOff:function(){this.btn_effect_on.active=!1,this.btn_effect_off.active=!0,audioData.switchEffect(0)},setEffectOn:function(){this.btn_effect_on.active=!0,this.btn_effect_off.active=!1,audioData.switchEffect(1)},showHideInfo:function(){var t=this;this.hideClick=1,this.lbl_chanel_desc.active=!1,this.img_title.onTouch(function(){if(t.hideClick++,5==t.hideClick){t.lbl_chanel_desc.active=!0;var e=nativeData.getChannelCode();t.lbl_chanel_desc.getComponent(cc.Label).string="\u672c\u5730\u6e20\u9053:"+e+"\uff0c\u5b9e\u9645\u6e20\u9053\uff1a"+gameData.gChannel,t.lbl_chanel_desc.getComponent(cc.Label).string+="\n\u5f53\u524d\u7248\u672c:"+gMainMgr.VERSION;var i=(8==nativeData.network_firm_id?"b":"a")+":"+nativeData.network_placement_id;t.lbl_chanel_desc.getComponent(cc.Label).string+="\n"+i}})},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiShareImg:[function(t,e){"use strict";cc._RF.push(e,"cf77aL1f7lOc5Egf6iWALoM","uiShareImg"),cc.Class({extends:t("uiWindowBase"),properties:{spxz1:cc.SpriteFrame,spxz2:cc.SpriteFrame},start:function(){this.judgeThirdAPPIsInstall(),this.addEvents(),this.lab_msg.setLabel("\u9080\u8bf7\u597d\u53cb\u53ef\u83b7\u5f97\u7ea2\u5305\u5956\u52b1")},judgeThirdAPPIsInstall:function(){nativeData.isInstallWX()?(console.log("wx\u5df2\u5b89\u88c5"),this.btn_wx.active=!0,this.btn_pyq.active=!0):(console.log("wx\u672a\u5b89\u88c5"),this.btn_wx.active=!1,this.btn_pyq.active=!1),nativeData.isInstallQQ()?(console.log("QQ\u5df2\u5b89\u88c5"),this.btn_qq.active=!0,this.btn_qzone.active=!0):(console.log("QQ\u672a\u5b89\u88c5"),this.btn_qq.active=!1,this.btn_qzone.active=!1)},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)}),this.btn_wx.quickBt(function(){t.btn_wx.canTouch=!1,t.btn_pyq.canTouch=!1,t.btn_qq.canTouch=!1,t.btn_qzone.canTouch=!1,t.shareimg("WX")}),this.btn_pyq.quickBt(function(){t.btn_wx.canTouch=!1,t.btn_pyq.canTouch=!1,t.btn_qq.canTouch=!1,t.btn_qzone.canTouch=!1,t.shareimg("PYX")}),this.btn_qq.quickBt(function(){t.btn_wx.canTouch=!1,t.btn_pyq.canTouch=!1,t.btn_qq.canTouch=!1,t.btn_qzone.canTouch=!1,t.shareimg("QQ")}),this.btn_qzone.quickBt(function(){t.btn_wx.canTouch=!1,t.btn_pyq.canTouch=!1,t.btn_qq.canTouch=!1,t.btn_qzone.canTouch=!1,t.shareimg("QZONE")})},shareimg:function(t){var e=this;if("y"==nativeData.initPermission()||util.isIos()){gMainMgr.socketSendData("dd","invite"),this.sp_wait.active=!0;var i=this.page_view.getComponent(cc.PageView).getCurrentPageIndex();this["sp_xz"+i].active=!1;var n="";gameData.shareType?(n="share.png",nativeData.openShareImg(t,util.saveImg(this["page_"+i],n,function(){e["sp_xz"+i].active=!0,e.sp_wait.active=!1,setTimeout(function(){UICtrl.closeUI(e)},500)}))):(n="share"+util.getNow()+".png",nativeData.saveTextureToLocal(util.saveImg(this["page_"+i],n,function(){e["sp_xz"+i].active=!0,e.sp_wait.active=!1}),function(i){"y"==i?(e.btn_wx.canTouch=!0,e.btn_pyq.canTouch=!0,e.btn_qq.canTouch=!0,e.btn_qzone.canTouch=!0,UICtrl.openUI("uiInvite/uiSavephoto",function(e){e.initData(t)})):(util.showTip("\u4fdd\u5b58\u56fe\u7247\u5931\u8d25"),e.btn_wx.canTouch=!0,e.btn_pyq.canTouch=!0,e.btn_qq.canTouch=!0,e.btn_qzone.canTouch=!0)}))}else UICtrl.closeUI(this)},pageviewCurrPag:function(){for(var t=this.page_view.getComponent(cc.PageView).getCurrentPageIndex(),e=0;e<2;e++)this["sp_xz"+e].getComponent(cc.Sprite).spriteFrame=t==e?this.spxz1:this.spxz2}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiShop:[function(t,e){"use strict";cc._RF.push(e,"9879b8RcdFBEKt9b7mm2qt2","uiShop"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents(),this.initData()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1)},onDestroy:function(){},initData:function(){this.datas=soldiersCsvData.getAllDatas();var t=Object.keys(this.datas);this.soldier_view.getComponent("uiScrollView").resetData(t,this.createItem.bind(this),null)},createItem:function(t,e,i){var n=this.datas[i];if(n){if(e.lab_lv.setLabel(n.lv),iosGameData.maxSoldiersLv>=shopCsvData.getUnlockByID(n.lv)){e.sp_notcan.active=!1,e.sp_canbuy.active=!0,e.sp_zz.active=!1;var a=shopCsvData.getSolideGold(n.lv);e.lab_coin.setLabel(a.toBitString())}else e.sp_notcan.active=!0,e.sp_canbuy.active=!1,e.sp_zz.active=!0;var o=soldiersCsvData.getImageByID(n.lv),s=soldiersCsvData.getSpineNameByID(n.lv),r=e.sp_role.getComponent("sp.Skeleton");gMainMgr.onChangeSkeletonData(r,s,o,null),e.btn_buy.quickBt(function(){var t=shopCsvData.getSolideGold(n.lv);iosGameData.gGold<t?GM.HallUi.showEenoughDlg():(GM.HallUi.quickBuy(n.lv),t=shopCsvData.getSolideGold(n.lv),e.lab_coin.setLabel(t.toBitString()))})}}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiShowShareData:[function(t,e){"use strict";cc._RF.push(e,"8287e1LKPxPEoN8rgfaumHj","uiShowShareData"),cc.Class({extends:ui.baseNode,properties:{labname:{type:cc.Label,default:null},labcontext:{type:cc.Label,default:null},sphard:{type:cc.Sprite,default:null},spnode:{type:cc.Node,default:null},labRich:{type:cc.RichText,default:null}},start:function(){this.initData(),this.drawQRcode()},initData:function(){this.labname.string="Hi\uff0c\u6211\u662f"+gameData.nickname,this.labRich.string="<color=#000000>\u5feb\u6765</c><color=#FF0000><outline=#FF0000 width=2>\u300a\u79e6\u6c49\u5927\u4e71\u6597\u300b</outline></color><color=#000000>\u548c\u6211\u4e00\n\u8d77\u8d5a\u94b1\u5427</c>";var t=gameData.headWeb;t&&""!=t&&-1!=t.indexOf("/")&&util.loadUrlImg(this.sphard,t)},drawQRcode:function(){var t=new QRCode(-1,QRErrorCorrectLevel.H),e=gameData.shareUrl+"?invitation="+gameData.userid;t.addData(e),t.make();for(var i=this.spnode.getComponent(cc.Graphics),n=this.spnode.width/t.getModuleCount(),a=this.spnode.height/t.getModuleCount(),o=0;o<t.getModuleCount();o++)for(var s=0;s<t.getModuleCount();s++){t.isDark(o,s)?i.fillColor=cc.Color.BLACK:i.fillColor=cc.Color.WHITE;var r=Math.ceil((s+1)*n)-Math.floor(s*n),c=Math.ceil((o+1)*n)-Math.floor(o*n);i.rect(Math.round(s*n),Math.round(o*a),r,c),i.fill()}}}),cc._RF.pop()},{}],uiSign:[function(t,e){"use strict";cc._RF.push(e,"9cc81c2NwFL7Ixecj6Ysa6L","uiSign"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){var t=this;this.signAward=[],this.addEvents(),this.getSignData(),this.btn_back.active=!1,this.scheduleOnce(function(){t.btn_back.active=!0},G_CLOSE_DELAY_TIME)},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_sure.quickBt(function(){gameData.isSign1?util.showTip("\u4eca\u65e5\u5df2\u7b7e\u5230"):t.openAward()})},initData:function(t){var e=t.list;for(var i in this.mayday=0,e){var n=Number(i)+1;this["lab_award"+n].setLabel(e[i].desc),e[i].is_today?(this["img_light_bg_"+n].active=!0,gameData.set("isSign1",e[i].is_sign),this.mayday=n-1,e[i].is_sign?(this["img_already_bg_"+n].active=!0,this["img_get_"+n].active=!0):util.showArtEffect("ui/effect/kelingqu",this["img_light_bg_"+n],this["img_red_icon_"+n].position,"kelingqu",null,!0,-1)):e[i].is_sign?(this["img_already_bg_"+n].active=!0,this["img_get_"+n].active=!0):this["img_light_bg_"+n].active=!1,this.signAward.push(e[i].desc)}gameData.isSign1&&(this.node_sure.active=!0,this.btn_sure.active=!1),this.extra=t.extra_reward},openAward:function(){var t=this;gameData.hsVideoCnt<=0?util.showTip("\u4eca\u65e5\u89c6\u9891\u5df2\u8fbe\u4e0a\u9650"):gMainMgr.isCheckOpenAd(function(){nativeData.showRewardAd(function(){t.getAward();var e=UICtrl.findUI("uiBonus/uiBonusMsg");(e||cc.isValid(e))&&UICtrl.closeUI("uiBonus/uiBonusMsg")})})},getAward:function(){var t=this;webData.sign_rewardCallBack(function(e){gameData.set("isSign1",!0),gameData.add("isSignContinuity1",1),gMainMgr.onShowCommonGetRed(1,e.data.change_amount,G_REWARD_TYPE.REWARD_TYPE_RED_PROCESS,G_OPEN_RED_TYPE.RED_SIGN_RWWARD,function(){gMainMgr.playCoinsFly3()},function(){gMainMgr.playCoinsFly3()}),t.getSignData(),UICtrl.closeUI("uiCommon/uiOpenRed")},function(t){util.showTip(t.message)})},getSignData:function(){var t=this;webData.sign_listCallBack(function(e){t.initData(e.data)},function(e){util.showTip(e.message),UICtrl.closeUI(t)})},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiSoldiersDlg:[function(t,e){"use strict";cc._RF.push(e,"6079bHlnRJAWqdaBQt4RD/6","uiSoldiersDlg"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents()},addEvents:function(){var t=this;this.btn_lock.quickBt(function(){t.func&&t.func()}),this.btn_air.quickBt(function(){t.func&&t.func()}),this.btn_supplement.quickBt(function(){t.func&&t.func()}),this.btn_get.quickBt(function(){t.func&&t.func()}),this.btn_back.quickBt(function(){t.closefun&&t.closefun(),UICtrl.closeUI(t)},null,null,1),this.btn_cnt.quickBt(function(){t.func&&t.func()}),this.btn_close.quickBt(function(){t.closefun&&t.closefun(),UICtrl.closeUI(t)})},initData:function(t,e,i,n,a,o,s){var r=this;this["node_"+e].active=!0,this.func=o,this.closefun=s,this.lab_value.setLabel(n),"lock"==e?(this.btn_back.active=!0,this.lab_lock.setLabel("+"+a),gMainMgr.setShowAd()):(this.btn_back.active=!1,this.scheduleOnce(function(){r.btn_back.active=!0},G_CLOSE_DELAY_TIME),"cnt"==e&&(this.deleyTime=gameData.error_touch_time)),this.onGetRedAd(),gMainMgr.isaudit&&(this.btn_back.active=!0);var c=soldiersCsvData.getImageByID(t);this._monsterAni=this.sp_icon.getComponent("sp.Skeleton"),gMainMgr.onChangeSkeletonData(this._monsterAni,i,c)},onEnable:function(){},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiSoldiers:[function(t,e){"use strict";cc._RF.push(e,"399d9zWuOZHJLchlo3UOSlU","uiSoldiers"),cc.Class({extends:ui.baseNode,properties:{},start:function(){this._soldiersMgr=void 0,B_REVIEW_VER_IOS?this._soldiersMgr=soldiersIOSMgr:this._soldiersMgr=soldiersMgr,this.initTouch()},initData:function(t,e,i,n){this._pID=parseInt(t),this._pOrder=parseInt(e),this.initPos(),this.node.scale=.4,this._pInitOrder||(this._pInitOrder=this._pOrder);var a=soldiersCsvData.getImageByID(t),o=soldiersCsvData.getSpineNameByID(t);if(this.spineName=o,this._monsterAni=this.node.getComponent("sp.Skeleton"),gMainMgr.onChangeSkeletonData(this._monsterAni,o,a),n&&this.node.runAction(cc.sequence(cc.scaleTo(.05,.5),cc.scaleTo(.1,.4))),this.xuying){var s=COUNT_P[this._pOrder],r=cc.v2(s.x,s.y-45);this.xuying.position=r,this.xuying.opacity=180}},initTouch:function(){this.node_size.on(cc.Node.EventType.TOUCH_START,this.touchStart.bind(this)),this.node_size.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove.bind(this)),this.node_size.on(cc.Node.EventType.TOUCH_END,this.touchEnd.bind(this)),this.node_size.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd.bind(this))},initPos:function(){var t=COUNT_P[this._pOrder],e=cc.v2(t.x,t.y-45);this.node.position=e,this.initPosint=e,this.sp_soldiers_lv.getChildByName("lab_soldiers_lv").setLabel(this._pID),e=cc.v2(e.x-55,e.y+85),this.sp_soldiers_lv.position=e},resetData:function(t,e){this._pID=parseInt(t),this._pOrder=parseInt(e),this.initPos(),this.node.scale=.4},touchStart:function(){if(!this._soldiersMgr.mergeeffectList[this._pOrder])if(this._soldiersMgr.updateTouchState(),GM.touchScreen=!0,this.curIndex=this.node.zIndex,this.node.zIndex=9999,this._soldiersMgr.showSoldierOpacity(this._pID,this._pOrder),this.xuying)this.xuying.active=!0;else{if(!this.node.parent)return;this.xuying=cc.instantiate(this.node),this.xuying.parent=this.node.parent;var t=COUNT_P[this._pOrder],e=cc.v2(t.x,t.y-45);this.xuying.position=e,this.xuying.opacity=180;var i=this.xuying.getComponent("sp.Skeleton"),n=soldiersCsvData.getImageByID(this._pID),a=soldiersCsvData.getSpineNameByID(this._pID);gMainMgr.onChangeSkeletonData(i,a,n)}},touchMove:function(t){if(!this._soldiersMgr.mergeeffectList[this._pOrder]){B_REVIEW_VER_IOS||(util.calcTwoPointDistance(this.node.position,this.initPosint)<10?(this.startToucn||(GM.HallUi.btn_buy.active=!0,GM.HallUi.btn_huishou.active=!1),this.startToucn=!0):(GM.HallUi.btn_buy.active=!1,GM.HallUi.btn_huishou.active=!0));var e=this._soldiersMgr.getOrderByPos(this.node.position);this._soldiersMgr.showSoldierType(this._pID,this._pOrder,e);var i=t.touch.getDelta();this.node.x+=i.x,this.node.y+=i.y}},touchEnd:function(){var t=this;if(GM.HallUi.art_finger.stopAllActions(),GM.HallUi.art_finger.active=!1,GM.HallUi.updateGuideMerge(),this._soldiersMgr.updateTouchEnd(),!this._soldiersMgr.mergeeffectList[this._pOrder])if(this.node.zIndex=this.curIndex,this.xuying&&(this.xuying.active=!1),this._soldiersMgr.hideSoldierOpacity(),PIGSTY_DEL.contains(this.node.position)){if(!gameData.ifGuide)return void this.initPos();UICtrl.openUI("uiHall/uiRecycling",function(e){e.initData(function(){audioData.playSoundByID(35),t._soldiersMgr.itemDelete(t._pOrder,t.node)},function(){t.initPos()})})}else{var e=this._soldiersMgr.getOrderByPos(this.node.position);e!=this._pOrder?e?this._soldiersMgr.combine(this._pOrder,this._pID,e)||(console.log("[\u590d\u4f4d]",this._pOrder,this._pInitOrder),this.initPos()):(console.log("[\u590d\u4f4d]\u6ca1\u4eba\u5934\u9876",this._pOrder,this._pInitOrder),this.initPos()):(console.log("[\u590d\u4f4d]\u81ea\u5df1\u5934\u9876",this._pOrder,this._pInitOrder),this.initPos())}},update:function(){},onDestroy:function(){this.node.stopAllActions(),this.xuying&&this.xuying.removeFromParent(!0),this.sp_soldiers_lv.destroy(),this._soldiersMgr.updateTouchEnd(),this._soldiersMgr.hideSoldierOpacity()}}),cc._RF.pop()},{}],uiSpeedUpDesc:[function(t,e){"use strict";cc._RF.push(e,"4b755QBRxhErrAj92DcwbNM","uiSpeedUpDesc"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_sure.quickBt(function(){UICtrl.closeUI(t)})},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiStopWindow:[function(t,e){"use strict";cc._RF.push(e,"7bbe2/jYdVIJJYiWUGs/WUX","uiStopWindow"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents()},addEvents:function(){this.btn_back.quickBt(function(){cc.game.end()},null,null,1)},initStopInfo:function(t,e){this.lbl_note_1.setLabel(t),this.lbl_note_2.setLabel(e)}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiThousandMsg:[function(t,e){"use strict";cc._RF.push(e,"942a19nn5JHM4o6mD15js1N","uiThousandMsg"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1),this.btn_ckxq1.quickBt(function(){gMainMgr.socketSendData("dd","withdrawal_rule_show"),UICtrl.openUI("uiLevelRed/uiMyWalletMsg",function(t){t.initDataMsg("tx")})}),this.btn_ckxq2.quickBt(function(){gMainMgr.socketSendData("dd","withdrawal_rule_show"),UICtrl.openUI("uiLevelRed/uiMyWalletMsg",function(t){t.initDataMsg("tx")})}),this.btn_ckxq3.quickBt(function(){gMainMgr.socketSendData("dd","withdrawal_rule_show"),UICtrl.openUI("uiLevelRed/uiMyWalletMsg",function(t){t.initDataMsg("tx")})}),this.btn_ckxq4.quickBt(function(){UICtrl.openUI("uiLevelRed/uiMyWalletMsg",function(t){t.initDataMsg("tx")})})},onDestroy:function(){},initData:function(t){this["node_"+t].active=!0},initDataMsg:function(t){this["lab_"+t].active=!0}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiThousandRed:[function(t,e){"use strict";cc._RF.push(e,"cc5d1HYAhdFIao6Y7R0+o0d","uiThousandRed"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.node.setContentSize(720,GM.G_HEIGHT),this.addEvents(),this.initData()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){gMainMgr.closeDlgAction(t.sp_bg,GM.HallUi.btn_thousand,function(){UICtrl.closeUI(t)})},null,null,1),this.btn_tixian.quickBt(function(){var e=[75,80,85];for(var i in t.liststatus)1==t.liststatus[i].status&&(0==Number(i)?util.showTip("\u4f59\u989d\u4e0d\u8db3"):e[i]?util.showTip("\u58eb\u5175\u672a\u8fbe\u5230"+e[i]+"\u7ea7"):util.showTip("\u9700\u8981\u5b8c\u62102500\u5173"))}),this.btn_wen.quickBt(function(){var t=UICtrl.findUI("uiThousandRed/uiThousandMsg");t||cc.isValid(t)||UICtrl.openUI("uiThousandRed/uiThousandMsg",function(){})})},getRedData:function(){var t=this;webData.thousand_red_red_listCallBack(function(e){cc.isValid(t.node)&&t.initData(e.data)},function(e){util.showTip(e.message),UICtrl.closeUI(t)})},initData:function(){for(var t=[],e=[75,80,85],i=[100,200,300,500],n=0,a=!1,o=0;o<3;o++){var s={};gameData.maxSoldiersLv>=e[o]?(s.status=2,n+=i[o]):gameData.maxSoldiersLv<e[o]&&(s.status=1,a&&(s.status=0),a=!0),t.push(s)}var r={};for(var c in r.status=a?0:1,t.push(r),this.liststatus=t,t){var l=Number(c)+1;this["lab_money"+l].setLabel(i[c]+"\u5143"),0==t[c].status?(this["sp_taskmask"+l].active=!0,this["sp_taskfinish"+l].active=!1):2==t[c].status?(this["sp_taskmask"+l].active=!1,this["sp_taskfinish"+l].active=!0,this["sp_deng"+l].active=!0):(this["sp_hudie"+l].active=!0,this["effect_task"+l].active=!0,this["effect_lantern"+l].active=!0)}this.lab_red.setLabel(n+"\u5143")},onDestroy:function(){}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiTree:[function(t,e){"use strict";cc._RF.push(e,"cc365rUUbJObIOoikqE/MhN","uiTree"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){var t=this;this.node.setContentSize(720,GM.G_HEIGHT),this.addEvents(),this._monsterAni=this.sp_tree.getComponent("sp.Skeleton"),this.lab_yuan.setLabel("\u5143"),webData.tree_pageCallBack(function(e){t.redTree=Number(e.data.shake_red_balance)/100,t.TreeDayCnt=Number(e.data.remain_cnt),t.user_sign_cnt=Number(e.data.user_sign_cnt),t.sign_total_days=Number(e.data.sign_total_days),t.today_video_cnt=Number(e.data.today_video_cnt),t.video_config_cnt=Number(e.data.video_config_cnt),gameData.showTreeFing<8&&t.TreeDayCnt>0&&(gameData.add("showTreeFing",1),t.art_finger1.active=!0),t.initData(),Number(e.data.shake_min_withdraw_amount)<=Number(e.data.shake_red_balance)&&(t.btn_dk.active=!0,"done"!=e.data.user_sign_status&&"today_done"!=e.data.user_sign_status||(t.sp_ydk.active=!0))},function(t){util.showTip(t.message)})},addEvents:function(){var t=this;this.btn_back.quickBt(function(){t.shakeing?util.showTip("\u6447\u6811\u6b63\u5728\u8fdb\u884c\u4e2d\uff0c\u8bf7\u7a0d\u540e"):gMainMgr.closeDlgAction(t.sp_bg,GM.HallUi.btn_tree,function(){UICtrl.closeUI(t)})},null,null,1),this.btn_shake2.quickBt(function(){t.shakeing?util.showTip("\u6b63\u5728\u6447\u6811\uff0c\u8bf7\u7a0d\u540e"):t.TreeDayCnt<=0?(util.showTip("\u4eca\u65e5\u201c\u6447\u4e00\u6447\u201d\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650"),audioData.playSoundByID(2)):(t.art_finger1.active=!1,audioData.playSoundByID(41),t.shakeing=!0,t._monsterAni.setAnimation(0,"shake",!1),t._monsterAni.setCompleteListener(function(){t._monsterAni.setAnimation(0,"idle",!0)}),webData.tree_shakeCallBack(function(e){t.TreeDayCnt=Number(e.data.remain_cnt),t.initData(),t.scheduleOnce(function(){t.openAward(e.data)},2)},function(e){t.shakeing=!1,util.showTip(e.message)}))},!1,!1,3),this.btn_tx.quickBt(function(){webData.tree_withdrawCallBack(function(){},function(t){util.showTip(t.message)})}),this.btn_dk.quickBt(function(){t.sp_ydk.active||nativeData.showRewardAd(function(){webData.tree_dakaCallBack(function(e){"video"==e.data.opearate_type?(t.today_video_cnt=t.today_video_cnt+1,t.initData(),util.showTip("\u518d\u89c2\u770b"+(t.video_config_cnt-t.today_video_cnt)+"\u6b21\u5e7f\u544a\u53ef\u6253\u5361\u6210\u529f")):"sign"==e.data.opearate_type&&(t.sp_ydk.active=!0,t.user_sign_cnt=t.user_sign_cnt+1,t.today_video_cnt=t.today_video_cnt+1,t.initData(),util.showTip("\u6253\u5361\u6210\u529f"))},function(t){util.showTip(t.message)})},function(){})}),this.img_wenhao.quickBt(function(){GM.HallUi.openRule("tree")})},onDestroy:function(){},openAward:function(t){var e=this;if("luck"==t.luck_type){var i=(Number(t.award)/100).toFixed(2);gMainMgr.onShowCommonGetRed(1,i,G_REWARD_TYPE.REWARD_TYPE_MONEY,G_WALLET_MONEY_TYPE.MONEY_LOTTERY_REWARD,function(){gMainMgr.playCoinsFly(null,null,null,null,null,null,e.node_red,function(){e.redTree=Number(t.shake_red_balance)/100,e.initData(),e.shakeing=!1})},function(){})}else this.shakeing=!1,UICtrl.openUI("uiHall/uiClickCd",function(t){t.initData("\u5f88\u9057\u61be\uff0c\n\u8fd9\u6b21\u4ec0\u4e48\u90fd\u6ca1\u6447\u5230\u3002",2)})},initData:function(){this.lab_red.setLabel(this.redTree.toFixed(2)),this.lab_shake2.setLabel(this.TreeDayCnt),this.lab_da.setLabel("\u5df2\u6253\u5361("+this.user_sign_cnt+"/"+this.sign_total_days+")"),this.video_config_cnt>1&&this.lab_video.setLabel("\uff08\u672c\u6b21\u6253\u5361\u9700\u89c2\u770b"+this.video_config_cnt+"\u4e2a\u89c6\u9891\uff0c\u5f53\u524d"+this.today_video_cnt+"/"+this.video_config_cnt+"\uff09")}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiUpdate:[function(t,e){"use strict";cc._RF.push(e,"e43ff/7nWFDUotzq6GuBZMO","uiUpdate");var i=t("uiHotUpdate");cc.Class({extends:i,properties:{_lastPro:{default:0,type:cc.Integer},nodeUpdate:cc.Prefab},onUpdate:function(t){(t=parseInt(t))>=100&&(t=100),t<=0&&(t=0),t<this._lastPro&&(t=this._lastPro),this._lastPro=t,this._lastPro>=100||t<=2||(this.updateNode||(this.updateNode=cc.instantiate(this.nodeUpdate),this.updateNode.parent=this.node),console.log("\u70ed\u66f4\u65b0\u4e2d",t,t/100),this.updateNode.img_process.getComponent(cc.Sprite).fillRange=t/100,this.updateNode.lbl_process.getComponent(cc.Label).string=t+"%")},showBtnUpdata:function(){var t=this;this.btn_update.active=!0,this.btn_update.quickBt(function(){t.btn_update.active=!1,t.hotUpdate()})}}),cc._RF.pop()},{uiHotUpdate:"uiHotUpdate"}],uiUserAgreement:[function(t,e){"use strict";cc._RF.push(e,"b87cdo9eWVAIIFJenlqQG2x","uiUserAgreement"),cc.Class({extends:t("uiWindowBase"),properties:{},start:function(){this.addEvents()},addEvents:function(){var t=this;this.btn_back.quickBt(function(){UICtrl.closeUI(t)},null,null,1)}}),cc._RF.pop()},{uiWindowBase:"uiWindowBase"}],uiWXLogin:[function(t,e){"use strict";cc._RF.push(e,"982f9G9EJRL7ZHV2mSF87BX","uiWXLogin"),cc.Class({extends:ui.baseNode,properties:{},start:function(){var t=this;this.btn_login.quickBt(function(){t.img_gou.active?(t.loginToWX(),t.unenableButton(t.btn_login)):util.showTip("\u9700\u8981\u540c\u610f\u7528\u6237\u534f\u8bae")}),this.img_kuang.quickBt(function(){t.img_gou.active?t.img_gou.active=!1:t.img_gou.active=!0}),this.btn_yhxy.quickBt(function(){UICtrl.openUI("uiSetting/uiUserAgreement")}),this.btn_yszc.quickBt(function(){UICtrl.openUI("uiSetting/uiPrivacyPolicy")});var e=nativeData.getChannelCode();this.sp_quan.active=11==Number(e)||20==Number(e)||40==Number(e),11!=Number(e)&&20!=Number(e)&&40!=Number(e)||(this.img_gou.active=!1),this.btn_yk.active=B_REVIEW_VER_IOS,this.btn_login.active=!B_REVIEW_VER_IOS,this.btn_yk.quickBt(function(){t.unenableButton(t.btn_yk),t.loginToWX()})},unenableButton:function(t){t.canTouch=!1,t.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),this.scheduleOnce(function(){t.canTouch=!0,t.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-spine"))},4)},loginToWX:function(){B_REVIEW_VER_IOS?(cc.Canvas.instance.node.getComponent("main").onTouristLogin(util.randomRange(1e5,999999)),UICtrl.closeUI("uiLoading/uiWXLogin")):nativeData.loginWX()},enterMain:function(){webData.touristsCallBack(function(t){gameData.set("openid",t.data.openid),gameData.storeValue("openid"),gameData.set("headWeb",t.data.avatar_url),gameData.storeValue("headWeb"),gameData.set("nickname",t.data.wx_nickname),gameData.storeValue("nickname"),gameData.set("unionid",t.data.unionid),gameData.storeValue("unionid"),gameData.set("token",t.data.api_token),gameData.storeValue("token"),gameData.set("userid",t.data.user_id),gameData.storeValue("userid"),gameData.set("webtoken",t.data.api_token),gameData.storeValue("webtoken"),webData.getWebLoginData(t),GM.main.loadGame()},function(t){util.showTip(t.message)})}}),cc._RF.pop()},{}],uiWindowBase:[function(t,e){"use strict";cc._RF.push(e,"5f2d1FRxV5F4ZynlZW5DMR0","uiWindowBase"),cc.Class({extends:ui.baseDlg,properties:{showBanner:!1,showFeed:!1,showLongBanner:!1,showAdType:0,deleyTime:0},start:function(){},onEnable:function(){gameData.ifGuide&&!this.closeAction&&this.onGetRedAdShortBanner()},onGetRedAdShortBanner:function(){var t=this;if(gameData.ifGuide&&!this.closeAction)if(this.showAdType){var e,i=gMainMgr._gameConfig.FoBAD[0]+gMainMgr._gameConfig.FoBAD[1];gMainMgr.supplementAD||0===gMainMgr.supplementAD?gMainMgr.supplementAD+=1:gMainMgr.supplementAD=1,e=gMainMgr.supplementAD<=gMainMgr._gameConfig.FoBAD[0]?1:2,this.curShowBnner=e,setTimeout(function(){cc.isValid(t.node)&&t.node&&!t.closeAction&&(1!=e||nativeData.isShowFeed?2!=e||nativeData.isShowBanner||(console.log("========\u663e\u793abanner======="),nativeData.isShowBanner=!0,nativeData.showBanner()):(console.log("========\u663e\u793a\u4fe1\u606f\u6d41======="),nativeData.isShowFeed=!0,nativeData.showFeed()))},this.deleyTime),gMainMgr.supplementAD>=i&&(gMainMgr.supplementAD=0)}else{var n=0;this.showFeed?n=1:this.showBanner?n=2:this.showLongBanner&&(n=3),setTimeout(function(){cc.isValid(t.node)&&t.node&&!t.closeAction&&(1!=n||nativeData.isShowFeed?2!=n||nativeData.isShowBanner?3!=n||nativeData.isShowLongBanner||(nativeData.isShowLongBanner=!0,nativeData.showLongBanner(),console.log("========\u663e\u793a\u957fbanner=======")):(nativeData.isShowBanner=!0,nativeData.showBanner(),console.log("========\u663e\u793abanner=======")):(nativeData.isShowFeed=!0,nativeData.showFeed(),console.log("========\u663e\u793a\u4fe1\u606f\u6d41=======")))},this.deleyTime)}},onGetRedAd:function(){var t=this;if(gameData.ifGuide&&!this.closeAction)if(this.showAdType){var e,i=gMainMgr._gameConfig.FoBAD[0]+gMainMgr._gameConfig.FoBAD[1];gMainMgr.supplementAD||0===gMainMgr.supplementAD?gMainMgr.supplementAD+=1:gMainMgr.supplementAD=1,e=gMainMgr.supplementAD<=gMainMgr._gameConfig.FoBAD[0]?1:3,this.curShowBnner=e,setTimeout(function(){cc.isValid(t.node)&&t.node&&!t.closeAction&&(1!=e||nativeData.isShowFeed?3!=e||nativeData.isShowLongBanner||(console.log("========\u663e\u793a\u957fbanner======="),nativeData.isShowLongBanner=!0,nativeData.showLongBanner()):(console.log("========\u663e\u793a\u4fe1\u606f\u6d41======="),nativeData.isShowFeed=!0,nativeData.showFeed()))},this.deleyTime),gMainMgr.supplementAD>=i&&(gMainMgr.supplementAD=0)}else{var n=0;this.showFeed?n=1:this.showLongBanner?n=3:this.showBanner&&(n=2),setTimeout(function(){cc.isValid(t.node)&&t.node&&!t.closeAction&&(1!=n||nativeData.isShowFeed?3!=n||nativeData.isShowLongBanner?2!=n||nativeData.isShowBanner||(console.log("========\u663e\u793abanner======="),nativeData.isShowBanner=!0,nativeData.showBanner()):(console.log("========\u663e\u793a\u957fbanner======="),nativeData.isShowLongBanner=!0,nativeData.showLongBanner()):(console.log("========\u663e\u793a\u4fe1\u606f\u6d41======="),nativeData.isShowFeed=!0,nativeData.showFeed()))},this.deleyTime)}},onDisable:function(){gameData.ifGuide&&(this.showAdType?this.curShowBnner&&2==this.curShowBnner?(nativeData.isShowBanner&&(nativeData.isShowBanner=!1),console.log("========\u9690\u85cfbanner======="),nativeData.hideBanner()):this.curShowBnner&&3==this.curShowBnner?(nativeData.isShowLongBanner&&(nativeData.isShowLongBanner=!1),console.log("========\u9690\u85cf\u957fbanner======="),nativeData.hideLongBanner()):this.curShowBnner&&1==this.curShowBnner&&(nativeData.isShowFeed&&(nativeData.isShowFeed=!1),console.log("========\u9690\u85cf\u4fe1\u606f\u6d41======="),nativeData.hideFeed()):(this.showBanner&&(nativeData.isShowBanner&&(nativeData.isShowBanner=!1),console.log("========\u9690\u85cfbanner======="),nativeData.hideBanner()),this.showFeed&&(nativeData.isShowFeed&&(nativeData.isShowFeed=!1),console.log("========\u9690\u85cf\u4fe1\u606f\u6d41======="),nativeData.hideFeed()),this.showLongBanner&&(nativeData.isShowLongBanner&&(nativeData.isShowLongBanner=!1),console.log("========\u9690\u85cf\u957fbanner======="),nativeData.hideLongBanner())))}}),cc._RF.pop()},{}],util:[function(t,e){"use strict";cc._RF.push(e,"bf7f1LlY69LZaHgT0BFKrh0","util");var i={display:function(t,e,i,n){if(t=t&&t.node||t,cc.isValid(t)){if(!t.__imgPath__||t.__imgPath__!==e)if(t.__imgPath__,void 0===e||""===e)t.removeComponent(cc.Sprite);else if("string"==typeof e){var a=t.getComponent(cc.Sprite)||t.addComponent(cc.Sprite);if(i){var o=i+"/"+e;cc.isValid(GM.hasLoadImg[o])?a.spriteFrame=GM.hasLoadImg[o]:cc.resources.load(i,cc.SpriteAtlas,function(i,s){if(i)console.error(i.message||i);else if(cc.isValid(t)){var r=s._spriteFrames[e];GM.hasLoadImg[o]=r,a.spriteFrame=r,n&&n()}})}else cc.isValid(GM.hasLoadImg[e])?(a.spriteFrame=GM.hasLoadImg[e],n&&n()):cc.resources.load(e,cc.SpriteFrame,function(i,o){i?console.error(i.message||i):cc.isValid(t)&&(GM.hasLoadImg[e]=o,a.spriteFrame=o,n&&n())})}}else console.error("util.display arg1  mush be a cc.node component")},getSuffixName:function(t){var e=t.lastIndexOf("."),i=t.length,n=t.substring(e+1,i);return n.length>3&&(n="png"),n},loadUrlImg:function(t,e){e&&""!=e&&(t.getComponent(cc.Sprite)||t.addComponent(cc.Sprite),cc.isValid(GM.hasLoadImg[e])?t.getComponent(cc.Sprite).spriteFrame=GM.hasLoadImg[e]:cc.loader.load({url:e,type:i.getSuffixName(e)},function(i,n){if(!i){var a=new cc.SpriteFrame(n);GM.hasLoadImg[e]=a,cc.isValid(t)&&t.getComponent(cc.Sprite)&&(t.getComponent(cc.Sprite).spriteFrame=a)}}))},showArtEffect:function(t,e,i,n,a,o,s,r){null!=t&&""!=t&&cc.resources.load(t,cc.Prefab,function(t,c){if(t)console.error(t.message||t);else{var l=cc.instantiate(c);i&&l.setPosition(i),cc.isValid(e)&&(s&&(l.zIndex=s),r&&(l.scale=r),e.addChild(l),n&&""!=n?(l.getComponent(cc.Animation).play(n),l.getComponent(cc.Animation).on("stop",function(){a&&a(),o||l.destroy()},e)):l.active=!1)}})},randomRange:function(t,e){e=e||0,t=t||0;var i=Math.random()*(e-t+1);return Math.floor(t+i)},randomListRange:function(t,e,i){for(var n=i||e-t+1,a=[],o=t;o<=e;o++)a.push(o);return a.sort(function(){return.5-Math.random()}),a.length=n,a},isInteger:function(t){return Number(t)%1==0},ChangeSerTimeToLocal:function(t){var e=t.substr(0,19).replace(/T/," "),i=new Date(e);return Date.parse(i)/1e3},ChangeSerTimeToDay:function(t){return new Date(1e3*t).getDate()||1},ChangeTimeToSeconds:function(t,e){var i=e||3,n=parseInt(t/3600),a=parseInt(t%3600/60),o=t%60/1;return n=("0"+n).substr(-2),a=("0"+a).substr(-2),o=("0"+o).substr(-2),3==i?n+":"+a+":"+o:2==i?a+":"+o:1==i?o:void 0},isNull:function(t){return void 0===t||""===t||null===t||!1===t},convetOtherNodeSpace:function(t,e){if(!t||!e)return null;var i=this.localConvertWorldPoint(t);return this.worldConvertLocalPoint(e,i)},convetOtherNodeSpaceAR:function(t,e){if(!t||!e)return null;var i=this.localConvertWorldPointAR(t);return this.worldConvertLocalPointAR(e,i)},localConvertWorldPointAR:function(t){return t?t.convertToWorldSpaceAR(cc.v2(0,0)):null},localConvertWorldPoint:function(t){return t?t.convertToWorldSpace(cc.v2(0,0)):null},worldConvertLocalPointAR:function(t,e){return t?t.convertToNodeSpaceAR(e):null},worldConvertLocalPoint:function(t,e){return t?t.convertToNodeSpace(e):null},cutstr:function(t,e){if(!t)return"";var i,n=0,a="";i=t.length;for(var o=0;o<i;o++){var s=t.charAt(o);if(n++,escape(s).length>4&&n++,a=a.concat(s),n>=e)return a.concat("...")}return n<e?t:void 0},calcTwoPointDistance:function(t,e){if(!t||!e)return 0;var i=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return Math.sqrt(Math.pow(i,2)+Math.pow(n,2))},getNow:function(){return(new Date).getTime()},isIphoneX:function(){return cc.view.getFrameSize().height/cc.view.getFrameSize().width>1.95},checkDirection:function(t,e){if(!t||!e)return{dir:0};var n={},a=i.calcTwoPointDistance(t,e);return e.x>=t.x&&e.y>=t.y?(n.x=1*Math.abs((e.x-t.x)/a),n.y=1*Math.abs((e.y-t.y)/a),n.dir=1,n):e.x>=t.x&&e.y<=t.y?(n.x=1*Math.abs((e.x-t.x)/a),n.y=-1*Math.abs((t.y-e.y)/a),n.dir=2,n):e.x<=t.x&&e.y<=t.y?(n.x=-1*Math.abs((t.x-e.x)/a),n.y=-1*Math.abs((t.y-e.y)/a),n.dir=3,n):e.x<=t.x&&e.y>=t.y?(n.x=-1*Math.abs((t.x-e.x)/a),n.y=1*Math.abs((e.y-t.y)/a),n.dir=4,n):void 0},TwoPointAngle:function(t,e){var i=e.x-t.x,n=e.y-t.y,a=Math.abs(n)/Math.abs(i),o=0;return n>=0&&i<=0?o=180*Math.atan(a)/Math.PI-90:n>=0&&i>=0?o=90-180*Math.atan(a)/Math.PI:n<=0&&i<=0?o=180*-Math.atan(a)/Math.PI-90:n<=0&&i>=0&&(o=180*Math.atan(a)/Math.PI+90),180-o},formatNum:function(t){null==t&&(t=0);for(var e=""+t,i=0,n="",a=e.length-1;a>=0;a--)n=e[a]+n,3==(i+=1)&&0!=a&&(n=","+n,i=0);return n},checkSameDay:function(t){if(!t||""==t)return!1;var e=new Date(t),i=new Date;return e.getFullYear()==i.getFullYear()&&e.getMonth()==i.getMonth()&&e.getDate()==i.getDate()},checkContinuityDay:function(t){if(!t||""==t)return!1;var e=new Date(t),i=new Date;return e.getFullYear()==i.getFullYear()&&e.getMonth()==i.getMonth()&&e.getDate()+1==i.getDate()},find:function(t,e){if(e<Math.min.apply(null,t))return 0;if(e>Math.max.apply(null,t))return t.length-1;for(var i=0,n=0,a=t.length;n<a;n++)if(t[n]>e){i=n;break}return i},getWeakEnd:function(){var t=new Date,e=new Date;e.setMonth(0),e.setDate(1);var i=t-e,n=Math.ceil(i/864e5);return Math.ceil(n/7)},frameResize:function(){var t=cc.Canvas.instance.designResolution,e=cc.view.getFrameSize();e.width/e.height>t.width/t.height?(cc.Canvas.instance.fitHeight=!0,console.log("[\u6e38\u620f\u9002\u914d\u65b9\u6848fitHeight]",e)):(cc.Canvas.instance.fitWidth=!0,console.log("[\u6e38\u620f\u9002\u914d\u65b9\u6848fitWidth]",e))},getDisHeight:function(){var t=cc.view.getFrameSize().height/cc.view.getFrameSize().width;return t>1.95?360*(t-1280/720):0},formatDecimal:function(t,e){var i=(t=t.toString()).indexOf(".");return t=-1!==i?t.substring(0,e+i+1):t.substring(0),parseFloat(t).toFixed(e)},randomRangefloat:function(t,e){return e=e||0,(t=t||0)+Math.random()*(e-t)},isIos:function(){return cc.sys.os==cc.sys.OS_IOS},showTip:function(t,e){t&&UICtrl.createUI("ui/uiTip/uiAlert",function(i){var n=cc.find("LayerAlert",cc.Canvas.instance.node);i.parent=n,i.getComponent("uiAlert").init(t,e)})},formatSeconds:function(t,e){var i=parseInt(t),n=Math.floor(i/3600)<10?"0"+Math.floor(i/3600):Math.floor(i/3600),a=Math.floor(i/60%60)<10?"0"+Math.floor(i/60%60):Math.floor(i/60%60),o=Math.floor(i%60)<10?"0"+Math.floor(i%60):Math.floor(i%60),s="";if(e||(e=3),3==e)s+=n+":",s+=a+":",s+=""+o;else if(2==e){n=parseInt(n);var r=(a=parseInt(a))+60*n;r<10&&(r=(Array(2).join(0)+r).slice(-2)),s+=r+":",s+=""+o}else 1==e&&(n=parseInt(n),s=60*(a=parseInt(a))+3600*n+(o=parseInt(o)));return s},formatSecondsEn:function(t,e,i){var n=parseInt(t),a=Math.floor(n/3600)<10?"0"+Math.floor(n/3600):Math.floor(n/3600),o=Math.floor(n/60%60)<10?"0"+Math.floor(n/60%60):Math.floor(n/60%60),s=Math.floor(n%60)<10?"0"+Math.floor(n%60):Math.floor(n%60),r="";e||(e=3);var c=["h","m","s"];if("cn"==i&&(c=["\u65f6","\u5206","\u79d2"]),3==e)a>0&&(r+=""+a+c[0]),o>0&&(r+=""+o+c[1]),r+=""+s+c[2];else if(2==e){if((a=parseInt(a))>0)return(r+=""+a+c[0])+o+c[1];var l=(o=parseInt(o))+60*a;l<10&&(l=(Array(2).join(0)+l).slice(-2)),r+=l+c[1],r+=""+s+c[2]}else 1==e&&(a=parseInt(a),r=60*(o=parseInt(o))+3600*a+(s=parseInt(s)));return r},saveImg:function(t,e,n){if(cc.isValid(t)){var a=t.getComponent(cc.Camera);cc.isValid(a)||((a=t.addComponent(cc.Camera)).enabled=!1),a.cullingMask=4294967295;var o=t.__texture;if(!cc.isValid(o)){var s=Math.floor(t.getContentSize().width),r=Math.floor(t.getContentSize().height);0!=s&&0!=r||console.error("\u5206\u4eab\u7684\u8282\u70b9\u5c3a\u5bf8\u4e0d\u80fd\u4e3a0,\u9700\u8981\u4e3a\u56fe\u7247\u7684\u5c3a\u5bf8");var c=cc.view.getFrameSize().width/s,l=cc.winSize.height/r,u=c>l?Number(l).toFixed(2):Number(c).toFixed(2);i.isIos()&&(u=1.7);var d=cc.size(s*u,r*u);console.log("\u622a\u56fe\u8282\u70b9\u5c3a\u5bf8width:"+s+"height:"+r),console.log("\u7f29\u653e\u6bd4\u4f8b\uff1aws"+c+"hs\uff1a"+l+"zoom"+u),console.log("\u622a\u56fe\u5c3a\u5bf8width:"+d.width+"height:"+d.height),cc.v2(0,0),a.zoomRatio=u,o=new cc.RenderTexture,t.__texture=o,o.initWithSize(d.width,d.height),a.targetTexture=o}a.render(t);var h=o.readPixels(),_=o.width,f=o.height,p="/sdcard/"+e;if(i.isIos()&&(p=jsb.fileUtils.getWritablePath()+e),jsb.fileUtils.removeFile(p),jsb.saveImageData(i.filpYImage(h,_,f),_,f,p))return cc.log("save image data success, file: "+p),n&&n&&n(),p;console.log("save image data failed!")}},filpYImage:function(t,e,i){for(var n=new Uint8Array(e*i*4),a=4*e,o=0;o<i;o++)for(var s=(i-1-o)*e*4,r=o*e*4,c=0;c<a;c++)n[r+c]=t[s+c];return n},showStrDownward:function(t){var e=(Math.floor(100*t)/1e4).toFixed(2);return Number(e)},DateFormat:function(t){var e=new Date,i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return t}};e.exports=i,cc._RF.pop()},{}],webData:[function(t,e){"use strict";cc._RF.push(e,"a9c3ctYusdBtZrQMDV5jtym","webData");var i=t("./NewDataMgr").default,n=t("baseData"),a="http://ws-sanguo.php.lw0591.com",o="https://qhdld-ad.yx0599.com",s=cc.Class({extends:n,name:"webData",properties:{_downApkUrl:"https://qhdld.yx0599.com/qhdld/apk/qhdld"},init:function(){this.reconnect=0,window.ISFORMAL?(this._url_cPlus="https://qhdld-api.yx0599.com",this.secretKey="sanguo.ws.produce.q@HFOxqVfmd3Sel",this.wscodeAddress="ws://qhdld-ws.yx0599.com",this._gdti="GET3"):window.ISLOCAL?(this._url_cPlus="http://192.168.66.101:9505",this.secretKey="I&43Bs.s)92Hsm632pl()[Lsh",this.wscodeAddress="ws://192.168.66.101:9505/",o="http://192.168.66.101:9505",this._gdti="GET"):(this._url_cPlus=a,this.secretKey="sanguo-api.dev.Kd9Hs82Js9KsexN9ncVa",this.wscodeAddress="ws://ws-sanguo.php.lw0591.com/",o=a,this._gdti="GET"),this._url_cPlus+="/v1",this.video_host=o+="/v1",this.initMessagePort()},initMessagePort:function(){this.wx_login=this._url_cPlus+"/wx_login",this.userinfo=this._url_cPlus+"/userinfo",this.buy_soldier=this._url_cPlus+"/buy_soldier",this.merge=this._url_cPlus+"/merge",this.recycle_soldier=this._url_cPlus+"/recycle_soldier",this.recover_soldier=this._url_cPlus+"/recover_soldier",this.airdrop_award=this._url_cPlus+"/airdrop_award",this.airdrop_award_gdt=this.video_host+"/airdrop_award",this.video_add_soldier=this._url_cPlus+"/video_add_soldier",this.video_add_soldier_gdt=this.video_host+"/video_add_soldier",this.video_soldier_cnt=this._url_cPlus+"/video_soldier_cnt",this.video_upgrade=this._url_cPlus+"/video_upgrade",this.video_upgrade_gdt=this.video_host+"/video_upgrade",this.auto_merge=this._url_cPlus+"/auto_merge",this.auto_merge_gdt=this.video_host+"/auto_merge",this.sign_list=this._url_cPlus+"/sign/list",this.sign_reward=this._url_cPlus+"/sign/reward",this.sign_reward_gdt=this.video_host+"/sign/reward",this.task_daily_list=this._url_cPlus+"/task/daily_list",this.task_daily_reward=this._url_cPlus+"/task/daily_reward",this.task_daily_reward_gdt=this.video_host+"/task/daily_reward",this.task_achieve_list=this._url_cPlus+"/task/achieve_list",this.task_achieve_reward=this._url_cPlus+"/task/achieve_reward",this.task_achieve_reward_gdt=this.video_host+"/task/achieve_reward",this.task_share=this._url_cPlus+"/task/share",this.online_status=this._url_cPlus+"/online/status",this.online_reward=this._url_cPlus+"/online/reward",this.online_reward_gdt=this.video_host+"/online/reward",this.rand_award=this._url_cPlus+"/rand_award",this.rand_award_gdt=this.video_host+"/rand_award",this.upgrade_red=this._url_cPlus+"/upgrade_red",this.upgrade_red_gdt=this.video_host+"/upgrade_red",this.luck_play_list=this._url_cPlus+"/luck_play/list",this.luck_play_play=this._url_cPlus+"/luck_play/play",this.luck_play_play_gdt=this.video_host+"/luck_play/play",this.profit=this._url_cPlus+"/profit",this.profit_index=this._url_cPlus+"/profit_index",this.video_award=this._url_cPlus+"/video_award",this.video_award_gdt=this.video_host+"/video_award",this.profit_withdraw=this._url_cPlus+"/profit_withdraw",this.profit_rank=this._url_cPlus+"/profit_rank",this.check_points=this._url_cPlus+"/check_points",this.thousand_red_red_list=this._url_cPlus+"/thousand_red/red_list",this.thousand_red_withdraw=this._url_cPlus+"/thousand_red/withdraw",this.soldier_info=this._url_cPlus+"/soldier_info",this.close_airdrop=this._url_cPlus+"/close_airdrop",this.friend_page_data=this._url_cPlus+"/friend/page_data",this.friend_wallet=this._url_cPlus+"/friend/wallet",this.friend_withdraw=this._url_cPlus+"/friend/withdraw",this.friend_red_log=this._url_cPlus+"/friend/red_log",this.friend_recruit_task=this._url_cPlus+"/friend/task",this.friend_recruit_task_award=this._url_cPlus+"/friend/task_award",this.friend_contribution_log=this._url_cPlus+"/friend/contribution_log",this.friend_oneChild_list=this._url_cPlus+"/friend/child_list",this.friend_parent_info=this._url_cPlus+"/friend/parent_info",this.friend_get_contribute=this._url_cPlus+"/friend/get_contribute",this.friend_child_info=this._url_cPlus+"/friend/child_info",this.friend_vaild_active_page=this._url_cPlus+"/friend/valid_active_page",this.friend_valid_active_award=this._url_cPlus+"/friend/valid_active_award",this.tourists_login=this._url_cPlus+"/tourists_login",this.clear_position_icon=this._url_cPlus+"/clear_position_icon",this.quick_red=this._url_cPlus+"/quick_red",this.quick_red_gdt=this.video_host+"/quick_red",this.limit_time_page=this._url_cPlus+"/limit_time/page",this.limit_time_sign_up=this._url_cPlus+"/limit_time/sign_up",this.limit_time_get_award=this._url_cPlus+"/limit_time/get_award",this.limit_time_get_award_gdt=this.video_host+"/limit_time/get_award",this.check_video=this.video_host+"/check_video",this.update_game_info=this._url_cPlus+"/update_game_info",this.game_info=this._url_cPlus+"/game_info",this.war_win=this._url_cPlus+"/war_win",this.upgrade=this._url_cPlus+"/upgrade",this.fu_page=this._url_cPlus+"/fu/page",this.fu_video_award=this.video_host+"/fu/video_award",this.fu_get_award=this._url_cPlus+"/fu/get_award",this.fu_withdraw=this._url_cPlus+"/fu/withdraw",this.fu_daka=this.video_host+"/fu/daka",this.box_page=this._url_cPlus+"/box/page",this.box_signle_award=this._url_cPlus+"/box/single_award",this.box_recover=this._url_cPlus+"/box/recover",this.box_multi_award=this.video_host+"/box/multi_award",this.box_daka=this.video_host+"/box/daka",this.box_withdraw=this._url_cPlus+"/box/withdraw",this.bar_page_data=this._url_cPlus+"/bar_page_data",this.bar_withdraw=this._url_cPlus+"/bar_withdraw",this.first_withdraw=this._url_cPlus+"/first_withdraw",this.sign_video=this._url_cPlus+"/sign_video",this.sign_video_gdt=this.video_host+"/sign_video",this.sign_withdraw=this._url_cPlus+"/sign_withdraw",this.tree_page=this._url_cPlus+"/tree/page",this.tree_shake=this._url_cPlus+"/tree/shake",this.tree_withdraw=this._url_cPlus+"/tree/withdraw",this.tree_daka=this.video_host+"/tree/daka",this.task_dd=this._url_cPlus+"/task/dd"},getWebLoginData:function(t){console.log("========[\u767b\u5f55\u6570\u636e]]========",t),this.getWebData(t),gMainMgr.setChannel()},getWebData:function(t){if(console.log("getWebData",t),!util.checkSameDay(gameData.get("_lastLoginTime"))){var e=(new Date).getTime();gameData.set("_lastLoginTime",e),gameData.set("gBOpenShare",!1),gameData.set("redpic",0),gameData.set("fullcnt",0),gameData.openThousand?gameData.set("openThousand","open"):gameData.set("openThousand",!0),gameData.set("clickCoinCount",0),gameData.set("clickSoliderCount",0),gameData.set("quickm",0),gameData.set("quickc",0),gameData.set("mergeDayCnt",0),gameData.set("freeRedDay",0),gameData.set("TreeDayCnt",Number(t.data.daily_shake_tree_cnt)),gameData.set("gBoxBTodayToClockIn",!1),util.checkContinuityDay(gameData.get("_lastLoginTime"))||gameData.set("gBoxToClockInCount",0)}this.game_infoCallBack(function(t){gameData.red_balance<=Number(t.data.red_balance)&&(gameData.set("soldiers",t.data.merge_info),gameData.set("canBuySoldier",t.data.soldier_balance),gameData.set("red_balance",t.data.red_balance),gameData.set("current_check_point",Number(t.data.current_check_point)),gameData.set("maxSoldiersLv",Number(t.data.level)))},function(){}),gameData.set("userid",t.data.user_id),gameData.set("token",t.data.api_token),gameData.set("headWeb",t.data.avatar_url),gameData.set("nickname",t.data.wx_nickname),gameData.set("openid",t.data.openid),gameData.set("unionid",t.data.unionid),gameData.set("gChannel",t.data.channel),gameData.set("cellphone",t.data.cellphone),gameData.set("share_url",t.data.share_url),gameData.set("average_award",t.data.average_award),gameData.set("remain_video_soldier_cnt",Number(t.data.remain_video_soldier_cnt)),gameData.set("daily_fast_merge_cnt",Number(t.data.daily_fast_merge_cnt)),gameData.set("daily_fast_check_point_cnt",Number(t.data.daily_fast_check_point_cnt)),gameData.set("video_soldier_cnt",Number(t.data.video_soldier_cnt)),gameData.set("upgrade_soldier_level",Number(t.data.upgrade_soldier_level)),gameData.set("upgrade_soldier_gl",Number(t.data.upgrade_soldier_gl)),gameData.set("remain_video_solider_cnt",Number(t.data.remain_video_solider_cnt)),gameData.set("create_time",Number(t.data.create_time)),gameData.set("airdrop_red_detail",t.data.airdrop_red_detail),gameData.set("airdrop_friend_icon",t.data.airdrop_friend_icon),gameData.set("airdrop_thousand_icon",t.data.airdrop_thousand_icon),gameData.set("airdrop_profit_icon",t.data.airdrop_profit_icon),gameData.set("airdrop_download_icon",t.data.airdrop_download_icon),gameData.set("remain_war_win_extra_award_cnt",Number(t.data.remain_war_win_extra_award_cnt)),gameData.set("daily_war_win_cnt",Number(t.data.daily_war_win_cnt)),gameData.set("remain_airdrop_video_cnt",Number(t.data.remain_airdrop_video_cnt)),util.checkSameDay(1e3*gameData.create_time)?gameData.set("airdrop_video_gl",Number(t.data.new_people_airdrop_video_gl)):gameData.set("airdrop_video_gl",Number(t.data.airdrop_video_gl)),gameData.set("unlock_soldier_level",Number(t.data.unlock_soldier_level)),gameData.set("unlock_soldier_cnt",Number(t.data.unlock_soldier_cnt)),gameData.set("red_setting",t.data.red_setting),gameData.set("daily_merge_red_cnt",Number(t.data.daily_merge_red_cnt)),gameData.set("remain_rand_cnt",Number(t.data.remain_rand_cnt)),gameData.set("remain_quick_red_percent_video_cnt",Number(t.data.remain_quick_red_percent_video_cnt)),gameData.set("daily_down_red_cnt",Number(t.data.daily_down_red_cnt)),gameData.set("open_down_red_level",Number(t.data.open_down_red_level)),gameData.set("down_red_gl",Number(t.data.down_red_gl)),gameData.set("open_fujiang_level",Number(t.data.open_fujiang_level)),gameData.set("fujiang_gl",Number(t.data.fujiang_gl)),gameData.set("store_soldier_cnt",Number(t.data.store_soldier_cnt)),gameData.set("soldier_recover_time",Number(t.data.soldier_recover_time)),gameData.set("fast_soldier_fly_cnt",Number(t.data.fast_soldier_fly_cnt)),gameData.set("daily_red_spring_cnt",Number(t.data.daily_red_spring_cnt)),gameData.set("daily_fast_product_soldier_cnt",Number(t.data.daily_fast_product_soldier_cnt)),gameData.set("airdrop_fujiang_icon",t.data.airdrop_fujiang_icon),gameData.set("airdrop_box_icon",t.data.airdrop_box_icon),gameData.set("airdrop_shake_icon",t.data.airdrop_shake_icon),gameData.set("fast_produce_soldier_cool_time",Number(t.data.fast_produce_soldier_cool_time)),gameData.set("red_spring_cool_time",t.data.red_spring_cool_time),gameData.set("box_single_recove_time",Number(t.data.box_single_recove_time)),gameData.set("is_must_withdraw",t.data.is_must_withdraw),gameData.set("dioShowAdgl",parseInt(t.data.show_ad_gl)),gameData.set("shareUrl",t.data.share_url),gameData.set("shareType","A"==t.data.share_type),gameData.set("daily_friend_dialog_cnt",t.data.daily_friend_dialog_cnt),gameData.set("fast_click_detail",t.data.fast_click_detail),gameData.set("fast_click_gl",t.data.fast_click_gl),gameData.set("game_list",t.data.game_list),gameData.set("remain_win_cnt",Number(t.data.remain_win_cnt)),gameData.set("remain_fast_soldier_video_cnt",Number(t.data.remain_fast_soldier_video_cnt)),gameData.set("remain_spring_video_cnt",Number(t.data.remain_spring_video_cnt)),gameData.set("daily_online_cnt",Number(t.data.daily_online_cnt)),gameData.set("up_ad_gl",Number(t.data.up_ad_gl)),gameData.set("error_touch_time",1e3*Number(t.data.error_touch_time)),gameData.set("check_point_setting",t.data.check_point_setting),gameData.set("war_move_time",Number(t.data.war_move_time)),gameData.set("is_process_dialog_text","y"==t.data.is_process_dialog_text),gameData.set("daily_process_dialog_text_cnt",Number(t.data.daily_process_dialog_text_cnt)),gameData.set("process_dialog_text_gl",Number(t.data.process_dialog_text_gl));var i=t.data.fast_check_point_cnt_range;gameData.set("fast_check_point_cnt_min",Number(i.split("-")[0])),gameData.set("fast_check_point_cnt_max",Number(i.split("-")[1])),gameData.set("auto_merge_level",Number(t.data.auto_merge_level)),gameData.set("auto_merge_time",Number(t.data.auto_merge_time)),gameData.set("remain_auto_merge_cnt",Number(t.data.remain_auto_merge_cnt)),gameData.set("remain_free_upgrade_cnt",Number(t.data.remain_free_upgrade_cnt)),gameData.set("appear_ad_time",1e3*Number(t.data.appear_ad_time)),gameData.set("effect_interval_time_range",t.data.effect_interval_time_range),gameData.set("effect_interval_time_range2",t.data.effect_interval_time_range2),gameData.set("oppo_channel_review","y"==t.data.oppo_channel_review),gameData.set("vivo_channel_review","y"==t.data.vivo_channel_review),gameData.set("ios_pingfen_percent",Number(t.data.ios_pingfen_percent)),gameData.set("remain_percent_cnt",Number(t.data.remain_percent_cnt)),gameData.set("friend_dialog_level",Number(t.data.friend_dialog_level)),gameData.set("friend_dialog_gl",Number(t.data.friend_dialog_gl)),gMainMgr.connect(),gameData.set("isLogin",!0),gameData.set("_initFinish",!0),gameData.storeValue("isLogin")},toHTTPPost:function(t,e,i,n,a,o){e();var s=t;a||(s.api_token||(s.api_token=gameData.token),s.user_id||(s.user_id=gameData.userid),s.timestamp=util.getNow(),s.hotversion=gMainMgr.VERSION),o=o?this._gdti:"GET",console.log("toHTTPPost",o,n,s),HTTP[o](n,s,function(t){t&&!t.ErrCode&&-1e4!=t.code?e&&e(t):(console.log("[\u8fd4\u56deWEB\u9519\u8bef]",t),i&&i())},function(t){t||((t={}).message="\u7f51\u7edc\u8fde\u63a5\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5",t.code="notNet"),console.log("[\u8fd4\u56deHTTP\u9519\u8bef]:",t.message),"Unauthorized:ApiAuth"!=t.code?"CloseGame"!=t.code?(t.code,i&&i(t)):(util.showTip("\u53d1\u73b0\u65b0\u7248\u672c\uff0c\u51c6\u5907\u91cd\u65b0\u542f\u52a8"),setTimeout(function(){cc.game.end()},3e3)):(gameData.set("ifGuide",!1),gameData.set("userid",null),gameData.storeValue("userid"),gameData.set("webtoken",null),gameData.storeValue("webtoken"),nativeData.hideBanner(),nativeData.hideFeed())},!a)},wxCallBackCode:function(t,e,i,n,a){var o,s=nativeData.getDerviceID(),r=nativeData.getChannelCode(),c=nativeData.getBindData();993==r&&(s=nativeData.getXWDerviceID()),util.isIos()&&(r||(r=998)),console.log("[\u767b\u9646\u6e20\u9053]",r),gameData.set("localChannel",r),gameData.storeValue("localChannel");var l="android";util.isIos()&&(l="ios"),o=a?{debug:136682009,openid:12345678,channel:1}:{openid:t,access_token:e,device_id:s,timestamp:util.getNow(),channel:r,imei1:nativeData.getImei(0),imei2:nativeData.getImei(1),mac:nativeData.getMac(),client_type:l,parent_id:c.invitation,msaoaid:nativeData.getOAID(),param_channel:r},a=!1,this.toHTTPPost(o,function(t){UICtrl.closeUI("uiLoading/uiWXLogin"),i&&i(t)},function(t){n&&n(t),util.showTip(t.message)},this.wx_login,a)},userinfoCallBack:function(t,e,i,n){var a=nativeData.getChannelCode();console.log("[\u767b\u9646\u6e20\u9053]",a),gameData.set("localChannel",a),gameData.storeValue("localChannel");var o={user_id:t,api_token:e,timestamp:util.getNow(),imei1:nativeData.getImei(0),imei2:nativeData.getImei(1),mac:nativeData.getMac(),param_channel:a};this.toHTTPPost(o,function(t){i&&i(t)},function(t){n&&n(t)},this.userinfo)},registerCallBack:function(t,e,i,n,a){var o=nativeData.getChannelCode();console.log("[\u767b\u9646\u6e20\u9053]",o),gameData.set("localChannel",o),gameData.storeValue("localChannel");var s=nativeData.getDerviceID(),r=nativeData.getBindData(),c={phone:t,code:e,password:i,channel:o,client_type:"android",device_id:s,imei1:nativeData.getImei(0),imei2:nativeData.getImei(1),mac:nativeData.getMac(),parent_id:r.invitation};this.toHTTPPost(c,function(t){n&&n(t)},function(t){a&&a(t)},this.register)},loginCallBack:function(t,e,i,n){var a=nativeData.getChannelCode();console.log("[\u767b\u9646\u6e20\u9053]",a),gameData.set("localChannel",a),gameData.storeValue("localChannel");var o={phone:t,password:e};this.toHTTPPost(o,function(t){i&&i(t)},function(t){n&&n(t)},this.login)},buy_soldierCallBack:function(t,e,i){var n={type:t};this.toHTTPPost(n,function(t){e&&e(t)},function(t){e&&i(t)},this.buy_soldier)},mergeCallBack:function(t,e,i,n,a){var o={type:t,position1:e,position2:i};this.toHTTPPost(o,function(t){n&&n(t)},function(t){a&&a(t)},this.merge)},recycle_soldierCallBack:function(t,e,i,n){var a={type:t,position:e};this.toHTTPPost(a,function(t){i(t)&&i(t)},function(t){n&&n(t)},this.recycle_soldier)},recover_soldierCallBack:function(t,e,i){var n={type:t};this.toHTTPPost(n,function(t){e&&e(t)},function(t){i&&i(t)},this.recover_soldier)},airdrop_awardCallBack:function(t,e,i,n,a){var o={is_video:t,type:e,position:i,video_type:G_VIDEO_TYPE[nativeData.network_firm_id],video_id:nativeData.network_placement_id};this.toHTTPPost(o,function(t){n&&n(t)},function(t){a&&a(t)},G_VIDEO_INTER[nativeData.network_firm_id]?this.airdrop_award_gdt:this.airdrop_award,!1,G_VIDEO_INTER[nativeData.network_firm_id])},sign_listCallBack:function(t){t({data:{list:[{desc:"\u7b2c\u4e00\u5929",is_today:!1,is_sign:!0,process:5},{desc:"\u7b2c\u4e8c\u5929",is_today:!0,is_sign:!1,process:10},{desc:"\u7b2c\u4e09\u5929",is_today:!1,is_sign:!1,process:10},{desc:"\u7b2c\u56db\u5929",is_today:!1,is_sign:!1,process:15},{desc:"\u7b2c\u4e94\u5929",is_today:!1,is_sign:!1,process:15},{desc:"\u7b2c\u516d\u5929",is_today:!1,is_sign:!1,process:20},{desc:"\u7b2c\u4e03\u5929",is_today:!1,is_sign:!1,process:25}],extra_reward:[]}})},sign_rewardCallBack:function(t){t({data:{change_amount:10}})},task_daily_listCallBack:function(t){t({data:[{tid:1,task_desc:"\u4efb\u52a1\u63cf\u8ff01",current_count:5,total_count:10,status:1,is_enter:!1,task_key:1},{tid:2,task_desc:"\u4efb\u52a1\u63cf\u8ff02",current_count:0,total_count:10,status:1,is_enter:!1,task_key:2},{tid:3,task_desc:"\u4efb\u52a1\u63cf\u8ff03",current_count:0,total_count:10,status:1,is_enter:!1,task_key:3},{tid:4,task_desc:"\u4efb\u52a1\u63cf\u8ff04",current_count:0,total_count:10,status:1,is_enter:!1,task_key:4},{tid:5,task_desc:"\u4efb\u52a1\u63cf\u8ff05",current_count:0,total_count:10,status:1,is_enter:!1,task_key:5},{tid:6,task_desc:"\u4efb\u52a1\u63cf\u8ff06",current_count:0,total_count:10,status:1,is_enter:!1,task_key:6}]})},task_achieve_listCallBack:function(t){t({data:[{tid:1,task_desc:"\u4efb\u52a1\u63cf\u8ff01",current_count:5,total_count:10,status:1,is_enter:!1,task_key:1},{tid:2,task_desc:"\u4efb\u52a1\u63cf\u8ff02",current_count:0,total_count:10,status:1,is_enter:!1,task_key:2},{tid:3,task_desc:"\u4efb\u52a1\u63cf\u8ff03",current_count:0,total_count:10,status:1,is_enter:!1,task_key:3},{tid:4,task_desc:"\u4efb\u52a1\u63cf\u8ff04",current_count:0,total_count:10,status:1,is_enter:!1,task_key:4},{tid:5,task_desc:"\u4efb\u52a1\u63cf\u8ff05",current_count:0,total_count:10,status:1,is_enter:!1,task_key:5},{tid:6,task_desc:"\u4efb\u52a1\u63cf\u8ff06",current_count:0,total_count:10,status:1,is_enter:!1,task_key:6}]})},online_statusCallBack:function(t){t({data:{remain_time:160,remain_cnt:0}})},online_rewardCallBack:function(t,e,i){var n={is_video:t,video_type:G_VIDEO_TYPE[nativeData.network_firm_id],video_id:nativeData.network_placement_id};this.toHTTPPost(n,function(t){e(t)},function(t){i(t)},G_VIDEO_INTER[nativeData.network_firm_id]?this.online_reward_gdt:this.online_reward,!1,G_VIDEO_INTER[nativeData.network_firm_id])},rand_awardCallBack:function(t,e){var i={is_video:"y",video_type:G_VIDEO_TYPE[nativeData.network_firm_id],video_id:nativeData.network_placement_id};this.toHTTPPost(i,function(e){t(e)},function(t){e(t)},G_VIDEO_INTER[nativeData.network_firm_id]?this.rand_award_gdt:this.rand_award,!1,G_VIDEO_INTER[nativeData.network_firm_id])},video_add_soldierCallBack:function(t,e,i){var n={type:t,is_video:"y",video_type:G_VIDEO_TYPE[nativeData.network_firm_id],video_id:nativeData.network_placement_id};this.toHTTPPost(n,function(t){e(t)},function(t){i(t)},G_VIDEO_INTER[nativeData.network_firm_id]?this.video_add_soldier_gdt:this.video_add_soldier,!1,G_VIDEO_INTER[nativeData.network_firm_id])},video_soldier_cntCallBack:function(t,e,i){var n={type:t};this.toHTTPPost(n,function(t){e(t)},function(t){i(t)},this.video_soldier_cnt)},video_upgradeCallBack:function(t,e){var i={is_video:"y",video_type:G_VIDEO_TYPE[nativeData.network_firm_id],video_id:nativeData.network_placement_id};this.toHTTPPost(i,function(e){t(e)},function(t){e(t)},G_VIDEO_INTER[nativeData.network_firm_id]?this.video_upgrade_gdt:this.video_upgrade,!1,G_VIDEO_INTER[nativeData.network_firm_id])},luck_play_listCallBack:function(t){t({data:{lottery_cnt_remain:3,list:[{reward_key:1,reward_type:"red",reward_rule:"1",reward_name:"\u4e00\u4e2a\u7ea2\u5305"},{reward_key:2,reward_type:"red",reward_rule:"2",reward_name:"\u5c11\u91cf\u7ea2\u5305"},{reward_key:3,reward_type:"red",reward_rule:"3",reward_name:"\u5927\u91cf\u7ea2\u5305"},{reward_key:4,reward_type:"red",reward_rule:"4",reward_name:"\u4e00\u5806\u7ea2\u5305"},{reward_key:5,reward_type:"gift_box",reward_rule:"1",reward_name:"\u795e\u79d8\u5b9d\u7bb1"},{reward_key:6,reward_type:"gift_box",reward_rule:"2",reward_name:"\u795e\u79d8\u5b9d\u7bb1"},{reward_key:7,reward_type:"gift_box",reward_rule:"3",reward_name:"\u795e\u79d8\u5b9d\u7bb1"},{reward_key:8,reward_type:"gift_box",reward_rule:"4",reward_name:"\u795e\u79d8\u5b9d\u7bb1"}]}})},luck_play_playCallBack:function(t){t({data:{reward_key:5,lottery_cnt:1,reward_type:"gift_box",process_bar:10,change_amount:10,amount:5}})},profitCallBack:function(t,e){this.toHTTPPost({},function(e){t(e)},function(t){e(t)},this.profit)},check_pointsCallBack:function(t,e){this.toHTTPPost({},function(e){t(e)},function(t){e(t)},this.check_points)},task_daily_rewardCallBack:function(t,e,i){var n={task_key:t,is_video:"y",video_type:G_VIDEO_TYPE[nativeData.network_firm_id],video_id:nativeData.network_placement_id};this.toHTTPPost(n,function(t){e(t)},function(t){i(t)},G_VIDEO_INTER[nativeData.network_firm_id]?this.task_daily_reward_gdt:this.task_daily_reward,!1,G_VIDEO_INTER[nativeData.network_firm_id])},task_achieve_rewardCallBack:function(t,e,i){var n={task_key:t,is_video:"y",video_type:G_VIDEO_TYPE[nativeData.network_firm_id],video_id:nativeData.network_placement_id};this.toHTTPPost(n,function(t){e(t)},function(t){i(t)},G_VIDEO_INTER[nativeData.network_firm_id]?this.task_achieve_reward_gdt:this.task_achieve_reward,!1,G_VIDEO_INTER[nativeData.network_firm_id])},upgrade_redCallBack:function(t,e){var i={is_video:"y",video_type:G_VIDEO_TYPE[nativeData.network_firm_id],video_id:nativeData.network_placement_id};this.toHTTPPost(i,function(e){t(e)},function(t){e(t)},G_VIDEO_INTER[nativeData.network_firm_id]?this.upgrade_red_gdt:this.upgrade_red,!1,G_VIDEO_INTER[nativeData.network_firm_id])},thousand_red_red_listCallBack:function(t){t({})},thousand_red_withdrawCallBack:function(t,e){this.toHTTPPost({},function(e){t(e)},function(t){e(t)},this.thousand_red_withdraw)},profit_indexCallBack:function(t){t({data:gameData.uiNewBonusData})},video_awardCallBack:function(t){t()},profit_withdrawCallBack:function(t,e,i,n){var a={amount_id:t,amount:e};this.toHTTPPost(a,function(t){i(t)},function(t){n(t)},this.profit_withdraw)},auto_mergeCallBack:function(t,e){var i={is_video:"y",video_type:G_VIDEO_TYPE[nativeData.network_firm_id],video_id:nativeData.network_placement_id};this.toHTTPPost(i,function(e){t(e)},function(t){e(t)},G_VIDEO_INTER[nativeData.network_firm_id]?this.auto_merge_gdt:this.auto_merge,!1,G_VIDEO_INTER[nativeData.network_firm_id])},soldier_infoCallBack:function(t,e,i){var n={type:t};this.toHTTPPost(n,function(t){e(t)},function(t){i(t)},this.soldier_info)},profit_rankCallBack:function(t,e,i,n){var a={type:t,page:e,size:7};this.toHTTPPost(a,function(t){i(t)},function(t){n(t)},this.profit_rank)},close_airdropCallBack:function(t,e,i,n){var a={type:t,position:e};this.toHTTPPost(a,function(t){i(t)},function(t){n(t)},this.close_airdrop)},task_shareCallBack:function(t,e){this.toHTTPPost({},function(e){t(e)},function(t){e(t)},this.task_share)},touristsCallBack:function(t,e){var i={device_id:nativeData.getDerviceID(),channel:998,timestamp:util.getNow(),imei1:nativeData.getImei(0),imei2:nativeData.getImei(1),mac:nativeData.getMac(),client_type:"ios",parent_id:null};this.toHTTPPost(i,function(e){UICtrl.closeUI("uiLoading/uiWXLogin"),t(e)},function(t){e(t)},this.tourists_login)},clear_position_iconCallBack:function(t,e,i,n){var a={type:t,position:e};this.toHTTPPost(a,function(t){i(t)},function(t){n(t)},this.clear_position_icon)},quick_redCallBack:function(t,e,i,n){var a={type:t,position:e,is_video:"y",video_type:G_VIDEO_TYPE[nativeData.network_firm_id],video_id:nativeData.network_placement_id};this.toHTTPPost(a,function(t){i(t)},function(t){n(t)},G_VIDEO_INTER[nativeData.network_firm_id]?this.quick_red_gdt:this.quick_red,!1,G_VIDEO_INTER[nativeData.network_firm_id])},limit_time_pageCallBack:function(t,e){this.toHTTPPost({},function(e){t(e)},function(t){e(t)},this.limit_time_page)},limit_time_sign_upCallBack:function(t,e){this.toHTTPPost({},function(e){t(e)},function(t){e(t)},this.limit_time_sign_up)},limit_time_get_awardCallBack:function(t,e,i){var n={award:t,is_video:"y",video_type:G_VIDEO_TYPE[nativeData.network_firm_id],video_id:nativeData.network_placement_id};this.toHTTPPost(n,function(t){e(t)},function(t){i(t)},G_VIDEO_INTER[nativeData.network_firm_id]?this.limit_time_get_award_gdt:this.limit_time_get_award,!1,G_VIDEO_INTER[nativeData.network_firm_id])},onRecover_barPageDataCallBack:function(t){t(gameData.uiLevelRedData)},onRecover_barWithdrawCallBack:function(t,e){var n=gameData.uiLevelRedData.process_bar_list.findIndex(function(e){return e.level==t}),a=gameData.uiLevelRedData.process_bar_list[n];console.log("onRecover_barWithdrawCallBack",t,a),i.tixian(a.amount,"\u7b49\u7ea7\u7ea2\u5305",!1,function(){gameData.uiLevelRedData.process_bar_list[n].status="done",gameData.set("uiLevelRedData",gameData.uiLevelRedData),e(),i.uoDataToCloud()},function(){})},onRecover_firstWithdrawCallBack:function(t,e){i.tixian(t,"\u7b49\u7ea7\u7ea2\u5305\u5151\u6362",!0,function(){e(),i.uoDataToCloud()},function(){})},sign_withdrawCallBack:function(t,e){i.tixian(t,"\u7ea2\u5305\u52b5\u5151\u6362",!0,function(){e(),i.uoDataToCloud()},function(){})},sign_videoCallBack:function(t,e){var i={is_video:"y",video_type:G_VIDEO_TYPE[nativeData.network_firm_id],video_id:nativeData.network_placement_id};this.toHTTPPost(i,function(e){t(e)},function(t){e(t)},this.sign_video_gdt,!1,G_VIDEO_INTER[nativeData.network_firm_id])},getAPKURL:function(){var t=nativeData.getChannelCode();return t?this._downApkUrl+"-"+t+".apk":this._downApkUrl+"-1.apk"},onRecover_inviteFriendPageDataCallBack:function(t){this.toHTTPPost({},function(e){t&&t(e.data)},function(t){t&&util.showTip(t.message)},this.friend_page_data)},onRecover_inviteFriendWalletCallBack:function(t){this.toHTTPPost({},function(e){t&&t(e.data)},function(t){t&&util.showTip(t.message)},this.friend_wallet)},onRecover_inviteFriendWithDrawCallBack:function(t){this.toHTTPPost({},function(e){t&&t(e.data)},function(t){t&&util.showTip(t.message)},this.friend_withdraw)},onRecover_inviteFriendRedLogCallBack:function(t){this.toHTTPPost({},function(e){t&&t(e.data)},function(t){t&&util.showTip(t.message)},this.friend_red_log)},onRecover_recruitFriendTaskCallBack:function(t){this.toHTTPPost({},function(e){t&&t(e.data)},function(t){t&&util.showTip(t.message)},this.friend_recruit_task)},onRecover_recruitFriendTaskAwardCallBack:function(t,e){var i={user_id:gameData.userid,friend_cnt:t};this.toHTTPPost(i,function(t){e&&e(t.data)},function(t){t&&util.showTip(t.message)},this.friend_recruit_task_award)},onRecover_friendContributionLogCallBack:function(t,e){var i={user_id:gameData.userid,month:t};this.toHTTPPost(i,function(t){e&&e(t.data)},function(t){t&&util.showTip(t.message)},this.friend_contribution_log)},onRecover_friendOneChildListCallBack:function(t,e,i,n,a){var o={user_id:gameData.userid,friend_type:t,page:e,page_size:i};this.toHTTPPost(o,function(t){n&&n(t.data)},function(t){t&&util.showTip(t.message),a&&a()},this.friend_oneChild_list)},onRecover_friendParentInfoCallBack:function(t){this.toHTTPPost({},function(e){t&&t(e.data)},function(t){t&&util.showTip(t.message)},this.friend_parent_info)},onRecover_friendChildInfoCallBack:function(t,e,i){var n={user_id:gameData.userid,child_user_id:e,child_type:t};this.toHTTPPost(n,function(t){i&&i(t.data)},function(t){t&&util.showTip(t.message)},this.friend_child_info)},onRecover_friendGetContributeCallBack:function(t,e){this.toHTTPPost({},function(e){t&&t(e.data)},function(t){e&&e(t)},this.friend_get_contribute)},onRecover_friendValidActivePageCallBack:function(t){this.toHTTPPost({},function(e){t&&t(e.data)},function(t){util.showTip(t.message)},this.friend_vaild_active_page)},onRecover_friendValidActiveAwardCallBack:function(t,e){this.toHTTPPost({},function(e){t&&t(e.data)},function(t){t&&t.message&&util.showTip(t.message),e&&e(t)},this.friend_valid_active_award)},check_videoCallBack:function(t,e){e()},update_game_infoCallBack:function(){i.uoDataToCloud()},game_infoCallBack:function(t,e){this.toHTTPPost({},function(e){t&&t(e)},function(t){e&&e(t)},this.game_info)},onRecover_sendWarWin:function(t,e,i){var n={check_point:""+t};this.toHTTPPost(n,function(t){e&&e(t.data)},function(t){i&&i(t)},this.war_win)},upgradeCallBack:function(t){var e={level:t};this.toHTTPPost(e,function(){},function(){},this.upgrade)},fu_pageCallBack:function(t){t({data:{fu_red_balance:20,remain_cnt:3,daily_fu_video_cnt:4,sign_total_days:10,user_sign_cnt:1,today_video_cnt:1,video_config_cnt:5,user_sign_status:"today_done",list:{1:{status:"done",red_amount:1,process_bar:100},2:{status:"waiting",red_amount:1,process_bar:10},3:{status:"doing",red_amount:1,process_bar:10},4:{status:"doing",red_amount:1,process_bar:10},5:{status:"doing",red_amount:1,process_bar:10},6:{status:"doing",red_amount:1,process_bar:10},7:{status:"doing",red_amount:1,process_bar:10},8:{status:"doing",red_amount:1,process_bar:10},9:{status:"doing",red_amount:1,process_bar:10},10:{status:"doing",red_amount:1,process_bar:10},11:{status:"doing",red_amount:1,process_bar:10},12:{status:"doing",red_amount:1,process_bar:10},13:{status:"doing",red_amount:1,process_bar:10},14:{status:"doing",red_amount:1,process_bar:10},15:{status:"doing",red_amount:1,process_bar:10},16:{status:"doing",red_amount:1,process_bar:10},17:{status:"doing",red_amount:1,process_bar:10},18:{status:"doing",red_amount:1,process_bar:10},19:{status:"doing",red_amount:1,process_bar:10},20:{status:"doing",red_amount:1,process_bar:10},21:{status:"doing",red_amount:1,process_bar:10},22:{status:"doing",red_amount:1,process_bar:10},23:{status:"doing",red_amount:1,process_bar:10},24:{status:"doing",red_amount:1,process_bar:10}}}})},fu_video_awardCallBack:function(t,e){var i={is_video:"y",video_type:G_VIDEO_TYPE[nativeData.network_firm_id],video_id:nativeData.network_placement_id};this.toHTTPPost(i,function(e){t&&t(e)},function(t){e&&e(t)},this.fu_video_award,!1,G_VIDEO_INTER[nativeData.network_firm_id])},fu_get_awardCallBack:function(t,e,i){var n={num:t};this.toHTTPPost(n,function(t){e&&e(t)},function(t){i&&i(t)},this.fu_get_award)},fu_withdrawCallBack:function(t,e){this.toHTTPPost({},function(e){t&&t(e)},function(t){e&&e(t)},this.fu_withdraw)},fu_dakaCallBack:function(t,e){var i={is_video:"y",video_type:G_VIDEO_TYPE[nativeData.network_firm_id],video_id:nativeData.network_placement_id};this.toHTTPPost(i,function(e){t&&t(e)},function(t){e&&e(t)},this.fu_daka,!1,G_VIDEO_INTER[nativeData.network_firm_id])},onGetBoxRecoverCallBack:function(t,e,i){var n={cnt:t};this.toHTTPPost(n,function(t){e&&e(t.data)},function(t){i&&i(t)},this.box_recover)},onGetBoxPageCallBack:function(t){t({data:{user_sign_cnt:1,user_sign_status:"no",sign_total_days:5,today_video_cnt:3,video_config_cnt:6,box_min_withdraw_amount:1,remain_multi_cnt:3,remain_sigle_cnt:2,box_single_balance:2,box_single_store_cnt:7,box_red_balance:10}})},onGetBoxSignleAwardCallBack:function(t){t({box_single_balance:1,remain_cnt:1,box_red_balance:20,award:10})},onGetBoxMulitAwardCallBack:function(t){t({box_single_balance:1,remain_cnt:1,box_red_balance:200,award_total:200,small_award:[10,10,20,10,10,20,20,30,30,40],big_award:[]})},onBoxDakaCallBack:function(t,e){var i={is_video:"y",video_type:G_VIDEO_TYPE[nativeData.network_firm_id],video_id:nativeData.network_placement_id};this.toHTTPPost(i,function(e){t&&t(e.data)},function(t){e&&e(t)},this.box_daka,!1,G_VIDEO_INTER[nativeData.network_firm_id])},onBoxWithDrawCallBack:function(t,e){this.toHTTPPost({},function(e){t&&t(e.data)},function(t){e&&e(t)},this.box_withdraw)},tree_pageCallBack:function(t){t({data:{shake_min_withdraw_amount:20,shake_red_balance:10,remain_cnt:1,today_video_cnt:5,user_sign_cnt:1,sign_total_days:5,video_config_cnt:5,user_sign_status:"done"}})},tree_shakeCallBack:function(t){t({data:{remain_cnt:1,luck_type:"luck",award:10,shake_red_balance:20}})},tree_dakaCallBack:function(t,e){var i={is_video:"y",video_type:G_VIDEO_TYPE[nativeData.network_firm_id],video_id:nativeData.network_placement_id};this.toHTTPPost(i,function(e){t&&t(e)},function(t){e&&e(t)},this.tree_daka,!1,G_VIDEO_INTER[nativeData.network_firm_id])},tree_withdrawCallBack:function(t,e){this.toHTTPPost({},function(e){t&&t(e)},function(t){e&&e(t)},this.tree_withdraw)},task_ddCallBack:function(t){var e={task_key:t};this.toHTTPPost(e,function(){},function(){},this.task_dd)},getTouristData:function(){if(iosGameData.initSaveData(),!util.checkSameDay(iosGameData.get("_lastLoginTime"))){var t=(new Date).getTime();iosGameData.set("_lastLoginTime",t),iosGameData.gBTodaySign&&iosGameData.plus("gSignDay",1),iosGameData.set("gBTodaySign",!1),iosGameData.gSignDay>7&&iosGameData.set("gSignDay",1),iosGameData.set("iosGameData",0),iosGameData.set("gDailyTask",{}),iosGameData.set("noEnoughVideo",0)}gameData.set("ifGuide",!0),gMainMgr.setChannel()}});window.webData=new s,cc._RF.pop()},{"./NewDataMgr":"NewDataMgr",baseData:"baseData"}]},{},["GameSocket","Global","HTTP","NewDataMgr","SocketStruct","UICtrl","audioData","baseData","baseDlg","baseLayer","baseNode","csvData","dataClient","define","gGuideMgr","gMainMgr","gameData","generalCsvData","init","initDatas","iosGameData","ioslockheroCsvData","lockheroCsvData","main","md5","monsterBase","monsterCsvData","monsterHero","monsterMgr","mta_analysis","nativeData","nodeExitGame","nodeLoading","pointCsvData","protobuf","rankCsvData","runtime","shopCsvData","soldiersCsvData","soldiersIOSMgr","soldiersMgr","uiAdMsg","uiAlert","uiBattleEnd","uiBonusMsg","uiBonusRank","uiBonusWhat","uiBoxTenAward","uiBoxWallet","uiClickCd","uiContributionRecord","uiDraw1","uiEnemy","uiEventTask1","uiExit","uiFreeUp","uiFriendsRecruit","uiFullUpdate","uiGeneral","uiGetRed","uiGetRewardDlg","uiGuideLayer","uiHall","uiHeroInfo","uiHeroList","uiHotUpdate","uiIOSHall","uiIOSHeroInfo","uiIOSRank","uiIOSSetting","uiIOSSign","uiIOSTask","uiInvite","uiInviteActivity","uiInviteDlg","uiInviteFriendInfo","uiInviteMasterInfo","uiInviteRedWallet","uiInviteRule","uiInviteShare","uiLevelRed","uiLevelRedDesc","uiLevelRedWithDraw","uiLimit","uiMyWallet","uiMyWalletDetail","uiMyWalletMsg","uiNewBonus","uiOhter","uiOneFriends","uiOpenRed","uiPrivacyPolicy","uiRecycling","uiSavephoto","uiScrollView","uiScrollViewExt","uiSetting","uiShareImg","uiShop","uiShowShareData","uiSign","uiSoldiers","uiSoldiersDlg","uiSpeedUpDesc","uiStopWindow","uiThousandMsg","uiThousandRed","uiTree","uiUpdate","uiUserAgreement","uiWXLogin","uiWindowBase","util","webData"]);